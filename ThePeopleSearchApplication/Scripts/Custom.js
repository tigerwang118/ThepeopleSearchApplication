if ("undefined" == typeof jQuery) { throw new Error("Bootstrap requires jQuery") } +function (d) { function c() { var f = document.createElement("bootstrap"), e = { WebkitTransition: "webkitTransitionEnd", MozTransition: "transitionend", OTransition: "oTransitionEnd otransitionend", transition: "transitionend" }; for (var g in e) { if (void 0 !== f.style[g]) { return { end: e[g] } } } } d.fn.emulateTransitionEnd = function (a) { var h = !1, g = this; d(this).one(d.support.transition.end, function () { h = !0 }); var f = function () { h || d(g).trigger(d.support.transition.end) }; return setTimeout(f, a), this }, d(function () { d.support.transition = c() }) }(jQuery), +function (f) { var e = '[data-dismiss="alert"]', h = function (a) { f(a).on("click", e, this.close) }; h.prototype.close = function (a) { function m() { j.trigger("closed.bs.alert").remove() } var l = f(this), k = l.attr("data-target"); k || (k = l.attr("href"), k = k && k.replace(/.*(?=#[^\s]*$)/, "")); var j = f(k); a && a.preventDefault(), j.length || (j = l.hasClass("alert") ? l : l.parent()), j.trigger(a = f.Event("close.bs.alert")), a.isDefaultPrevented() || (j.removeClass("in"), f.support.transition && j.hasClass("fade") ? j.one(f.support.transition.end, m).emulateTransitionEnd(150) : m()) }; var g = f.fn.alert; f.fn.alert = function (a) { return this.each(function () { var c = f(this), b = c.data("bs.alert"); b || c.data("bs.alert", b = new h(this)), "string" == typeof a && b[a].call(c) }) }, f.fn.alert.Constructor = h, f.fn.alert.noConflict = function () { return f.fn.alert = g, this }, f(document).on("click.bs.alert.data-api", e, h.prototype.close) }(jQuery), +function (e) { var d = function (b, a) { this.$element = e(b), this.options = e.extend({}, d.DEFAULTS, a) }; d.DEFAULTS = { loadingText: "loading..." }, d.prototype.setState = function (h) { var g = "disabled", l = this.$element, k = l.is("input") ? "val" : "html", j = l.data(); h += "Text", j.resetText || l.data("resetText", l[k]()), l[k](j[h] || this.options[h]), setTimeout(function () { "loadingText" == h ? l.addClass(g).attr(g, g) : l.removeClass(g).removeAttr(g) }, 0) }, d.prototype.toggle = function () { var h = this.$element.closest('[data-toggle="buttons"]'), g = !0; if (h.length) { var j = this.$element.find("input"); "radio" === j.prop("type") && (j.prop("checked") && this.$element.hasClass("active") ? g = !1 : h.find(".active").removeClass("active")), g && j.prop("checked", !this.$element.hasClass("active")).trigger("change") } g && this.$element.toggleClass("active") }; var f = e.fn.button; e.fn.button = function (a) { return this.each(function () { var g = e(this), c = g.data("bs.button"), b = "object" == typeof a && a; c || g.data("bs.button", c = new d(this, b)), "toggle" == a ? c.toggle() : a && c.setState(a) }) }, e.fn.button.Constructor = d, e.fn.button.noConflict = function () { return e.fn.button = f, this }, e(document).on("click.bs.button.data-api", "[data-toggle^=button]", function (a) { var g = e(a.target); g.hasClass("btn") || (g = g.closest(".btn")), g.button("toggle"), a.preventDefault() }) }(jQuery), +function (e) { var d = function (a, g) { this.$element = e(a), this.$indicators = this.$element.find(".carousel-indicators"), this.options = g, this.paused = this.sliding = this.interval = this.$active = this.$items = null, "hover" == this.options.pause && this.$element.on("mouseenter", e.proxy(this.pause, this)).on("mouseleave", e.proxy(this.cycle, this)) }; d.DEFAULTS = { interval: 5000, pause: "hover", wrap: !0 }, d.prototype.cycle = function (a) { return a || (this.paused = !1), this.interval && clearInterval(this.interval), this.options.interval && !this.paused && (this.interval = setInterval(e.proxy(this.next, this), this.options.interval)), this }, d.prototype.getActiveIndex = function () { return this.$active = this.$element.find(".item.active"), this.$items = this.$active.parent().children(), this.$items.index(this.$active) }, d.prototype.to = function (a) { var h = this, g = this.getActiveIndex(); return a > this.$items.length - 1 || 0 > a ? void 0 : this.sliding ? this.$element.one("slid.bs.carousel", function () { h.to(a) }) : g == a ? this.pause().cycle() : this.slide(a > g ? "next" : "prev", e(this.$items[a])) }, d.prototype.pause = function (a) { return a || (this.paused = !0), this.$element.find(".next, .prev").length && e.support.transition.end && (this.$element.trigger(e.support.transition.end), this.cycle(!0)), this.interval = clearInterval(this.interval), this }, d.prototype.next = function () { return this.sliding ? void 0 : this.slide("next") }, d.prototype.prev = function () { return this.sliding ? void 0 : this.slide("prev") }, d.prototype.slide = function (r, q) { var p = this.$element.find(".item.active"), o = q || p[r](), n = this.interval, m = "next" == r ? "left" : "right", l = "next" == r ? "first" : "last", k = this; if (!o.length) { if (!this.options.wrap) { return } o = this.$element.find(".item")[l]() } this.sliding = !0, n && this.pause(); var a = e.Event("slide.bs.carousel", { relatedTarget: o[0], direction: m }); if (!o.hasClass("active")) { if (this.$indicators.length && (this.$indicators.find(".active").removeClass("active"), this.$element.one("slid.bs.carousel", function () { var c = e(k.$indicators.children()[k.getActiveIndex()]); c && c.addClass("active") })), e.support.transition && this.$element.hasClass("slide")) { if (this.$element.trigger(a), a.isDefaultPrevented()) { return } o.addClass(r), o[0].offsetWidth, p.addClass(m), o.addClass(m), p.one(e.support.transition.end, function () { o.removeClass([r, m].join(" ")).addClass("active"), p.removeClass(["active", m].join(" ")), k.sliding = !1, setTimeout(function () { k.$element.trigger("slid.bs.carousel") }, 0) }).emulateTransitionEnd(600) } else { if (this.$element.trigger(a), a.isDefaultPrevented()) { return } p.removeClass("active"), o.addClass("active"), this.sliding = !1, this.$element.trigger("slid.bs.carousel") } return n && this.cycle(), this } }; var f = e.fn.carousel; e.fn.carousel = function (a) { return this.each(function () { var j = e(this), h = j.data("bs.carousel"), c = e.extend({}, d.DEFAULTS, j.data(), "object" == typeof a && a), b = "string" == typeof a ? a : c.slide; h || j.data("bs.carousel", h = new d(this, c)), "number" == typeof a ? h.to(a) : b ? h[b]() : c.interval && h.pause().cycle() }) }, e.fn.carousel.Constructor = d, e.fn.carousel.noConflict = function () { return e.fn.carousel = f, this }, e(document).on("click.bs.carousel.data-api", "[data-slide], [data-slide-to]", function (a) { var m, l = e(this), k = e(l.attr("data-target") || (m = l.attr("href")) && m.replace(/.*(?=#[^\s]+$)/, "")), j = e.extend({}, k.data(), l.data()), h = l.attr("data-slide-to"); h && (j.interval = !1), k.carousel(j), (h = l.attr("data-slide-to")) && k.data("bs.carousel").to(h), a.preventDefault() }), e(window).on("load", function () { e('[data-ride="carousel"]').each(function () { var a = e(this); a.carousel(a.data()) }) }) }(jQuery), +function (e) { var d = function (b, a) { this.$element = e(b), this.options = e.extend({}, d.DEFAULTS, a), this.transitioning = null, this.options.parent && (this.$parent = e(this.options.parent)), this.options.toggle && this.toggle() }; d.DEFAULTS = { toggle: !0 }, d.prototype.dimension = function () { var b = this.$element.hasClass("width"); return b ? "width" : "height" }, d.prototype.show = function () { if (!this.transitioning && !this.$element.hasClass("in")) { var a = e.Event("show.bs.collapse"); if (this.$element.trigger(a), !a.isDefaultPrevented()) { var m = this.$parent && this.$parent.find("> .panel > .in"); if (m && m.length) { var l = m.data("bs.collapse"); if (l && l.transitioning) { return } m.collapse("hide"), l || m.data("bs.collapse", null) } var k = this.dimension(); this.$element.removeClass("collapse").addClass("collapsing")[k](0), this.transitioning = 1; var j = function () { this.$element.removeClass("collapsing").addClass("in")[k]("auto"), this.transitioning = 0, this.$element.trigger("shown.bs.collapse") }; if (!e.support.transition) { return j.call(this) } var h = e.camelCase(["scroll", k].join("-")); this.$element.one(e.support.transition.end, e.proxy(j, this)).emulateTransitionEnd(350)[k](this.$element[0][h]) } } }, d.prototype.hide = function () { if (!this.transitioning && this.$element.hasClass("in")) { var a = e.Event("hide.bs.collapse"); if (this.$element.trigger(a), !a.isDefaultPrevented()) { var h = this.dimension(); this.$element[h](this.$element[h]())[0].offsetHeight, this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"), this.transitioning = 1; var g = function () { this.transitioning = 0, this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse") }; return e.support.transition ? (this.$element[h](0).one(e.support.transition.end, e.proxy(g, this)).emulateTransitionEnd(350), void 0) : g.call(this) } } }, d.prototype.toggle = function () { this[this.$element.hasClass("in") ? "hide" : "show"]() }; var f = e.fn.collapse; e.fn.collapse = function (a) { return this.each(function () { var g = e(this), c = g.data("bs.collapse"), b = e.extend({}, d.DEFAULTS, g.data(), "object" == typeof a && a); c || g.data("bs.collapse", c = new d(this, b)), "string" == typeof a && c[a]() }) }, e.fn.collapse.Constructor = d, e.fn.collapse.noConflict = function () { return e.fn.collapse = f, this }, e(document).on("click.bs.collapse.data-api", "[data-toggle=collapse]", function (r) { var q, p = e(this), o = p.attr("data-target") || r.preventDefault() || (q = p.attr("href")) && q.replace(/.*(?=#[^\s]+$)/, ""), n = e(o), m = n.data("bs.collapse"), l = m ? "toggle" : p.data(), k = p.attr("data-parent"), a = k && e(k); m && m.transitioning || (a && a.find('[data-toggle=collapse][data-parent="' + k + '"]').not(p).addClass("collapsed"), p[n.hasClass("in") ? "addClass" : "removeClass"]("collapsed")), n.collapse(l) }) }(jQuery), +function (j) { function h() { j(n).remove(), j(m).each(function (a) { var c = o(j(this)); c.hasClass("open") && (c.trigger(a = j.Event("hide.bs.dropdown")), a.isDefaultPrevented() || c.removeClass("open").trigger("hidden.bs.dropdown")) }) } function o(a) { var f = a.attr("data-target"); f || (f = a.attr("href"), f = f && /#/.test(f) && f.replace(/.*(?=#[^\s]*$)/, "")); var e = f && j(f); return e && e.length ? e : a.parent() } var n = ".dropdown-backdrop", m = "[data-toggle=dropdown]", l = function (a) { j(a).on("click.bs.dropdown", this.toggle) }; l.prototype.toggle = function (p) { var c = j(this); if (!c.is(".disabled, :disabled")) { var b = o(c), a = b.hasClass("open"); if (h(), !a) { if ("ontouchstart" in document.documentElement && !b.closest(".navbar-nav").length && j('<div class="dropdown-backdrop"/>').insertAfter(j(this)).on("click", h), b.trigger(p = j.Event("show.bs.dropdown")), p.isDefaultPrevented()) { return } b.toggleClass("open").trigger("shown.bs.dropdown"), c.focus() } return !1 } }, l.prototype.keydown = function (a) { if (/(38|40|27)/.test(a.keyCode)) { var r = j(this); if (a.preventDefault(), a.stopPropagation(), !r.is(".disabled, :disabled")) { var q = o(r), p = q.hasClass("open"); if (!p || p && 27 == a.keyCode) { return 27 == a.which && q.find(m).focus(), r.click() } var e = j("[role=menu] li:not(.divider):visible a", q); if (e.length) { var c = e.index(e.filter(":focus")); 38 == a.keyCode && c > 0 && c--, 40 == a.keyCode && c < e.length - 1 && c++, ~c || (c = 0), e.eq(c).focus() } } } }; var k = j.fn.dropdown; j.fn.dropdown = function (a) { return this.each(function () { var e = j(this), b = e.data("bs.dropdown"); b || e.data("bs.dropdown", b = new l(this)), "string" == typeof a && b[a].call(e) }) }, j.fn.dropdown.Constructor = l, j.fn.dropdown.noConflict = function () { return j.fn.dropdown = k, this }, j(document).on("click.bs.dropdown.data-api", h).on("click.bs.dropdown.data-api", ".dropdown form", function (b) { b.stopPropagation() }).on("click.bs.dropdown.data-api", m, l.prototype.toggle).on("keydown.bs.dropdown.data-api", m + ", [role=menu]", l.prototype.keydown) }(jQuery), +function (e) { var d = function (a, g) { this.options = g, this.$element = e(a), this.$backdrop = this.isShown = null, this.options.remote && this.$element.load(this.options.remote) }; d.DEFAULTS = { backdrop: !0, keyboard: !0, show: !0 }, d.prototype.toggle = function (b) { return this[this.isShown ? "hide" : "show"](b) }, d.prototype.show = function (a) { var h = this, g = e.Event("show.bs.modal", { relatedTarget: a }); this.$element.trigger(g), this.isShown || g.isDefaultPrevented() || (this.isShown = !0, this.escape(), this.$element.on("click.dismiss.modal", '[data-dismiss="modal"]', e.proxy(this.hide, this)), this.backdrop(function () { var c = e.support.transition && h.$element.hasClass("fade"); h.$element.parent().length || h.$element.appendTo(document.body), h.$element.show(), c && h.$element[0].offsetWidth, h.$element.addClass("in").attr("aria-hidden", !1), h.enforceFocus(); var b = e.Event("shown.bs.modal", { relatedTarget: a }); c ? h.$element.find(".modal-dialog").one(e.support.transition.end, function () { h.$element.focus().trigger(b) }).emulateTransitionEnd(300) : h.$element.focus().trigger(b) })) }, d.prototype.hide = function (a) { a && a.preventDefault(), a = e.Event("hide.bs.modal"), this.$element.trigger(a), this.isShown && !a.isDefaultPrevented() && (this.isShown = !1, this.escape(), e(document).off("focusin.bs.modal"), this.$element.removeClass("in").attr("aria-hidden", !0).off("click.dismiss.modal"), e.support.transition && this.$element.hasClass("fade") ? this.$element.one(e.support.transition.end, e.proxy(this.hideModal, this)).emulateTransitionEnd(300) : this.hideModal()) }, d.prototype.enforceFocus = function () { e(document).off("focusin.bs.modal").on("focusin.bs.modal", e.proxy(function (b) { this.$element[0] === b.target || this.$element.has(b.target).length || this.$element.focus() }, this)) }, d.prototype.escape = function () { this.isShown && this.options.keyboard ? this.$element.on("keyup.dismiss.bs.modal", e.proxy(function (b) { 27 == b.which && this.hide() }, this)) : this.isShown || this.$element.off("keyup.dismiss.bs.modal") }, d.prototype.hideModal = function () { var b = this; this.$element.hide(), this.backdrop(function () { b.removeBackdrop(), b.$element.trigger("hidden.bs.modal") }) }, d.prototype.removeBackdrop = function () { this.$backdrop && this.$backdrop.remove(), this.$backdrop = null }, d.prototype.backdrop = function (a) { var h = this.$element.hasClass("fade") ? "fade" : ""; if (this.isShown && this.options.backdrop) { var g = e.support.transition && h; if (this.$backdrop = e('<div class="modal-backdrop ' + h + '" />').appendTo(document.body), this.$element.on("click.dismiss.modal", e.proxy(function (b) { b.target === b.currentTarget && ("static" == this.options.backdrop ? this.$element[0].focus.call(this.$element[0]) : this.hide.call(this)) }, this)), g && this.$backdrop[0].offsetWidth, this.$backdrop.addClass("in"), !a) { return } g ? this.$backdrop.one(e.support.transition.end, a).emulateTransitionEnd(150) : a() } else { !this.isShown && this.$backdrop ? (this.$backdrop.removeClass("in"), e.support.transition && this.$element.hasClass("fade") ? this.$backdrop.one(e.support.transition.end, a).emulateTransitionEnd(150) : a()) : a && a() } }; var f = e.fn.modal; e.fn.modal = function (b, a) { return this.each(function () { var j = e(this), h = j.data("bs.modal"), c = e.extend({}, d.DEFAULTS, j.data(), "object" == typeof b && b); h || j.data("bs.modal", h = new d(this, c)), "string" == typeof b ? h[b](a) : c.show && h.show(a) }) }, e.fn.modal.Constructor = d, e.fn.modal.noConflict = function () { return e.fn.modal = f, this }, e(document).on("click.bs.modal.data-api", '[data-toggle="modal"]', function (a) { var k = e(this), j = k.attr("href"), h = e(k.attr("data-target") || j && j.replace(/.*(?=#[^\s]+$)/, "")), g = h.data("modal") ? "toggle" : e.extend({ remote: !/#/.test(j) && j }, h.data(), k.data()); a.preventDefault(), h.modal(g, this).one("hide", function () { k.is(":visible") && k.focus() }) }), e(document).on("show.bs.modal", ".modal", function () { e(document.body).addClass("modal-open") }).on("hidden.bs.modal", ".modal", function () { e(document.body).removeClass("modal-open") }) }(jQuery), +function (e) { var d = function (g, c) { this.type = this.options = this.enabled = this.timeout = this.hoverState = this.$element = null, this.init("tooltip", g, c) }; d.DEFAULTS = { animation: !0, placement: "top", selector: !1, template: '<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>', trigger: "hover focus", title: "", delay: 0, html: !1, container: !1 }, d.prototype.init = function (a, p, o) { this.enabled = !0, this.type = a, this.$element = e(p), this.options = this.getOptions(o); for (var n = this.options.trigger.split(" "), m = n.length; m--;) { var l = n[m]; if ("click" == l) { this.$element.on("click." + this.type, this.options.selector, e.proxy(this.toggle, this)) } else { if ("manual" != l) { var k = "hover" == l ? "mouseenter" : "focus", j = "hover" == l ? "mouseleave" : "blur"; this.$element.on(k + "." + this.type, this.options.selector, e.proxy(this.enter, this)), this.$element.on(j + "." + this.type, this.options.selector, e.proxy(this.leave, this)) } } } this.options.selector ? this._options = e.extend({}, this.options, { trigger: "manual", selector: "" }) : this.fixTitle() }, d.prototype.getDefaults = function () { return d.DEFAULTS }, d.prototype.getOptions = function (a) { return a = e.extend({}, this.getDefaults(), this.$element.data(), a), a.delay && "number" == typeof a.delay && (a.delay = { show: a.delay, hide: a.delay }), a }, d.prototype.getDelegateOptions = function () { var a = {}, g = this.getDefaults(); return this._options && e.each(this._options, function (b, c) { g[b] != c && (a[b] = c) }), a }, d.prototype.enter = function (a) { var g = a instanceof this.constructor ? a : e(a.currentTarget)[this.type](this.getDelegateOptions()).data("bs." + this.type); return clearTimeout(g.timeout), g.hoverState = "in", g.options.delay && g.options.delay.show ? (g.timeout = setTimeout(function () { "in" == g.hoverState && g.show() }, g.options.delay.show), void 0) : g.show() }, d.prototype.leave = function (a) { var g = a instanceof this.constructor ? a : e(a.currentTarget)[this.type](this.getDelegateOptions()).data("bs." + this.type); return clearTimeout(g.timeout), g.hoverState = "out", g.options.delay && g.options.delay.hide ? (g.timeout = setTimeout(function () { "out" == g.hoverState && g.hide() }, g.options.delay.hide), void 0) : g.hide() }, d.prototype.show = function () { var D = e.Event("show.bs." + this.type); if (this.hasContent() && this.enabled) { if (this.$element.trigger(D), D.isDefaultPrevented()) { return } var C = this.tip(); this.setContent(), this.options.animation && C.addClass("fade"); var B = "function" == typeof this.options.placement ? this.options.placement.call(this, C[0], this.$element[0]) : this.options.placement, A = /\s?auto?\s?/i, z = A.test(B); z && (B = B.replace(A, "") || "top"), C.detach().css({ top: 0, left: 0, display: "block" }).addClass(B), this.options.container ? C.appendTo(this.options.container) : C.insertAfter(this.$element); var y = this.getPosition(), x = C[0].offsetWidth, w = C[0].offsetHeight; if (z) { var v = this.$element.parent(), u = B, t = document.documentElement.scrollTop || document.body.scrollTop, s = "body" == this.options.container ? window.innerWidth : v.outerWidth(), r = "body" == this.options.container ? window.innerHeight : v.outerHeight(), q = "body" == this.options.container ? 0 : v.offset().left; B = "bottom" == B && y.top + y.height + w - t > r ? "top" : "top" == B && y.top - t - w < 0 ? "bottom" : "right" == B && y.right + x > s ? "left" : "left" == B && y.left - x < q ? "right" : B, C.removeClass(u).addClass(B) } var a = this.getCalculatedOffset(B, y, x, w); this.applyPlacement(a, B), this.$element.trigger("shown.bs." + this.type) } }, d.prototype.applyPlacement = function (v, u) { var t, s = this.tip(), r = s[0].offsetWidth, q = s[0].offsetHeight, p = parseInt(s.css("margin-top"), 10), o = parseInt(s.css("margin-left"), 10); isNaN(p) && (p = 0), isNaN(o) && (o = 0), v.top = v.top + p, v.left = v.left + o, s.offset(v).addClass("in"); var n = s[0].offsetWidth, m = s[0].offsetHeight; if ("top" == u && m != q && (t = !0, v.top = v.top + q - m), /bottom|top/.test(u)) { var l = 0; v.left < 0 && (l = -2 * v.left, v.left = 0, s.offset(v), n = s[0].offsetWidth, m = s[0].offsetHeight), this.replaceArrow(l - r + n, n, "left") } else { this.replaceArrow(m - q, m, "top") } t && s.offset(v) }, d.prototype.replaceArrow = function (h, g, j) { this.arrow().css(j, h ? 50 * (1 - h / g) + "%" : "") }, d.prototype.setContent = function () { var g = this.tip(), c = this.getTitle(); g.find(".tooltip-inner")[this.options.html ? "html" : "text"](c), g.removeClass("fade in top bottom left right") }, d.prototype.hide = function () { function a() { "in" != j.hoverState && h.detach() } var j = this, h = this.tip(), g = e.Event("hide.bs." + this.type); return this.$element.trigger(g), g.isDefaultPrevented() ? void 0 : (h.removeClass("in"), e.support.transition && this.$tip.hasClass("fade") ? h.one(e.support.transition.end, a).emulateTransitionEnd(150) : a(), this.$element.trigger("hidden.bs." + this.type), this) }, d.prototype.fixTitle = function () { var b = this.$element; (b.attr("title") || "string" != typeof b.attr("data-original-title")) && b.attr("data-original-title", b.attr("title") || "").attr("title", "") }, d.prototype.hasContent = function () { return this.getTitle() }, d.prototype.getPosition = function () { var a = this.$element[0]; return e.extend({}, "function" == typeof a.getBoundingClientRect ? a.getBoundingClientRect() : { width: a.offsetWidth, height: a.offsetHeight }, this.$element.offset()) }, d.prototype.getCalculatedOffset = function (h, g, k, j) { return "bottom" == h ? { top: g.top + g.height, left: g.left + g.width / 2 - k / 2 } : "top" == h ? { top: g.top - j, left: g.left + g.width / 2 - k / 2 } : "left" == h ? { top: g.top + g.height / 2 - j / 2, left: g.left - k } : { top: g.top + g.height / 2 - j / 2, left: g.left + g.width } }, d.prototype.getTitle = function () { var h, g = this.$element, j = this.options; return h = g.attr("data-original-title") || ("function" == typeof j.title ? j.title.call(g[0]) : j.title) }, d.prototype.tip = function () { return this.$tip = this.$tip || e(this.options.template) }, d.prototype.arrow = function () { return this.$arrow = this.$arrow || this.tip().find(".tooltip-arrow") }, d.prototype.validate = function () { this.$element[0].parentNode || (this.hide(), this.$element = null, this.options = null) }, d.prototype.enable = function () { this.enabled = !0 }, d.prototype.disable = function () { this.enabled = !1 }, d.prototype.toggleEnabled = function () { this.enabled = !this.enabled }, d.prototype.toggle = function (a) { var g = a ? e(a.currentTarget)[this.type](this.getDelegateOptions()).data("bs." + this.type) : this; g.tip().hasClass("in") ? g.leave(g) : g.enter(g) }, d.prototype.destroy = function () { this.hide().$element.off("." + this.type).removeData("bs." + this.type) }; var f = e.fn.tooltip; e.fn.tooltip = function (a) { return this.each(function () { var g = e(this), c = g.data("bs.tooltip"), b = "object" == typeof a && a; c || g.data("bs.tooltip", c = new d(this, b)), "string" == typeof a && c[a]() }) }, e.fn.tooltip.Constructor = d, e.fn.tooltip.noConflict = function () { return e.fn.tooltip = f, this } }(jQuery), +function (e) { var d = function (g, c) { this.init("popover", g, c) }; if (!e.fn.tooltip) { throw new Error("Popover requires tooltip.js") } d.DEFAULTS = e.extend({}, e.fn.tooltip.Constructor.DEFAULTS, { placement: "right", trigger: "click", content: "", template: '<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>' }), d.prototype = e.extend({}, e.fn.tooltip.Constructor.prototype), d.prototype.constructor = d, d.prototype.getDefaults = function () { return d.DEFAULTS }, d.prototype.setContent = function () { var h = this.tip(), g = this.getTitle(), j = this.getContent(); h.find(".popover-title")[this.options.html ? "html" : "text"](g), h.find(".popover-content")[this.options.html ? "html" : "text"](j), h.removeClass("fade top bottom left right in"), h.find(".popover-title").html() || h.find(".popover-title").hide() }, d.prototype.hasContent = function () { return this.getTitle() || this.getContent() }, d.prototype.getContent = function () { var g = this.$element, c = this.options; return g.attr("data-content") || ("function" == typeof c.content ? c.content.call(g[0]) : c.content) }, d.prototype.arrow = function () { return this.$arrow = this.$arrow || this.tip().find(".arrow") }, d.prototype.tip = function () { return this.$tip || (this.$tip = e(this.options.template)), this.$tip }; var f = e.fn.popover; e.fn.popover = function (a) { return this.each(function () { var g = e(this), c = g.data("bs.popover"), b = "object" == typeof a && a; c || g.data("bs.popover", c = new d(this, b)), "string" == typeof a && c[a]() }) }, e.fn.popover.Constructor = d, e.fn.popover.noConflict = function () { return e.fn.popover = f, this } }(jQuery), +function (e) {
    function d(h, g) { var b, a = e.proxy(this.process, this); this.$element = e(h).is("body") ? e(window) : e(h), this.$body = e("body"), this.$scrollElement = this.$element.on("scroll.bs.scroll-spy.data-api", a), this.options = e.extend({}, d.DEFAULTS, g), this.selector = (this.options.target || (b = e(h).attr("href")) && b.replace(/.*(?=#[^\s]+$)/, "") || "") + " .nav li > a", this.offsets = e([]), this.targets = e([]), this.activeTarget = null, this.refresh(), this.process() } d.DEFAULTS = { offset: 10 }, d.prototype.refresh = function () { var a = this.$element[0] == window ? "offset" : "position"; this.offsets = e([]), this.targets = e([]); var g = this; this.$body.find(this.selector).map(function () { var h = e(this), c = h.data("target") || h.attr("href"), b = /^#\w/.test(c) && e(c); return b && b.length && [[b[a]().top + (!e.isWindow(g.$scrollElement.get(0)) && g.$scrollElement.scrollTop()), c]] || null }).sort(function (h, c) { return h[0] - c[0] }).each(function () { g.offsets.push(this[0]), g.targets.push(this[1]) }) }, d.prototype.process = function () {
        var j, h = this.$scrollElement.scrollTop() + this.options.offset,
            o = this.$scrollElement[0].scrollHeight || this.$body[0].scrollHeight, n = o - this.$scrollElement.height(), m = this.offsets, l = this.targets, k = this.activeTarget; if (h >= n) { return k != (j = l.last()[0]) && this.activate(j) } for (j = m.length; j--;) { k != l[j] && h >= m[j] && (!m[j + 1] || h <= m[j + 1]) && this.activate(l[j]) }
    }, d.prototype.activate = function (a) {
        this.activeTarget = a, e(this.selector).parents(".active").removeClass("active");
        var h = this.selector + '[data-target="' + a + '"],' + this.selector + '[href="' + a + '"]', g = e(h).parents("li").addClass("active"); g.parent(".dropdown-menu").length && (g = g.closest("li.dropdown").addClass("active")), g.trigger("activate.bs.scrollspy")
    }; var f = e.fn.scrollspy; e.fn.scrollspy = function (a) { return this.each(function () { var g = e(this), c = g.data("bs.scrollspy"), b = "object" == typeof a && a; c || g.data("bs.scrollspy", c = new d(this, b)), "string" == typeof a && c[a]() }) }, e.fn.scrollspy.Constructor = d, e.fn.scrollspy.noConflict = function () { return e.fn.scrollspy = f, this }, e(window).on("load", function () { e('[data-spy="scroll"]').each(function () { var a = e(this); a.scrollspy(a.data()) }) })
}(jQuery), +function (e) {
    var d = function (a) { this.element = e(a) };
    d.prototype.show = function () { var a = this.element, m = a.closest("ul:not(.dropdown-menu)"), l = a.data("target"); if (l || (l = a.attr("href"), l = l && l.replace(/.*(?=#[^\s]*$)/, "")), !a.parent("li").hasClass("active")) { var k = m.find(".active:last a")[0], j = e.Event("show.bs.tab", { relatedTarget: k }); if (a.trigger(j), !j.isDefaultPrevented()) { var h = e(l); this.activate(a.parent("li"), m), this.activate(h, h.parent(), function () { a.trigger({ type: "shown.bs.tab", relatedTarget: k }) }) } } }, d.prototype.activate = function (a, m, l) { function k() { j.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"), a.addClass("active"), h ? (a[0].offsetWidth, a.addClass("in")) : a.removeClass("fade"), a.parent(".dropdown-menu") && a.closest("li.dropdown").addClass("active"), l && l() } var j = m.find("> .active"), h = l && e.support.transition && j.hasClass("fade"); h ? j.one(e.support.transition.end, k).emulateTransitionEnd(150) : k(), j.removeClass("in") }; var f = e.fn.tab; e.fn.tab = function (a) { return this.each(function () { var c = e(this), b = c.data("bs.tab"); b || c.data("bs.tab", b = new d(this)), "string" == typeof a && b[a]() }) }, e.fn.tab.Constructor = d, e.fn.tab.noConflict = function () { return e.fn.tab = f, this }, e(document).on("click.bs.tab.data-api", '[data-toggle="tab"], [data-toggle="pill"]', function (a) { a.preventDefault(), e(this).tab("show") })
}(jQuery), +function (e) { var d = function (b, a) { this.options = e.extend({}, d.DEFAULTS, a), this.$window = e(window).on("scroll.bs.affix.data-api", e.proxy(this.checkPosition, this)).on("click.bs.affix.data-api", e.proxy(this.checkPositionWithEventLoop, this)), this.$element = e(b), this.affixed = this.unpin = null, this.checkPosition() }; d.RESET = "affix affix-top affix-bottom", d.DEFAULTS = { offset: 0 }, d.prototype.checkPositionWithEventLoop = function () { setTimeout(e.proxy(this.checkPosition, this), 1) }, d.prototype.checkPosition = function () { if (this.$element.is(":visible")) { var n = e(document).height(), m = this.$window.scrollTop(), l = this.$element.offset(), k = this.options.offset, j = k.top, b = k.bottom; "object" != typeof k && (b = j = k), "function" == typeof j && (j = k.top()), "function" == typeof b && (b = k.bottom()); var a = null != this.unpin && m + this.unpin <= l.top ? !1 : null != b && l.top + this.$element.height() >= n - b ? "bottom" : null != j && j >= m ? "top" : !1; this.affixed !== a && (this.unpin && this.$element.css("top", ""), this.affixed = a, this.unpin = "bottom" == a ? l.top - m : null, this.$element.removeClass(d.RESET).addClass("affix" + (a ? "-" + a : "")), "bottom" == a && this.$element.offset({ top: document.body.offsetHeight - b - this.$element.height() })) } }; var f = e.fn.affix; e.fn.affix = function (a) { return this.each(function () { var g = e(this), c = g.data("bs.affix"), b = "object" == typeof a && a; c || g.data("bs.affix", c = new d(this, b)), "string" == typeof a && c[a]() }) }, e.fn.affix.Constructor = d, e.fn.affix.noConflict = function () { return e.fn.affix = f, this }, e(window).on("load", function () { e('[data-spy="affix"]').each(function () { var a = e(this), g = a.data(); g.offset = g.offset || {}, g.offsetBottom && (g.offset.bottom = g.offsetBottom), g.offsetTop && (g.offset.top = g.offsetTop), a.affix(g) }) }) }(jQuery); (function (c) { c.gritter = {}; c.gritter.options = { position: "", class_name: "", fade_in_speed: "medium", fade_out_speed: 1000, time: 6000 }; c.gritter.add = function (a) { try { return d.add(a || {}) } catch (b) { var e = "Gritter Error: " + b; (typeof (console) != "undefined" && console.error) ? console.error(e, a) : alert(e) } }; c.gritter.remove = function (a, b) { d.removeSpecific(a, b || {}) }; c.gritter.removeAll = function (a) { d.stop(a || {}) }; var d = { position: "", fade_in_speed: "", fade_out_speed: "", time: "", _custom_timer: 0, _item_count: 0, _is_setup: 0, _tpl_close: '<div class="gritter-close"></div>', _tpl_title: '<span class="gritter-title">[[title]]</span>', _tpl_item: '<div id="gritter-item-[[number]]" class="gritter-item-wrapper [[item_class]]" style="display:none"><div class="gritter-top"></div><div class="gritter-item">[[close]][[image]]<div class="[[class_name]]">[[title]]<p>[[text]]</p></div><div style="clear:both"></div></div><div class="gritter-bottom"></div></div>', _tpl_wrap: '<div id="gritter-notice-wrapper"></div>', add: function (v) { if (typeof (v) == "string") { v = { text: v } } if (!v.text) { throw 'You must supply "text" parameter.' } if (!this._is_setup) { this._runSetup() } var r = v.title, b = v.text, x = v.image || "", q = v.sticky || false, p = v.class_name || c.gritter.options.class_name, s = c.gritter.options.position, y = v.time || ""; this._verifyWrapper(); this._item_count++; var w = this._item_count, t = this._tpl_item; c(["before_open", "after_open", "before_close", "after_close"]).each(function (f, e) { d["_" + e + "_" + w] = (c.isFunction(v[e])) ? v[e] : function () { } }); this._custom_timer = 0; if (y) { this._custom_timer = y } var z = (x != "") ? '<img src="' + x + '" class="gritter-image" />' : "", u = (x != "") ? "gritter-with-image" : "gritter-without-image"; if (r) { r = this._str_replace("[[title]]", r, this._tpl_title) } else { r = "" } t = this._str_replace(["[[title]]", "[[text]]", "[[close]]", "[[image]]", "[[number]]", "[[class_name]]", "[[item_class]]"], [r, b, this._tpl_close, z, this._item_count, u, p], t); if (this["_before_open_" + w]() === false) { return false } c("#gritter-notice-wrapper").addClass(s).append(t); var a = c("#gritter-item-" + this._item_count); a.fadeIn(this.fade_in_speed, function () { d["_after_open_" + w](c(this)) }); if (!q) { this._setFadeTimer(a, w) } c(a).bind("mouseenter mouseleave", function (e) { if (e.type == "mouseenter") { if (!q) { d._restoreItemIfFading(c(this), w) } } else { if (!q) { d._setFadeTimer(c(this), w) } } d._hoverState(c(this), e.type) }); c(a).find(".gritter-close").click(function () { d.removeSpecific(w, {}, null, true) }); return w }, _countRemoveWrapper: function (e, b, a) { b.remove(); this["_after_close_" + e](b, a); if (c(".gritter-item-wrapper").length == 0) { c("#gritter-notice-wrapper").remove() } }, _fade: function (k, m, a, l) { var a = a || {}, b = (typeof (a.fade) != "undefined") ? a.fade : true, n = a.speed || this.fade_out_speed, e = l; this["_before_close_" + m](k, e); if (l) { k.unbind("mouseenter mouseleave") } if (b) { k.animate({ opacity: 0 }, n, function () { k.animate({ height: 0 }, 300, function () { d._countRemoveWrapper(m, k, e) }) }) } else { this._countRemoveWrapper(m, k) } }, _hoverState: function (a, b) { if (b == "mouseenter") { a.addClass("hover"); a.find(".gritter-close").show() } else { a.removeClass("hover"); a.find(".gritter-close").hide() } }, removeSpecific: function (h, a, b, e) { if (!b) { var b = c("#gritter-item-" + h) } this._fade(b, h, a || {}, e) }, _restoreItemIfFading: function (a, b) { clearTimeout(this["_int_id_" + b]); a.stop().css({ opacity: "", height: "" }) }, _runSetup: function () { for (opt in c.gritter.options) { this[opt] = c.gritter.options[opt] } this._is_setup = 1 }, _setFadeTimer: function (a, b) { var e = (this._custom_timer) ? this._custom_timer : this.time; this["_int_id_" + b] = setTimeout(function () { d._fade(a, b) }, e) }, stop: function (b) { var h = (c.isFunction(b.before_close)) ? b.before_close : function () { }; var a = (c.isFunction(b.after_close)) ? b.after_close : function () { }; var g = c("#gritter-notice-wrapper"); h(g); g.fadeOut(function () { c(this).remove(); a() }) }, _str_replace: function (C, z, f, j) { var w = 0, x = 0, E = "", r = "", y = 0, a = 0, s = [].concat(C), B = [].concat(z), D = f, A = B instanceof Array, b = D instanceof Array; D = [].concat(D); if (j) { this.window[j] = 0 } for (w = 0, y = D.length; w < y; w++) { if (D[w] === "") { continue } for (x = 0, a = s.length; x < a; x++) { E = D[w] + ""; r = A ? (B[x] !== undefined ? B[x] : "") : B[0]; D[w] = (E).split(s[x]).join(r); if (j && D[w] !== E) { this.window[j] += (E.length - D[w].length) / s[x].length } } } return b ? D : D[0] }, _verifyWrapper: function () { if (c("#gritter-notice-wrapper").length == 0) { c("body").append(this._tpl_wrap) } } } })(jQuery); (function (e, c, b, a) { var f = c.createElement("canvas").getContext, d = e.fn.peity = function (j, h) { f && this.each(function () { var o = e(this), p = o.data("peity"); if (p) { j && (p.type = j), e.extend(p.opts, h), p.draw() } else { var m = d.defaults[j], n = {}; e.each(o.data(), function (q, l) { q in m && (n[q] = l) }); var k = e.extend({}, m, n, h), p = new g(o, j, k); p.draw(); o.change(function () { p.draw() }).data("peity", p) } }); return this }, g = function (j, h, k) { this.$el = j; this.type = h; this.opts = k }, c = g.prototype; c.colours = function () { var j = this.opts.colours, h = j; e.isFunction(h) || (h = function (k, l) { return j[l % j.length] }); return h }; c.draw = function () { d.graphers[this.type].call(this, this.opts) }; c.prepareCanvas = function (j, h) { var k = this.canvas, l; k ? (this.context.clearRect(0, 0, k.width, k.height), l = e(k)) : (l = e("<canvas>").css({ height: h, width: j }).addClass("peity").data("peity", this), this.canvas = k = l[0], this.context = k.getContext("2d"), this.$el.hide().after(k)); k.height = l.height() * a; k.width = l.width() * a; return k }; c.values = function () { return e.map(this.$el.text().split(this.opts.delimiter), function (h) { return parseFloat(h) }) }; d.defaults = {}; d.graphers = {}; d.register = function (j, h, k) { this.defaults[j] = h; this.graphers[j] = k }; d.register("pie", { colours: ["#ff9900", "#fff4dd", "#ffc66e"], delimiter: null, diameter: 16 }, function (u) { if (!u.delimiter) { var t = this.$el.text().match(/[^0-9\.]/); u.delimiter = t ? t[0] : "," } t = this.values(); if ("/" == u.delimiter) { var r = t[0], t = [r, t[1] - r] } for (var s = 0, r = t.length, p = 0; s < r; s++) { p += t[s] } var q = this.prepareCanvas(u.width || u.diameter, u.height || u.diameter), u = this.context, s = q.width, k = q.height, q = b.min(s, k) / 2, m = b.PI, j = this.colours(); u.save(); u.translate(s / 2, k / 2); u.rotate(-m / 2); for (s = 0; s < r; s++) { var k = t[s], o = 2 * k / p * m; u.beginPath(); u.moveTo(0, 0); u.arc(0, 0, q, 0, o, !1); u.fillStyle = j.call(this, k, s, t); u.fill(); u.rotate(o) } u.restore() }); d.register("line", { colour: "#c6d9fd", strokeColour: "#4d89f9", strokeWidth: 1, delimiter: ",", height: 16, max: null, min: 0, width: 32 }, function (x) { var w = this.values(); 1 == w.length && w.push(w[0]); var u = b.max.apply(b, w.concat([x.max])), v = b.min.apply(b, w.concat([x.min])), s = this.prepareCanvas(x.width, x.height), t = this.context, m = s.width, s = s.height, q = m / (w.length - 1), u = s / (u - v), k = [], r; t.beginPath(); t.moveTo(0, s + v * u); for (r = 0; r < w.length; r++) { var p = r * q, o = s - u * (w[r] - v); k.push({ x: p, y: o }); t.lineTo(p, o) } t.lineTo(m, s + v * u); t.fillStyle = x.colour; t.fill(); if (x.strokeWidth) { t.beginPath(); t.moveTo(0, k[0].y); for (r = 0; r < k.length; r++) { t.lineTo(k[r].x, k[r].y) } t.lineWidth = x.strokeWidth * a; t.strokeStyle = x.strokeColour; t.stroke() } }); d.register("bar", { colours: ["#4D89F9"], delimiter: ",", height: 16, max: null, min: 0, spacing: a, width: 32 }, function (z) { for (var y = this.values(), w = b.max.apply(b, y.concat([z.max])), x = b.min.apply(b, y.concat([z.min])), u = this.prepareCanvas(z.width, z.height), v = this.context, s = u.height, r = s / (w - x), z = z.spacing, u = (u.width + z) / y.length, q = this.colours(), t = 0; t < y.length; t++) { var n = y[t], l = s - r * (n - x), k; if (0 == n) { if (0 <= x || 0 < w) { l -= 1 } k = 1 } else { k = r * y[t] } v.fillStyle = q.call(this, n, t, y); v.fillRect(t * u, l, u - z, k) } }) })(jQuery, document, Math, window.devicePixelRatio || 1); $(function () { var a = $("#sidebar > ul"); var b = $("#sidebar > ul > li.open ul"); $(window).on("resize", function () { wwidth = $(window).width(); if (wwidth >= 768 && wwidth <= 991) { $("#sidebar > ul > li.open ul").attr("style", "").parent().removeClass("open"); a.css({ display: "block" }) } if (wwidth > 767) { a.css({ display: "block" }); $("body").removeClass("menu-open"); $("#sidebar").attr("style", ""); $("#user-nav > ul").css({ width: "auto", margin: "0" }) } }); if ($(window).width() > 767) { a.css({ display: "block" }) } if ($(window).width() > 767 && $(window).width() < 992) { b.css({ display: "none" }) } $("#menu-trigger").on("click", function () { if ($(window).width() <= 767) { if ($("body").hasClass("menu-open")) { $("body").removeClass("menu-open") } else { $("body").addClass("menu-open") } } return false }); $(".tip").tooltip(); $(".tip-left").tooltip({ placement: "left" }); $(".tip-right").tooltip({ placement: "right" }); $(".tip-top").tooltip({ placement: "top" }); $(".tip-bottom").tooltip({ placement: "bottom" }); $("#style-switcher i").click(function () { if ($(this).hasClass("open")) { $(this).parent().animate({ right: "-=220" }); $(this).removeClass("open") } else { $(this).parent().animate({ right: "+=220" }); $(this).addClass("open") } $(this).toggleClass("fa fa-arrow-left"); $(this).toggleClass("fa fa-arrow-right") }); $("#style-switcher a").click(function () { var c = $(this).attr("href").replace("#", ""); $(".skin-color").attr("href", "css/unicorn." + c + ".css"); $(this).siblings("a").css({ "border-color": "transparent" }); $(this).css({ "border-color": "#aaaaaa" }) }); $(document).on("click", ".submenu > a", function (h) { h.preventDefault(); var f = $(this).siblings("ul"); var c = $(this).parents("li"); var d = $("#sidebar li.submenu ul"); var g = $("#sidebar li.submenu"); if (c.hasClass("open")) { if (($(window).width() > 976) || ($(window).width() < 768)) { f.slideUp() } else { f.fadeOut(150) } c.removeClass("open") } else { if (($(window).width() > 976) || ($(window).width() < 768)) { d.slideUp(); f.slideDown() } else { d.fadeOut(150); f.fadeIn(150) } g.removeClass("open"); c.addClass("open") } }); $("#sidebar li.submenu ul").on("mouseleave", function () { if ($(window).width() >= 768 && $(window).width() < 977) { $(this).fadeOut(150).parent().removeClass("open") } }); $(".go-full-screen").click(function () { backdrop = $(".white-backdrop"); wbox = $(this).parents(".widget-box"); if (wbox.hasClass("widget-full-screen")) { backdrop.fadeIn(200, function () { wbox.removeClass("widget-full-screen", function () { backdrop.fadeOut(200) }) }) } else { backdrop.fadeIn(200, function () { wbox.addClass("widget-full-screen", function () { backdrop.fadeOut(200) }) }) } }); $(function (c) { c("input[type=text], input[type=password], textarea").bind("focus blur", function () { c(this).toggleClass("focus") }) }); switcherBtn = $("#switcher-button"); switcherPanel = $("#switcher-inner"); switcherBtn.click(function () { if (switcherPanel.hasClass("open")) { switcherPanel.hide(300); switcherPanel.removeClass("open") } else { switcherPanel.show(300); switcherPanel.addClass("open") } }); color = $("body").data("color"); $("#color-style a[data-color=" + color + "]").addClass("active"); $("#color-style a").click(function () { var c = $(this).attr("data-color"); $(this).parent().find("a").removeClass("active"); $(this).addClass("active"); $("body").attr("data-color", c); return false }); if ($("body").hasClass("flat")) { $('#layout-type a[data-option="flat"]').addClass("active") } else { $('#layout-type a[data-option="old"]').addClass("active") } $("#layout-type a").click(function () { var c = $(this).attr("data-option"); if (c == "flat") { $("body").addClass("flat") } else { $("body").removeClass("flat") } $(this).parent().find("a").removeClass("active"); $(this).addClass("active") }) }); (function (i, V, l, n) { var j = function (e) { function o(a, b) { var c = j.defaults.columns, d = a.aoColumns.length, c = i.extend({}, j.models.oColumn, c, { sSortingClass: a.oClasses.sSortable, sSortingClassJUI: a.oClasses.sSortJUI, nTh: b ? b : l.createElement("th"), sTitle: c.sTitle ? c.sTitle : b ? b.innerHTML : "", aDataSort: c.aDataSort ? c.aDataSort : [d], mDataProp: c.mDataProp ? c.oDefaults : d }); a.aoColumns.push(c); if (a.aoPreSearchCols[d] === n || null === a.aoPreSearchCols[d]) { a.aoPreSearchCols[d] = i.extend({}, j.models.oSearch) } else { if (c = a.aoPreSearchCols[d], c.bRegex === n && (c.bRegex = !0), c.bSmart === n && (c.bSmart = !0), c.bCaseInsensitive === n) { c.bCaseInsensitive = !0 } } r(a, d, null) } function r(a, b, c) { b = a.aoColumns[b]; c !== n && null !== c && (c.sType !== n && (b.sType = c.sType, b._bAutoType = !1), i.extend(b, c), p(b, c, "sWidth", "sWidthOrig"), c.iDataSort !== n && (b.aDataSort = [c.iDataSort]), p(b, c, "aDataSort")); b.fnGetData = W(b.mDataProp); b.fnSetData = ta(b.mDataProp); a.oFeatures.bSort || (b.bSortable = !1); !b.bSortable || -1 == i.inArray("asc", b.asSorting) && -1 == i.inArray("desc", b.asSorting) ? (b.sSortingClass = a.oClasses.sSortableNone, b.sSortingClassJUI = "") : b.bSortable || -1 == i.inArray("asc", b.asSorting) && -1 == i.inArray("desc", b.asSorting) ? (b.sSortingClass = a.oClasses.sSortable, b.sSortingClassJUI = a.oClasses.sSortJUI) : -1 != i.inArray("asc", b.asSorting) && -1 == i.inArray("desc", b.asSorting) ? (b.sSortingClass = a.oClasses.sSortableAsc, b.sSortingClassJUI = a.oClasses.sSortJUIAscAllowed) : -1 == i.inArray("asc", b.asSorting) && -1 != i.inArray("desc", b.asSorting) && (b.sSortingClass = a.oClasses.sSortableDesc, b.sSortingClassJUI = a.oClasses.sSortJUIDescAllowed) } function k(a) { if (!1 === a.oFeatures.bAutoWidth) { return !1 } ba(a); for (var b = 0, c = a.aoColumns.length; b < c; b++) { a.aoColumns[b].nTh.style.width = a.aoColumns[b].sWidth } } function G(a, b) { for (var c = -1, d = 0; d < a.aoColumns.length; d++) { if (!0 === a.aoColumns[d].bVisible && c++, c == b) { return d } } return null } function t(a, b) { for (var c = -1, d = 0; d < a.aoColumns.length; d++) { if (!0 === a.aoColumns[d].bVisible && c++, d == b) { return !0 === a.aoColumns[d].bVisible ? c : null } } return null } function v(a) { for (var b = 0, c = 0; c < a.aoColumns.length; c++) { !0 === a.aoColumns[c].bVisible && b++ } return b } function z(a) { for (var b = j.ext.aTypes, c = b.length, d = 0; d < c; d++) { var g = b[d](a); if (null !== g) { return g } } return "string" } function D(a, b) { for (var c = b.split(","), d = [], g = 0, f = a.aoColumns.length; g < f; g++) { for (var h = 0; h < f; h++) { if (a.aoColumns[g].sName == c[h]) { d.push(h); break } } } return d } function x(a) { for (var b = "", c = 0, d = a.aoColumns.length; c < d; c++) { b += a.aoColumns[c].sName + "," } return b.length == d ? "" : b.slice(0, -1) } function J(a, b, c, d) { var g, f, h, e, s; if (b) { for (g = b.length - 1; 0 <= g; g--) { var m = b[g].aTargets; i.isArray(m) || E(a, 1, "aTargets must be an array of targets, not a " + typeof m); f = 0; for (h = m.length; f < h; f++) { if ("number" === typeof m[f] && 0 <= m[f]) { for (; a.aoColumns.length <= m[f];) { o(a) } d(m[f], b[g]) } else { if ("number" === typeof m[f] && 0 > m[f]) { d(a.aoColumns.length + m[f], b[g]) } else { if ("string" === typeof m[f]) { e = 0; for (s = a.aoColumns.length; e < s; e++) { ("_all" == m[f] || i(a.aoColumns[e].nTh).hasClass(m[f])) && d(e, b[g]) } } } } } } } if (c) { g = 0; for (a = c.length; g < a; g++) { d(g, c[g]) } } } function H(a, b) { var c; c = i.isArray(b) ? b.slice() : i.extend(!0, {}, b); var d = a.aoData.length, g = i.extend(!0, {}, j.models.oRow); g._aData = c; a.aoData.push(g); for (var f, g = 0, h = a.aoColumns.length; g < h; g++) { c = a.aoColumns[g], "function" === typeof c.fnRender && c.bUseRendered && null !== c.mDataProp ? I(a, d, g, R(a, d, g)) : I(a, d, g, w(a, d, g)), c._bAutoType && "string" != c.sType && (f = w(a, d, g, "type"), null !== f && "" !== f && (f = z(f), null === c.sType ? c.sType = f : c.sType != f && "html" != c.sType && (c.sType = "string"))) } a.aiDisplayMaster.push(d); a.oFeatures.bDeferRender || ca(a, d); return d } function ua(a) { var b, c, d, g, f, h, e, s, m; if (a.bDeferLoading || null === a.sAjaxSource) { e = a.nTBody.childNodes; b = 0; for (c = e.length; b < c; b++) { if ("TR" == e[b].nodeName.toUpperCase()) { s = a.aoData.length; e[b]._DT_RowIndex = s; a.aoData.push(i.extend(!0, {}, j.models.oRow, { nTr: e[b] })); a.aiDisplayMaster.push(s); h = e[b].childNodes; d = f = 0; for (g = h.length; d < g; d++) { if (m = h[d].nodeName.toUpperCase(), "TD" == m || "TH" == m) { I(a, s, f, i.trim(h[d].innerHTML)), f++ } } } } } e = S(a); h = []; b = 0; for (c = e.length; b < c; b++) { d = 0; for (g = e[b].childNodes.length; d < g; d++) { f = e[b].childNodes[d], m = f.nodeName.toUpperCase(), ("TD" == m || "TH" == m) && h.push(f) } } g = 0; for (e = a.aoColumns.length; g < e; g++) { m = a.aoColumns[g]; null === m.sTitle && (m.sTitle = m.nTh.innerHTML); f = m._bAutoType; s = "function" === typeof m.fnRender; var o = null !== m.sClass, k = m.bVisible, n, r; if (f || s || o || !k) { b = 0; for (c = a.aoData.length; b < c; b++) { d = a.aoData[b], n = h[b * e + g], f && "string" != m.sType && (r = w(a, b, g, "type"), "" !== r && (r = z(r), null === m.sType ? m.sType = r : m.sType != r && "html" != m.sType && (m.sType = "string"))), "function" === typeof m.mDataProp && (n.innerHTML = w(a, b, g, "display")), s && (r = R(a, b, g), n.innerHTML = r, m.bUseRendered && I(a, b, g, r)), o && (n.className += " " + m.sClass), k ? d._anHidden[g] = null : (d._anHidden[g] = n, n.parentNode.removeChild(n)), m.fnCreatedCell && m.fnCreatedCell.call(a.oInstance, n, w(a, b, g, "display"), d._aData, b, g) } } } if (0 !== a.aoRowCreatedCallback.length) { b = 0; for (c = a.aoData.length; b < c; b++) { d = a.aoData[b], C(a, "aoRowCreatedCallback", null, [d.nTr, d._aData, b]) } } } function K(a, b) { return b._DT_RowIndex !== n ? b._DT_RowIndex : null } function da(a, b, c) { for (var b = L(a, b), d = 0, a = a.aoColumns.length; d < a; d++) { if (b[d] === c) { return d } } return -1 } function X(a, b, c) { for (var d = [], g = 0, f = a.aoColumns.length; g < f; g++) { d.push(w(a, b, g, c)) } return d } function w(a, b, c, d) { var g = a.aoColumns[c]; if ((c = g.fnGetData(a.aoData[b]._aData, d)) === n) { return a.iDrawError != a.iDraw && null === g.sDefaultContent && (E(a, 0, "Requested unknown parameter " + ("function" == typeof g.mDataProp ? "{mDataprop function}" : "'" + g.mDataProp + "'") + " from the data source for row " + b), a.iDrawError = a.iDraw), g.sDefaultContent } if (null === c && null !== g.sDefaultContent) { c = g.sDefaultContent } else { if ("function" === typeof c) { return c() } } return "display" == d && null === c ? "" : c } function I(a, b, c, d) { a.aoColumns[c].fnSetData(a.aoData[b]._aData, d) } function W(a) { if (null === a) { return function () { return null } } if ("function" === typeof a) { return function (b, d) { return a(b, d) } } if ("string" === typeof a && -1 != a.indexOf(".")) { var b = a.split("."); return function (a) { for (var d = 0, g = b.length; d < g; d++) { if (a = a[b[d]], a === n) { return n } } return a } } return function (b) { return b[a] } } function ta(a) { if (null === a) { return function () { } } if ("function" === typeof a) { return function (b, d) { a(b, "set", d) } } if ("string" === typeof a && -1 != a.indexOf(".")) { var b = a.split("."); return function (a, d) { for (var g = 0, f = b.length - 1; g < f; g++) { a[b[g]] === n && (a[b[g]] = {}), a = a[b[g]] } a[b[b.length - 1]] = d } } return function (b, d) { b[a] = d } } function Y(a) { for (var b = [], c = a.aoData.length, d = 0; d < c; d++) { b.push(a.aoData[d]._aData) } return b } function ea(a) { a.aoData.splice(0, a.aoData.length); a.aiDisplayMaster.splice(0, a.aiDisplayMaster.length); a.aiDisplay.splice(0, a.aiDisplay.length); A(a) } function fa(a, b) { for (var c = -1, d = 0, g = a.length; d < g; d++) { a[d] == b ? c = d : a[d] > b && a[d]-- } -1 != c && a.splice(c, 1) } function R(a, b, c) { var d = a.aoColumns[c]; return d.fnRender({ iDataRow: b, iDataColumn: c, oSettings: a, aData: a.aoData[b]._aData, mDataProp: d.mDataProp }, w(a, b, c, "display")) } function ca(a, b) { var c = a.aoData[b], d; if (null === c.nTr) { c.nTr = l.createElement("tr"); c.nTr._DT_RowIndex = b; c._aData.DT_RowId && (c.nTr.id = c._aData.DT_RowId); c._aData.DT_RowClass && i(c.nTr).addClass(c._aData.DT_RowClass); for (var g = 0, f = a.aoColumns.length; g < f; g++) { var h = a.aoColumns[g]; d = l.createElement(h.sCellType); d.innerHTML = "function" === typeof h.fnRender && (!h.bUseRendered || null === h.mDataProp) ? R(a, b, g) : w(a, b, g, "display"); null !== h.sClass && (d.className = h.sClass); h.bVisible ? (c.nTr.appendChild(d), c._anHidden[g] = null) : c._anHidden[g] = d; h.fnCreatedCell && h.fnCreatedCell.call(a.oInstance, d, w(a, b, g, "display"), c._aData, b, g) } C(a, "aoRowCreatedCallback", null, [c.nTr, c._aData, b]) } } function va(a) { var b, c, d; if (0 !== a.nTHead.getElementsByTagName("th").length) { b = 0; for (d = a.aoColumns.length; b < d; b++) { if (c = a.aoColumns[b].nTh, c.setAttribute("role", "columnheader"), a.aoColumns[b].bSortable && (c.setAttribute("tabindex", a.iTabIndex), c.setAttribute("aria-controls", a.sTableId)), null !== a.aoColumns[b].sClass && i(c).addClass(a.aoColumns[b].sClass), a.aoColumns[b].sTitle != c.innerHTML) { c.innerHTML = a.aoColumns[b].sTitle } } } else { var g = l.createElement("tr"); b = 0; for (d = a.aoColumns.length; b < d; b++) { c = a.aoColumns[b].nTh, c.innerHTML = a.aoColumns[b].sTitle, c.setAttribute("tabindex", "0"), null !== a.aoColumns[b].sClass && i(c).addClass(a.aoColumns[b].sClass), g.appendChild(c) } i(a.nTHead).html("")[0].appendChild(g); T(a.aoHeader, a.nTHead) } i(a.nTHead).children("tr").attr("role", "row"); if (a.bJUI) { b = 0; for (d = a.aoColumns.length; b < d; b++) { c = a.aoColumns[b].nTh; g = l.createElement("div"); g.className = a.oClasses.sSortJUIWrapper; i(c).contents().appendTo(g); var f = l.createElement("span"); f.className = a.oClasses.sSortIcon; g.appendChild(f); c.appendChild(g) } } if (a.oFeatures.bSort) { for (b = 0; b < a.aoColumns.length; b++) { !1 !== a.aoColumns[b].bSortable ? ga(a, a.aoColumns[b].nTh, b) : i(a.aoColumns[b].nTh).addClass(a.oClasses.sSortableNone) } } "" !== a.oClasses.sFooterTH && i(a.nTFoot).children("tr").children("th").addClass(a.oClasses.sFooterTH); if (null !== a.nTFoot) { c = O(a, null, a.aoFooter); b = 0; for (d = a.aoColumns.length; b < d; b++) { c[b] && (a.aoColumns[b].nTf = c[b], a.aoColumns[b].sClass && i(c[b]).addClass(a.aoColumns[b].sClass)) } } } function U(a, b, c) { var d, g, f, h = [], e = [], i = a.aoColumns.length, m; c === n && (c = !1); d = 0; for (g = b.length; d < g; d++) { h[d] = b[d].slice(); h[d].nTr = b[d].nTr; for (f = i - 1; 0 <= f; f--) { !a.aoColumns[f].bVisible && !c && h[d].splice(f, 1) } e.push([]) } d = 0; for (g = h.length; d < g; d++) { if (a = h[d].nTr) { for (; f = a.firstChild;) { a.removeChild(f) } } f = 0; for (b = h[d].length; f < b; f++) { if (m = i = 1, e[d][f] === n) { a.appendChild(h[d][f].cell); for (e[d][f] = 1; h[d + i] !== n && h[d][f].cell == h[d + i][f].cell;) { e[d + i][f] = 1, i++ } for (; h[d][f + m] !== n && h[d][f].cell == h[d][f + m].cell;) { for (c = 0; c < i; c++) { e[d + c][f + m] = 1 } m++ } h[d][f].cell.rowSpan = i; h[d][f].cell.colSpan = m } } } } function y(a) { var b = C(a, "aoPreDrawCallback", "preDraw", [a]); if (-1 !== i.inArray(!1, b)) { F(a, !1) } else { var c, d, b = [], g = 0, f = a.asStripeClasses.length; c = a.aoOpenRows.length; a.bDrawing = !0; a.iInitDisplayStart !== n && -1 != a.iInitDisplayStart && (a._iDisplayStart = a.oFeatures.bServerSide ? a.iInitDisplayStart : a.iInitDisplayStart >= a.fnRecordsDisplay() ? 0 : a.iInitDisplayStart, a.iInitDisplayStart = -1, A(a)); if (a.bDeferLoading) { a.bDeferLoading = !1, a.iDraw++ } else { if (a.oFeatures.bServerSide) { if (!a.bDestroying && !wa(a)) { return } } else { a.iDraw++ } } if (0 !== a.aiDisplay.length) { var h = a._iDisplayStart; d = a._iDisplayEnd; a.oFeatures.bServerSide && (h = 0, d = a.aoData.length); for (; h < d; h++) { var e = a.aoData[a.aiDisplay[h]]; null === e.nTr && ca(a, a.aiDisplay[h]); var s = e.nTr; if (0 !== f) { var m = a.asStripeClasses[g % f]; e._sRowStripe != m && (i(s).removeClass(e._sRowStripe).addClass(m), e._sRowStripe = m) } C(a, "aoRowCallback", null, [s, a.aoData[a.aiDisplay[h]]._aData, g, h]); b.push(s); g++; if (0 !== c) { for (e = 0; e < c; e++) { if (s == a.aoOpenRows[e].nParent) { b.push(a.aoOpenRows[e].nTr); break } } } } } else { b[0] = l.createElement("tr"), a.asStripeClasses[0] && (b[0].className = a.asStripeClasses[0]), c = a.oLanguage, f = c.sZeroRecords, 1 == a.iDraw && null !== a.sAjaxSource && !a.oFeatures.bServerSide ? f = c.sLoadingRecords : c.sEmptyTable && 0 === a.fnRecordsTotal() && (f = c.sEmptyTable), c = l.createElement("td"), c.setAttribute("valign", "top"), c.colSpan = v(a), c.className = a.oClasses.sRowEmpty, c.innerHTML = ha(a, f), b[g].appendChild(c) } C(a, "aoHeaderCallback", "header", [i(a.nTHead).children("tr")[0], Y(a), a._iDisplayStart, a.fnDisplayEnd(), a.aiDisplay]); C(a, "aoFooterCallback", "footer", [i(a.nTFoot).children("tr")[0], Y(a), a._iDisplayStart, a.fnDisplayEnd(), a.aiDisplay]); g = l.createDocumentFragment(); c = l.createDocumentFragment(); if (a.nTBody) { f = a.nTBody.parentNode; c.appendChild(a.nTBody); if (!a.oScroll.bInfinite || !a._bInitComplete || a.bSorted || a.bFiltered) { for (; c = a.nTBody.firstChild;) { a.nTBody.removeChild(c) } } c = 0; for (d = b.length; c < d; c++) { g.appendChild(b[c]) } a.nTBody.appendChild(g); null !== f && f.appendChild(a.nTBody) } C(a, "aoDrawCallback", "draw", [a]); a.bSorted = !1; a.bFiltered = !1; a.bDrawing = !1; a.oFeatures.bServerSide && (F(a, !1), a._bInitComplete || Z(a)) } } function $(a) { a.oFeatures.bSort ? P(a, a.oPreviousSearch) : a.oFeatures.bFilter ? M(a, a.oPreviousSearch) : (A(a), y(a)) } function xa(a) { var b = i("<div></div>")[0]; a.nTable.parentNode.insertBefore(b, a.nTable); a.nTableWrapper = i('<div id="' + a.sTableId + '_wrapper" class="' + a.oClasses.sWrapper + '" role="grid"></div>')[0]; a.nTableReinsertBefore = a.nTable.nextSibling; for (var c = a.nTableWrapper, d = a.sDom.split(""), g, f, h, e, s, m, o, k = 0; k < d.length; k++) { f = 0; h = d[k]; if ("<" == h) { e = i("<div></div>")[0]; s = d[k + 1]; if ("'" == s || '"' == s) { m = ""; for (o = 2; d[k + o] != s;) { m += d[k + o], o++ } "H" == m ? m = a.oClasses.sJUIHeader : "F" == m && (m = a.oClasses.sJUIFooter); -1 != m.indexOf(".") ? (s = m.split("."), e.id = s[0].substr(1, s[0].length - 1), e.className = s[1]) : "#" == m.charAt(0) ? e.id = m.substr(1, m.length - 1) : e.className = m; k += o } c.appendChild(e); c = e } else { if (">" == h) { c = c.parentNode } else { if ("l" == h && a.oFeatures.bPaginate && a.oFeatures.bLengthChange) { g = ya(a), f = 1 } else { if ("f" == h && a.oFeatures.bFilter) { g = za(a), f = 1 } else { if ("r" == h && a.oFeatures.bProcessing) { g = Aa(a), f = 1 } else { if ("t" == h) { g = Ba(a), f = 1 } else { if ("i" == h && a.oFeatures.bInfo) { g = Ca(a), f = 1 } else { if ("p" == h && a.oFeatures.bPaginate) { g = Da(a), f = 1 } else { if (0 !== j.ext.aoFeatures.length) { e = j.ext.aoFeatures; o = 0; for (s = e.length; o < s; o++) { if (h == e[o].cFeature) { (g = e[o].fnInit(a)) && (f = 1); break } } } } } } } } } } } 1 == f && null !== g && ("object" !== typeof a.aanFeatures[h] && (a.aanFeatures[h] = []), a.aanFeatures[h].push(g), c.appendChild(g)) } b.parentNode.replaceChild(a.nTableWrapper, b) } function T(a, b) { var c = i(b).children("tr"), d, g, f, h, e, s, m, j; a.splice(0, a.length); g = 0; for (s = c.length; g < s; g++) { a.push([]) } g = 0; for (s = c.length; g < s; g++) { f = 0; for (m = c[g].childNodes.length; f < m; f++) { if (d = c[g].childNodes[f], "TD" == d.nodeName.toUpperCase() || "TH" == d.nodeName.toUpperCase()) { var o = 1 * d.getAttribute("colspan"), k = 1 * d.getAttribute("rowspan"), o = !o || 0 === o || 1 === o ? 1 : o, k = !k || 0 === k || 1 === k ? 1 : k; for (h = 0; a[g][h];) { h++ } j = h; for (e = 0; e < o; e++) { for (h = 0; h < k; h++) { a[g + h][j + e] = { cell: d, unique: 1 == o ? !0 : !1 }, a[g + h].nTr = c[g] } } } } } } function O(a, b, c) { var d = []; c || (c = a.aoHeader, b && (c = [], T(c, b))); for (var b = 0, g = c.length; b < g; b++) { for (var f = 0, h = c[b].length; f < h; f++) { if (c[b][f].unique && (!d[f] || !a.bSortCellsTop)) { d[f] = c[b][f].cell } } } return d } function wa(a) { if (a.bAjaxDataGet) { a.iDraw++; F(a, !0); var b = Ea(a); ia(a, b); a.fnServerData.call(a.oInstance, a.sAjaxSource, b, function (b) { Fa(a, b) }, a); return !1 } return !0 } function Ea(a) { var b = a.aoColumns.length, c = [], d, g, f, h; c.push({ name: "sEcho", value: a.iDraw }); c.push({ name: "iColumns", value: b }); c.push({ name: "sColumns", value: x(a) }); c.push({ name: "iDisplayStart", value: a._iDisplayStart }); c.push({ name: "iDisplayLength", value: !1 !== a.oFeatures.bPaginate ? a._iDisplayLength : -1 }); for (f = 0; f < b; f++) { d = a.aoColumns[f].mDataProp, c.push({ name: "mDataProp_" + f, value: "function" === typeof d ? "function" : d }) } if (!1 !== a.oFeatures.bFilter) { c.push({ name: "sSearch", value: a.oPreviousSearch.sSearch }); c.push({ name: "bRegex", value: a.oPreviousSearch.bRegex }); for (f = 0; f < b; f++) { c.push({ name: "sSearch_" + f, value: a.aoPreSearchCols[f].sSearch }), c.push({ name: "bRegex_" + f, value: a.aoPreSearchCols[f].bRegex }), c.push({ name: "bSearchable_" + f, value: a.aoColumns[f].bSearchable }) } } if (!1 !== a.oFeatures.bSort) { var e = 0; d = null !== a.aaSortingFixed ? a.aaSortingFixed.concat(a.aaSorting) : a.aaSorting.slice(); for (f = 0; f < d.length; f++) { g = a.aoColumns[d[f][0]].aDataSort; for (h = 0; h < g.length; h++) { c.push({ name: "iSortCol_" + e, value: g[h] }), c.push({ name: "sSortDir_" + e, value: d[f][1] }), e++ } } c.push({ name: "iSortingCols", value: e }); for (f = 0; f < b; f++) { c.push({ name: "bSortable_" + f, value: a.aoColumns[f].bSortable }) } } return c } function ia(a, b) { C(a, "aoServerParams", "serverParams", [b]) } function Fa(a, b) { if (b.sEcho !== n) { if (1 * b.sEcho < a.iDraw) { return } a.iDraw = 1 * b.sEcho } (!a.oScroll.bInfinite || a.oScroll.bInfinite && (a.bSorted || a.bFiltered)) && ea(a); a._iRecordsTotal = parseInt(b.iTotalRecords, 10); a._iRecordsDisplay = parseInt(b.iTotalDisplayRecords, 10); var c = x(a), c = b.sColumns !== n && "" !== c && b.sColumns != c, d; c && (d = D(a, b.sColumns)); for (var g = W(a.sAjaxDataProp)(b), f = 0, h = g.length; f < h; f++) { if (c) { for (var e = [], i = 0, m = a.aoColumns.length; i < m; i++) { e.push(g[f][d[i]]) } H(a, e) } else { H(a, g[f]) } } a.aiDisplay = a.aiDisplayMaster.slice(); a.bAjaxDataGet = !1; y(a); a.bAjaxDataGet = !0; F(a, !1) } function za(a) { var b = a.oPreviousSearch, c = a.oLanguage.sSearch, c = -1 !== c.indexOf("_INPUT_") ? c.replace("_INPUT_", '<input type="text" />') : "" === c ? '<input type="text" />' : c + ' <input type="text" />', d = l.createElement("div"); d.className = a.oClasses.sFilter; d.innerHTML = "<label>" + c + "</label>"; a.aanFeatures.f || (d.id = a.sTableId + "_filter"); c = i('input[type="text"]', d); d._DT_Input = c[0]; c.val(b.sSearch.replace('"', "&quot;")); c.bind("keyup.DT", function () { for (var c = a.aanFeatures.f, d = this.value === "" ? "" : this.value, h = 0, e = c.length; h < e; h++) { c[h] != i(this).parents("div.dataTables_filter")[0] && i(c[h]._DT_Input).val(d) } d != b.sSearch && M(a, { sSearch: d, bRegex: b.bRegex, bSmart: b.bSmart, bCaseInsensitive: b.bCaseInsensitive }) }); c.attr("aria-controls", a.sTableId).bind("keypress.DT", function (a) { if (a.keyCode == 13) { return false } }); return d } function M(a, b, c) { var d = a.oPreviousSearch, g = a.aoPreSearchCols, f = function (a) { d.sSearch = a.sSearch; d.bRegex = a.bRegex; d.bSmart = a.bSmart; d.bCaseInsensitive = a.bCaseInsensitive }; if (a.oFeatures.bServerSide) { f(b) } else { Ga(a, b.sSearch, c, b.bRegex, b.bSmart, b.bCaseInsensitive); f(b); for (b = 0; b < a.aoPreSearchCols.length; b++) { Ha(a, g[b].sSearch, b, g[b].bRegex, g[b].bSmart, g[b].bCaseInsensitive) } Ia(a) } a.bFiltered = !0; i(a.oInstance).trigger("filter", a); a._iDisplayStart = 0; A(a); y(a); ja(a, 0) } function Ia(a) { for (var b = j.ext.afnFiltering, c = 0, d = b.length; c < d; c++) { for (var g = 0, f = 0, h = a.aiDisplay.length; f < h; f++) { var e = a.aiDisplay[f - g]; b[c](a, X(a, e, "filter"), e) || (a.aiDisplay.splice(f - g, 1), g++) } } } function Ha(a, b, c, d, g, f) { if ("" !== b) { for (var h = 0, b = ka(b, d, g, f), d = a.aiDisplay.length - 1; 0 <= d; d--) { g = la(w(a, a.aiDisplay[d], c, "filter"), a.aoColumns[c].sType), b.test(g) || (a.aiDisplay.splice(d, 1), h++) } } } function Ga(a, b, c, d, g, f) { d = ka(b, d, g, f); g = a.oPreviousSearch; c || (c = 0); 0 !== j.ext.afnFiltering.length && (c = 1); if (0 >= b.length) { a.aiDisplay.splice(0, a.aiDisplay.length), a.aiDisplay = a.aiDisplayMaster.slice() } else { if (a.aiDisplay.length == a.aiDisplayMaster.length || g.sSearch.length > b.length || 1 == c || 0 !== b.indexOf(g.sSearch)) { a.aiDisplay.splice(0, a.aiDisplay.length); ja(a, 1); for (b = 0; b < a.aiDisplayMaster.length; b++) { d.test(a.asDataSearch[b]) && a.aiDisplay.push(a.aiDisplayMaster[b]) } } else { for (b = c = 0; b < a.asDataSearch.length; b++) { d.test(a.asDataSearch[b]) || (a.aiDisplay.splice(b - c, 1), c++) } } } } function ja(a, b) { if (!a.oFeatures.bServerSide) { a.asDataSearch.splice(0, a.asDataSearch.length); for (var c = b && 1 === b ? a.aiDisplayMaster : a.aiDisplay, d = 0, g = c.length; d < g; d++) { a.asDataSearch[d] = ma(a, X(a, c[d], "filter")) } } } function ma(a, b) { var c = ""; a.__nTmpFilter === n && (a.__nTmpFilter = l.createElement("div")); for (var d = a.__nTmpFilter, g = 0, f = a.aoColumns.length; g < f; g++) { a.aoColumns[g].bSearchable && (c += la(b[g], a.aoColumns[g].sType) + "  ") } -1 !== c.indexOf("&") && (d.innerHTML = c, c = d.textContent ? d.textContent : d.innerText, c = c.replace(/\n/g, " ").replace(/\r/g, "")); return c } function ka(a, b, c, d) { if (c) { return a = b ? a.split(" ") : na(a).split(" "), a = "^(?=.*?" + a.join(")(?=.*?") + ").*$", RegExp(a, d ? "i" : "") } a = b ? a : na(a); return RegExp(a, d ? "i" : "") } function la(a, b) { return "function" === typeof j.ext.ofnSearch[b] ? j.ext.ofnSearch[b](a) : null === a ? "" : "html" == b ? a.replace(/[\r\n]/g, " ").replace(/<.*?>/g, "") : "string" === typeof a ? a.replace(/[\r\n]/g, " ") : a } function na(a) { return a.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)", "g"), "\\$1") } function Ca(a) { var b = l.createElement("div"); b.className = a.oClasses.sInfo; a.aanFeatures.i || (a.aoDrawCallback.push({ fn: Ja, sName: "information" }), b.id = a.sTableId + "_info"); a.nTable.setAttribute("aria-describedby", a.sTableId + "_info"); return b } function Ja(a) { if (a.oFeatures.bInfo && 0 !== a.aanFeatures.i.length) { var b = a.oLanguage, c = a._iDisplayStart + 1, d = a.fnDisplayEnd(), g = a.fnRecordsTotal(), f = a.fnRecordsDisplay(), h; h = 0 === f && f == g ? b.sInfoEmpty : 0 === f ? b.sInfoEmpty + " " + b.sInfoFiltered : f == g ? b.sInfo : b.sInfo + " " + b.sInfoFiltered; h += b.sInfoPostFix; h = ha(a, h); null !== b.fnInfoCallback && (h = b.fnInfoCallback.call(a.oInstance, a, c, d, g, f, h)); a = a.aanFeatures.i; b = 0; for (c = a.length; b < c; b++) { i(a[b]).html(h) } } } function ha(a, b) { var c = a.fnFormatNumber(a._iDisplayStart + 1), d = a.fnDisplayEnd(), d = a.fnFormatNumber(d), g = a.fnRecordsDisplay(), g = a.fnFormatNumber(g), f = a.fnRecordsTotal(), f = a.fnFormatNumber(f); a.oScroll.bInfinite && (c = a.fnFormatNumber(1)); return b.replace("_START_", c).replace("_END_", d).replace("_TOTAL_", g).replace("_MAX_", f) } function aa(a) { var b, c, d = a.iInitDisplayStart; if (!1 === a.bInitialised) { setTimeout(function () { aa(a) }, 200) } else { xa(a); va(a); U(a, a.aoHeader); a.nTFoot && U(a, a.aoFooter); F(a, !0); a.oFeatures.bAutoWidth && ba(a); b = 0; for (c = a.aoColumns.length; b < c; b++) { null !== a.aoColumns[b].sWidth && (a.aoColumns[b].nTh.style.width = q(a.aoColumns[b].sWidth)) } a.oFeatures.bSort ? P(a) : a.oFeatures.bFilter ? M(a, a.oPreviousSearch) : (a.aiDisplay = a.aiDisplayMaster.slice(), A(a), y(a)); null !== a.sAjaxSource && !a.oFeatures.bServerSide ? (c = [], ia(a, c), a.fnServerData.call(a.oInstance, a.sAjaxSource, c, function (c) { var f = a.sAjaxDataProp !== "" ? W(a.sAjaxDataProp)(c) : c; for (b = 0; b < f.length; b++) { H(a, f[b]) } a.iInitDisplayStart = d; if (a.oFeatures.bSort) { P(a) } else { a.aiDisplay = a.aiDisplayMaster.slice(); A(a); y(a) } F(a, false); Z(a, c) }, a)) : a.oFeatures.bServerSide || (F(a, !1), Z(a)) } } function Z(a, b) { a._bInitComplete = !0; C(a, "aoInitComplete", "init", [a, b]) } function oa(a) { var b = j.defaults.oLanguage; !a.sEmptyTable && (a.sZeroRecords && "No data available in table" === b.sEmptyTable) && p(a, a, "sZeroRecords", "sEmptyTable"); !a.sLoadingRecords && (a.sZeroRecords && "Loading..." === b.sLoadingRecords) && p(a, a, "sZeroRecords", "sLoadingRecords") } function ya(a) { if (a.oScroll.bInfinite) { return null } var b = '<select size="1" ' + ('name="' + a.sTableId + '_length"') + ">", c, d, g = a.aLengthMenu; if (2 == g.length && "object" === typeof g[0] && "object" === typeof g[1]) { c = 0; for (d = g[0].length; c < d; c++) { b += '<option value="' + g[0][c] + '">' + g[1][c] + "</option>" } } else { c = 0; for (d = g.length; c < d; c++) { b += '<option value="' + g[c] + '">' + g[c] + "</option>" } } b += "</select>"; g = l.createElement("div"); a.aanFeatures.l || (g.id = a.sTableId + "_length"); g.className = a.oClasses.sLength; g.innerHTML = "<label>" + a.oLanguage.sLengthMenu.replace("_MENU_", b) + "</label>"; i('select option[value="' + a._iDisplayLength + '"]', g).attr("selected", !0); i("select", g).bind("change.DT", function () { var b = i(this).val(), g = a.aanFeatures.l; c = 0; for (d = g.length; c < d; c++) { g[c] != this.parentNode && i("select", g[c]).val(b) } a._iDisplayLength = parseInt(b, 10); A(a); if (a.fnDisplayEnd() == a.fnRecordsDisplay()) { a._iDisplayStart = a.fnDisplayEnd() - a._iDisplayLength; if (a._iDisplayStart < 0) { a._iDisplayStart = 0 } } if (a._iDisplayLength == -1) { a._iDisplayStart = 0 } y(a) }); i("select", g).attr("aria-controls", a.sTableId); return g } function A(a) { a._iDisplayEnd = !1 === a.oFeatures.bPaginate ? a.aiDisplay.length : a._iDisplayStart + a._iDisplayLength > a.aiDisplay.length || -1 == a._iDisplayLength ? a.aiDisplay.length : a._iDisplayStart + a._iDisplayLength } function Da(a) { if (a.oScroll.bInfinite) { return null } var b = l.createElement("div"); b.className = a.oClasses.sPaging + a.sPaginationType; j.ext.oPagination[a.sPaginationType].fnInit(a, b, function (a) { A(a); y(a) }); a.aanFeatures.p || a.aoDrawCallback.push({ fn: function (a) { j.ext.oPagination[a.sPaginationType].fnUpdate(a, function (a) { A(a); y(a) }) }, sName: "pagination" }); return b } function pa(a, b) { var c = a._iDisplayStart; if ("number" === typeof b) { a._iDisplayStart = b * a._iDisplayLength, a._iDisplayStart > a.fnRecordsDisplay() && (a._iDisplayStart = 0) } else { if ("first" == b) { a._iDisplayStart = 0 } else { if ("previous" == b) { a._iDisplayStart = 0 <= a._iDisplayLength ? a._iDisplayStart - a._iDisplayLength : 0, 0 > a._iDisplayStart && (a._iDisplayStart = 0) } else { if ("next" == b) { 0 <= a._iDisplayLength ? a._iDisplayStart + a._iDisplayLength < a.fnRecordsDisplay() && (a._iDisplayStart += a._iDisplayLength) : a._iDisplayStart = 0 } else { if ("last" == b) { if (0 <= a._iDisplayLength) { var d = parseInt((a.fnRecordsDisplay() - 1) / a._iDisplayLength, 10) + 1; a._iDisplayStart = (d - 1) * a._iDisplayLength } else { a._iDisplayStart = 0 } } else { E(a, 0, "Unknown paging action: " + b) } } } } } i(a.oInstance).trigger("page", a); return c != a._iDisplayStart } function Aa(a) { var b = l.createElement("div"); a.aanFeatures.r || (b.id = a.sTableId + "_processing"); b.innerHTML = a.oLanguage.sProcessing; b.className = a.oClasses.sProcessing; a.nTable.parentNode.insertBefore(b, a.nTable); return b } function F(a, b) { if (a.oFeatures.bProcessing) { for (var c = a.aanFeatures.r, d = 0, g = c.length; d < g; d++) { c[d].style.visibility = b ? "visible" : "hidden" } } i(a.oInstance).trigger("processing", [a, b]) } function Ba(a) { if ("" === a.oScroll.sX && "" === a.oScroll.sY) { return a.nTable } var b = l.createElement("div"), c = l.createElement("div"), d = l.createElement("div"), g = l.createElement("div"), f = l.createElement("div"), h = l.createElement("div"), e = a.nTable.cloneNode(!1), j = a.nTable.cloneNode(!1), m = a.nTable.getElementsByTagName("thead")[0], o = 0 === a.nTable.getElementsByTagName("tfoot").length ? null : a.nTable.getElementsByTagName("tfoot")[0], k = a.oClasses; c.appendChild(d); f.appendChild(h); g.appendChild(a.nTable); b.appendChild(c); b.appendChild(g); d.appendChild(e); e.appendChild(m); null !== o && (b.appendChild(f), h.appendChild(j), j.appendChild(o)); b.className = k.sScrollWrapper; c.className = k.sScrollHead; d.className = k.sScrollHeadInner; g.className = k.sScrollBody; f.className = k.sScrollFoot; h.className = k.sScrollFootInner; a.oScroll.bAutoCss && (c.style.overflow = "hidden", c.style.position = "relative", f.style.overflow = "hidden", g.style.overflow = "auto"); c.style.border = "0"; c.style.width = "100%"; f.style.border = "0"; d.style.width = "" !== a.oScroll.sXInner ? a.oScroll.sXInner : "100%"; e.removeAttribute("id"); e.style.marginLeft = "0"; a.nTable.style.marginLeft = "0"; null !== o && (j.removeAttribute("id"), j.style.marginLeft = "0"); d = i(a.nTable).children("caption"); 0 < d.length && (d = d[0], "top" === d._captionSide ? e.appendChild(d) : "bottom" === d._captionSide && o && j.appendChild(d)); "" !== a.oScroll.sX && (c.style.width = q(a.oScroll.sX), g.style.width = q(a.oScroll.sX), null !== o && (f.style.width = q(a.oScroll.sX)), i(g).scroll(function () { c.scrollLeft = this.scrollLeft; if (o !== null) { f.scrollLeft = this.scrollLeft } })); "" !== a.oScroll.sY && (g.style.height = q(a.oScroll.sY)); a.aoDrawCallback.push({ fn: Ka, sName: "scrolling" }); a.oScroll.bInfinite && i(g).scroll(function () { if (!a.bDrawing && i(this).scrollTop() !== 0 && i(this).scrollTop() + i(this).height() > i(a.nTable).height() - a.oScroll.iLoadGap && a.fnDisplayEnd() < a.fnRecordsDisplay()) { pa(a, "next"); A(a); y(a) } }); a.nScrollHead = c; a.nScrollFoot = f; return b } function Ka(a) { var b = a.nScrollHead.getElementsByTagName("div")[0], c = b.getElementsByTagName("table")[0], d = a.nTable.parentNode, g, f, h, e, j, m, o, k, n = [], r = null !== a.nTFoot ? a.nScrollFoot.getElementsByTagName("div")[0] : null, p = null !== a.nTFoot ? r.getElementsByTagName("table")[0] : null, l = i.browser.msie && 7 >= i.browser.version; i(a.nTable).children("thead, tfoot").remove(); h = i(a.nTHead).clone()[0]; a.nTable.insertBefore(h, a.nTable.childNodes[0]); null !== a.nTFoot && (j = i(a.nTFoot).clone()[0], a.nTable.insertBefore(j, a.nTable.childNodes[1])); "" === a.oScroll.sX && (d.style.width = "100%", b.parentNode.style.width = "100%"); var t = O(a, h); g = 0; for (f = t.length; g < f; g++) { o = G(a, g), t[g].style.width = a.aoColumns[o].sWidth } null !== a.nTFoot && N(function (a) { a.style.width = "" }, j.getElementsByTagName("tr")); a.oScroll.bCollapse && "" !== a.oScroll.sY && (d.style.height = d.offsetHeight + a.nTHead.offsetHeight + "px"); g = i(a.nTable).outerWidth(); if ("" === a.oScroll.sX) { if (a.nTable.style.width = "100%", l && (i("tbody", d).height() > d.offsetHeight || "scroll" == i(d).css("overflow-y"))) { a.nTable.style.width = q(i(a.nTable).outerWidth() - a.oScroll.iBarWidth) } } else { "" !== a.oScroll.sXInner ? a.nTable.style.width = q(a.oScroll.sXInner) : g == i(d).width() && i(d).height() < i(a.nTable).height() ? (a.nTable.style.width = q(g - a.oScroll.iBarWidth), i(a.nTable).outerWidth() > g - a.oScroll.iBarWidth && (a.nTable.style.width = q(g))) : a.nTable.style.width = q(g) } g = i(a.nTable).outerWidth(); f = a.nTHead.getElementsByTagName("tr"); h = h.getElementsByTagName("tr"); N(function (a, b) { m = a.style; m.paddingTop = "0"; m.paddingBottom = "0"; m.borderTopWidth = "0"; m.borderBottomWidth = "0"; m.height = 0; k = i(a).width(); b.style.width = q(k); n.push(k) }, h, f); i(h).height(0); null !== a.nTFoot && (e = j.getElementsByTagName("tr"), j = a.nTFoot.getElementsByTagName("tr"), N(function (a, b) { m = a.style; m.paddingTop = "0"; m.paddingBottom = "0"; m.borderTopWidth = "0"; m.borderBottomWidth = "0"; m.height = 0; k = i(a).width(); b.style.width = q(k); n.push(k) }, e, j), i(e).height(0)); N(function (a) { a.innerHTML = ""; a.style.width = q(n.shift()) }, h); null !== a.nTFoot && N(function (a) { a.innerHTML = ""; a.style.width = q(n.shift()) }, e); if (i(a.nTable).outerWidth() < g) { e = d.scrollHeight > d.offsetHeight || "scroll" == i(d).css("overflow-y") ? g + a.oScroll.iBarWidth : g; if (l && (d.scrollHeight > d.offsetHeight || "scroll" == i(d).css("overflow-y"))) { a.nTable.style.width = q(e - a.oScroll.iBarWidth) } d.style.width = q(e); b.parentNode.style.width = q(e); null !== a.nTFoot && (r.parentNode.style.width = q(e)); "" === a.oScroll.sX ? E(a, 1, "The table cannot fit into the current element which will cause column misalignment. The table has been drawn at its minimum possible width.") : "" !== a.oScroll.sXInner && E(a, 1, "The table cannot fit into the current element which will cause column misalignment. Increase the sScrollXInner value or remove it to allow automatic calculation") } else { d.style.width = q("100%"), b.parentNode.style.width = q("100%"), null !== a.nTFoot && (r.parentNode.style.width = q("100%")) } "" === a.oScroll.sY && l && (d.style.height = q(a.nTable.offsetHeight + a.oScroll.iBarWidth)); "" !== a.oScroll.sY && a.oScroll.bCollapse && (d.style.height = q(a.oScroll.sY), l = "" !== a.oScroll.sX && a.nTable.offsetWidth > d.offsetWidth ? a.oScroll.iBarWidth : 0, a.nTable.offsetHeight < d.offsetHeight && (d.style.height = q(a.nTable.offsetHeight + l))); l = i(a.nTable).outerWidth(); c.style.width = q(l); b.style.width = q(l); c = i(a.nTable).height() > d.clientHeight || "scroll" == i(d).css("overflow-y"); b.style.paddingRight = c ? a.oScroll.iBarWidth + "px" : "0px"; null !== a.nTFoot && (p.style.width = q(l), r.style.width = q(l), r.style.paddingRight = c ? a.oScroll.iBarWidth + "px" : "0px"); i(d).scroll(); if (a.bSorted || a.bFiltered) { d.scrollTop = 0 } } function N(a, b, c) { for (var d = 0, g = b.length; d < g; d++) { for (var f = 0, h = b[d].childNodes.length; f < h; f++) { 1 == b[d].childNodes[f].nodeType && (c ? a(b[d].childNodes[f], c[d].childNodes[f]) : a(b[d].childNodes[f])) } } } function La(a, b) { if (!a || null === a || "" === a) { return 0 } b || (b = l.getElementsByTagName("body")[0]); var c, d = l.createElement("div"); d.style.width = q(a); b.appendChild(d); c = d.offsetWidth; b.removeChild(d); return c } function ba(a) { var b = 0, c, d = 0, g = a.aoColumns.length, f, h = i("th", a.nTHead), e = a.nTable.getAttribute("width"); for (f = 0; f < g; f++) { a.aoColumns[f].bVisible && (d++, null !== a.aoColumns[f].sWidth && (c = La(a.aoColumns[f].sWidthOrig, a.nTable.parentNode), null !== c && (a.aoColumns[f].sWidth = q(c)), b++)) } if (g == h.length && 0 === b && d == g && "" === a.oScroll.sX && "" === a.oScroll.sY) { for (f = 0; f < a.aoColumns.length; f++) { c = i(h[f]).width(), null !== c && (a.aoColumns[f].sWidth = q(c)) } } else { b = a.nTable.cloneNode(!1); f = a.nTHead.cloneNode(!0); d = l.createElement("tbody"); c = l.createElement("tr"); b.removeAttribute("id"); b.appendChild(f); null !== a.nTFoot && (b.appendChild(a.nTFoot.cloneNode(!0)), N(function (a) { a.style.width = "" }, b.getElementsByTagName("tr"))); b.appendChild(d); d.appendChild(c); d = i("thead th", b); 0 === d.length && (d = i("tbody tr:eq(0)>td", b)); h = O(a, f); for (f = d = 0; f < g; f++) { var j = a.aoColumns[f]; j.bVisible && null !== j.sWidthOrig && "" !== j.sWidthOrig ? h[f - d].style.width = q(j.sWidthOrig) : j.bVisible ? h[f - d].style.width = "" : d++ } for (f = 0; f < g; f++) { a.aoColumns[f].bVisible && (d = Ma(a, f), null !== d && (d = d.cloneNode(!0), "" !== a.aoColumns[f].sContentPadding && (d.innerHTML += a.aoColumns[f].sContentPadding), c.appendChild(d))) } g = a.nTable.parentNode; g.appendChild(b); "" !== a.oScroll.sX && "" !== a.oScroll.sXInner ? b.style.width = q(a.oScroll.sXInner) : "" !== a.oScroll.sX ? (b.style.width = "", i(b).width() < g.offsetWidth && (b.style.width = q(g.offsetWidth))) : "" !== a.oScroll.sY ? b.style.width = q(g.offsetWidth) : e && (b.style.width = q(e)); b.style.visibility = "hidden"; Na(a, b); g = i("tbody tr:eq(0)", b).children(); 0 === g.length && (g = O(a, i("thead", b)[0])); if ("" !== a.oScroll.sX) { for (f = d = c = 0; f < a.aoColumns.length; f++) { a.aoColumns[f].bVisible && (c = null === a.aoColumns[f].sWidthOrig ? c + i(g[d]).outerWidth() : c + (parseInt(a.aoColumns[f].sWidth.replace("px", ""), 10) + (i(g[d]).outerWidth() - i(g[d]).width())), d++) } b.style.width = q(c); a.nTable.style.width = q(c) } for (f = d = 0; f < a.aoColumns.length; f++) { a.aoColumns[f].bVisible && (c = i(g[d]).width(), null !== c && 0 < c && (a.aoColumns[f].sWidth = q(c)), d++) } g = i(b).css("width"); a.nTable.style.width = -1 !== g.indexOf("%") ? g : q(i(b).outerWidth()); b.parentNode.removeChild(b) } e && (a.nTable.style.width = q(e)) } function Na(a, b) { "" === a.oScroll.sX && "" !== a.oScroll.sY ? (i(b).width(), b.style.width = q(i(b).outerWidth() - a.oScroll.iBarWidth)) : "" !== a.oScroll.sX && (b.style.width = q(i(b).outerWidth())) } function Ma(a, b) { var c = Oa(a, b); if (0 > c) { return null } if (null === a.aoData[c].nTr) { var d = l.createElement("td"); d.innerHTML = w(a, c, b, ""); return d } return L(a, c)[b] } function Oa(a, b) { for (var c = -1, d = -1, g = 0; g < a.aoData.length; g++) { var f = w(a, g, b, "display") + "", f = f.replace(/<.*?>/g, ""); f.length > c && (c = f.length, d = g) } return d } function q(a) { if (null === a) { return "0px" } if ("number" == typeof a) { return 0 > a ? "0px" : a + "px" } var b = a.charCodeAt(a.length - 1); return 48 > b || 57 < b ? a : a + "px" } function Pa() { var a = l.createElement("p"), b = a.style; b.width = "100%"; b.height = "200px"; b.padding = "0px"; var c = l.createElement("div"), b = c.style; b.position = "absolute"; b.top = "0px"; b.left = "0px"; b.visibility = "hidden"; b.width = "200px"; b.height = "150px"; b.padding = "0px"; b.overflow = "hidden"; c.appendChild(a); l.body.appendChild(c); b = a.offsetWidth; c.style.overflow = "scroll"; a = a.offsetWidth; b == a && (a = c.clientWidth); l.body.removeChild(c); return b - a } function P(a, b) { var c, d, g, f, h, e, o = [], m = [], k = j.ext.oSort, r = a.aoData, l = a.aoColumns, p = a.oLanguage.oAria; if (!a.oFeatures.bServerSide && (0 !== a.aaSorting.length || null !== a.aaSortingFixed)) { o = null !== a.aaSortingFixed ? a.aaSortingFixed.concat(a.aaSorting) : a.aaSorting.slice(); for (c = 0; c < o.length; c++) { if (d = o[c][0], g = t(a, d), f = a.aoColumns[d].sSortDataType, j.ext.afnSortData[f]) { if (h = j.ext.afnSortData[f].call(a.oInstance, a, d, g), h.length === r.length) { g = 0; for (f = r.length; g < f; g++) { I(a, g, d, h[g]) } } else { E(a, 0, "Returned data sort array (col " + d + ") is the wrong length") } } } c = 0; for (d = a.aiDisplayMaster.length; c < d; c++) { m[a.aiDisplayMaster[c]] = c } var q = o.length, G; c = 0; for (d = r.length; c < d; c++) { for (g = 0; g < q; g++) { G = l[o[g][0]].aDataSort; h = 0; for (e = G.length; h < e; h++) { f = l[G[h]].sType, f = k[(f ? f : "string") + "-pre"], r[c]._aSortData[G[h]] = f ? f(w(a, c, G[h], "sort")) : w(a, c, G[h], "sort") } } } a.aiDisplayMaster.sort(function (a, b) { var c, d, g, f, h; for (c = 0; c < q; c++) { h = l[o[c][0]].aDataSort; d = 0; for (g = h.length; d < g; d++) { if (f = l[h[d]].sType, f = k[(f ? f : "string") + "-" + o[c][1]](r[a]._aSortData[h[d]], r[b]._aSortData[h[d]]), 0 !== f) { return f } } } return k["numeric-asc"](m[a], m[b]) }) } (b === n || b) && !a.oFeatures.bDeferRender && Q(a); c = 0; for (d = a.aoColumns.length; c < d; c++) { f = l[c].sTitle.replace(/<.*?>/g, ""), g = l[c].nTh, g.removeAttribute("aria-sort"), g.removeAttribute("aria-label"), l[c].bSortable ? 0 < o.length && o[0][0] == c ? (g.setAttribute("aria-sort", "asc" == o[0][1] ? "ascending" : "descending"), g.setAttribute("aria-label", f + ("asc" == (l[c].asSorting[o[0][2] + 1] ? l[c].asSorting[o[0][2] + 1] : l[c].asSorting[0]) ? p.sSortAscending : p.sSortDescending))) : g.setAttribute("aria-label", f + ("asc" == l[c].asSorting[0] ? p.sSortAscending : p.sSortDescending)) : g.setAttribute("aria-label", f) } a.bSorted = !0; i(a.oInstance).trigger("sort", a); a.oFeatures.bFilter ? M(a, a.oPreviousSearch, 1) : (a.aiDisplay = a.aiDisplayMaster.slice(), a._iDisplayStart = 0, A(a), y(a)) } function ga(a, b, c, d) { Qa(b, {}, function (b) { if (!1 !== a.aoColumns[c].bSortable) { var f = function () { var d, f; if (b.shiftKey) { for (var e = !1, i = 0; i < a.aaSorting.length; i++) { if (a.aaSorting[i][0] == c) { e = !0; d = a.aaSorting[i][0]; f = a.aaSorting[i][2] + 1; a.aoColumns[d].asSorting[f] ? (a.aaSorting[i][1] = a.aoColumns[d].asSorting[f], a.aaSorting[i][2] = f) : a.aaSorting.splice(i, 1); break } } !1 === e && a.aaSorting.push([c, a.aoColumns[c].asSorting[0], 0]) } else { 1 == a.aaSorting.length && a.aaSorting[0][0] == c ? (d = a.aaSorting[0][0], f = a.aaSorting[0][2] + 1, a.aoColumns[d].asSorting[f] || (f = 0), a.aaSorting[0][1] = a.aoColumns[d].asSorting[f], a.aaSorting[0][2] = f) : (a.aaSorting.splice(0, a.aaSorting.length), a.aaSorting.push([c, a.aoColumns[c].asSorting[0], 0])) } P(a) }; a.oFeatures.bProcessing ? (F(a, !0), setTimeout(function () { f(); a.oFeatures.bServerSide || F(a, !1) }, 0)) : f(); "function" == typeof d && d(a) } }) } function Q(a) { var b, c, d, g, f, h = a.aoColumns.length, e = a.oClasses; for (b = 0; b < h; b++) { a.aoColumns[b].bSortable && i(a.aoColumns[b].nTh).removeClass(e.sSortAsc + " " + e.sSortDesc + " " + a.aoColumns[b].sSortingClass) } g = null !== a.aaSortingFixed ? a.aaSortingFixed.concat(a.aaSorting) : a.aaSorting.slice(); for (b = 0; b < a.aoColumns.length; b++) { if (a.aoColumns[b].bSortable) { f = a.aoColumns[b].sSortingClass; d = -1; for (c = 0; c < g.length; c++) { if (g[c][0] == b) { f = "asc" == g[c][1] ? e.sSortAsc : e.sSortDesc; d = c; break } } i(a.aoColumns[b].nTh).addClass(f); a.bJUI && (c = i("span." + e.sSortIcon, a.aoColumns[b].nTh), c.removeClass(e.sSortJUIAsc + " " + e.sSortJUIDesc + " " + e.sSortJUI + " " + e.sSortJUIAscAllowed + " " + e.sSortJUIDescAllowed), c.addClass(-1 == d ? a.aoColumns[b].sSortingClassJUI : "asc" == g[d][1] ? e.sSortJUIAsc : e.sSortJUIDesc)) } else { i(a.aoColumns[b].nTh).addClass(a.aoColumns[b].sSortingClass) } } f = e.sSortColumn; if (a.oFeatures.bSort && a.oFeatures.bSortClasses) { d = L(a); if (a.oFeatures.bDeferRender) { i(d).removeClass(f + "1 " + f + "2 " + f + "3") } else { if (d.length >= h) { for (b = 0; b < h; b++) { if (-1 != d[b].className.indexOf(f + "1")) { c = 0; for (a = d.length / h; c < a; c++) { d[h * c + b].className = i.trim(d[h * c + b].className.replace(f + "1", "")) } } else { if (-1 != d[b].className.indexOf(f + "2")) { c = 0; for (a = d.length / h; c < a; c++) { d[h * c + b].className = i.trim(d[h * c + b].className.replace(f + "2", "")) } } else { if (-1 != d[b].className.indexOf(f + "3")) { c = 0; for (a = d.length / h; c < a; c++) { d[h * c + b].className = i.trim(d[h * c + b].className.replace(" " + f + "3", "")) } } } } } } } var e = 1, j; for (b = 0; b < g.length; b++) { j = parseInt(g[b][0], 10); c = 0; for (a = d.length / h; c < a; c++) { d[h * c + j].className += " " + f + e } 3 > e && e++ } } } function qa(a) { if (a.oFeatures.bStateSave && !a.bDestroying) { var b, c; b = a.oScroll.bInfinite; var d = { iCreate: (new Date).getTime(), iStart: b ? 0 : a._iDisplayStart, iEnd: b ? a._iDisplayLength : a._iDisplayEnd, iLength: a._iDisplayLength, aaSorting: i.extend(!0, [], a.aaSorting), oSearch: i.extend(!0, {}, a.oPreviousSearch), aoSearchCols: i.extend(!0, [], a.aoPreSearchCols), abVisCols: [] }; b = 0; for (c = a.aoColumns.length; b < c; b++) { d.abVisCols.push(a.aoColumns[b].bVisible) } C(a, "aoStateSaveParams", "stateSaveParams", [a, d]); a.fnStateSave.call(a.oInstance, a, d) } } function Ra(a, b) { if (a.oFeatures.bStateSave) { var c = a.fnStateLoad.call(a.oInstance, a); if (c) { var d = C(a, "aoStateLoadParams", "stateLoadParams", [a, c]); if (-1 === i.inArray(!1, d)) { a.oLoadedState = i.extend(!0, {}, c); a._iDisplayStart = c.iStart; a.iInitDisplayStart = c.iStart; a._iDisplayEnd = c.iEnd; a._iDisplayLength = c.iLength; a.aaSorting = c.aaSorting.slice(); a.saved_aaSorting = c.aaSorting.slice(); i.extend(a.oPreviousSearch, c.oSearch); i.extend(!0, a.aoPreSearchCols, c.aoSearchCols); b.saved_aoColumns = []; for (d = 0; d < c.abVisCols.length; d++) { b.saved_aoColumns[d] = {}, b.saved_aoColumns[d].bVisible = c.abVisCols[d] } C(a, "aoStateLoaded", "stateLoaded", [a, c]) } } } } function Sa(a) { for (var b = V.location.pathname.split("/"), a = a + "_" + b[b.length - 1].replace(/[\/:]/g, "").toLowerCase() + "=", b = l.cookie.split(";"), c = 0; c < b.length; c++) { for (var d = b[c]; " " == d.charAt(0) ;) { d = d.substring(1, d.length) } if (0 === d.indexOf(a)) { return decodeURIComponent(d.substring(a.length, d.length)) } } return null } function u(a) { for (var b = 0; b < j.settings.length; b++) { if (j.settings[b].nTable === a) { return j.settings[b] } } return null } function S(a) { for (var b = [], a = a.aoData, c = 0, d = a.length; c < d; c++) { null !== a[c].nTr && b.push(a[c].nTr) } return b } function L(a, b) { var c = [], d, g, f, e, i, j; g = 0; var o = a.aoData.length; b !== n && (g = b, o = b + 1); for (f = g; f < o; f++) { if (j = a.aoData[f], null !== j.nTr) { g = []; e = 0; for (i = j.nTr.childNodes.length; e < i; e++) { d = j.nTr.childNodes[e].nodeName.toLowerCase(), ("td" == d || "th" == d) && g.push(j.nTr.childNodes[e]) } e = d = 0; for (i = a.aoColumns.length; e < i; e++) { a.aoColumns[e].bVisible ? c.push(g[e - d]) : (c.push(j._anHidden[e]), d++) } } } return c } function E(a, b, c) { a = null === a ? "DataTables warning: " + c : "DataTables warning (table id = '" + a.sTableId + "'): " + c; if (0 === b) { if ("alert" == j.ext.sErrMode) { alert(a) } else { throw Error(a) } } else { V.console && console.log && console.log(a) } } function p(a, b, c, d) { d === n && (d = c); b[c] !== n && (a[d] = b[c]) } function Ta(a, b) { for (var c in b) { b.hasOwnProperty(c) && ("object" === typeof e[c] && !1 === i.isArray(b[c]) ? i.extend(!0, a[c], b[c]) : a[c] = b[c]) } return a } function Qa(a, b, c) { i(a).bind("click.DT", b, function (b) { a.blur(); c(b) }).bind("keypress.DT", b, function (a) { 13 === a.which && c(a) }).bind("selectstart.DT", function () { return !1 }) } function B(a, b, c, d) { c && a[b].push({ fn: c, sName: d }) } function C(a, b, c, d) { for (var b = a[b], g = [], f = b.length - 1; 0 <= f; f--) { g.push(b[f].fn.apply(a.oInstance, d)) } null !== c && i(a.oInstance).trigger(c, d); return g } function Ua(a) { return function () { var b = [u(this[j.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments)); return j.ext.oApi[a].apply(this, b) } } var Va = V.JSON ? JSON.stringify : function (a) { var b = typeof a; if ("object" !== b || null === a) { return "string" === b && (a = '"' + a + '"'), a + "" } var c, d, g = [], f = i.isArray(a); for (c in a) { d = a[c], b = typeof d, "string" === b ? d = '"' + d + '"' : "object" === b && null !== d && (d = Va(d)), g.push((f ? "" : '"' + c + '":') + d) } return (f ? "[" : "{") + g + (f ? "]" : "}") }; this.$ = function (a, b) { var c, d, g = [], f; d = u(this[j.ext.iApiIndex]); var e = d.aoData, o = d.aiDisplay, k = d.aiDisplayMaster; b || (b = {}); b = i.extend({}, { filter: "none", order: "current", page: "all" }, b); if ("current" == b.page) { c = d._iDisplayStart; for (d = d.fnDisplayEnd() ; c < d; c++) { (f = e[o[c]].nTr) && g.push(f) } } else { if ("current" == b.order && "none" == b.filter) { c = 0; for (d = k.length; c < d; c++) { (f = e[k[c]].nTr) && g.push(f) } } else { if ("current" == b.order && "applied" == b.filter) { c = 0; for (d = o.length; c < d; c++) { (f = e[o[c]].nTr) && g.push(f) } } else { if ("original" == b.order && "none" == b.filter) { c = 0; for (d = e.length; c < d; c++) { (f = e[c].nTr) && g.push(f) } } else { if ("original" == b.order && "applied" == b.filter) { c = 0; for (d = e.length; c < d; c++) { f = e[c].nTr, -1 !== i.inArray(c, o) && f && g.push(f) } } else { E(d, 1, "Unknown selection options") } } } } } g = i(g); c = g.filter(a); g = g.find(a); return i([].concat(i.makeArray(c), i.makeArray(g))) }; this._ = function (a, b) { var c = [], d, g, e = this.$(a, b); d = 0; for (g = e.length; d < g; d++) { c.push(this.fnGetData(e[d])) } return c }; this.fnAddData = function (a, b) { if (0 === a.length) { return [] } var c = [], d, g = u(this[j.ext.iApiIndex]); if ("object" === typeof a[0] && null !== a[0]) { for (var e = 0; e < a.length; e++) { d = H(g, a[e]); if (-1 == d) { return c } c.push(d) } } else { d = H(g, a); if (-1 == d) { return c } c.push(d) } g.aiDisplay = g.aiDisplayMaster.slice(); (b === n || b) && $(g); return c }; this.fnAdjustColumnSizing = function (a) { var b = u(this[j.ext.iApiIndex]); k(b); a === n || a ? this.fnDraw(!1) : ("" !== b.oScroll.sX || "" !== b.oScroll.sY) && this.oApi._fnScrollDraw(b) }; this.fnClearTable = function (a) { var b = u(this[j.ext.iApiIndex]); ea(b); (a === n || a) && y(b) }; this.fnClose = function (a) { for (var b = u(this[j.ext.iApiIndex]), c = 0; c < b.aoOpenRows.length; c++) { if (b.aoOpenRows[c].nParent == a) { return (a = b.aoOpenRows[c].nTr.parentNode) && a.removeChild(b.aoOpenRows[c].nTr), b.aoOpenRows.splice(c, 1), 0 } } return 1 }; this.fnDeleteRow = function (a, b, c) { var d = u(this[j.ext.iApiIndex]), g, e, a = "object" === typeof a ? K(d, a) : a, h = d.aoData.splice(a, 1); g = 0; for (e = d.aoData.length; g < e; g++) { null !== d.aoData[g].nTr && (d.aoData[g].nTr._DT_RowIndex = g) } g = i.inArray(a, d.aiDisplay); d.asDataSearch.splice(g, 1); fa(d.aiDisplayMaster, a); fa(d.aiDisplay, a); "function" === typeof b && b.call(this, d, h); d._iDisplayStart >= d.fnRecordsDisplay() && (d._iDisplayStart -= d._iDisplayLength, 0 > d._iDisplayStart && (d._iDisplayStart = 0)); if (c === n || c) { A(d), y(d) } return h }; this.fnDestroy = function (a) { var b = u(this[j.ext.iApiIndex]), c = b.nTableWrapper.parentNode, d = b.nTBody, g, e, a = a === n ? !1 : !0; b.bDestroying = !0; C(b, "aoDestroyCallback", "destroy", [b]); g = 0; for (e = b.aoColumns.length; g < e; g++) { !1 === b.aoColumns[g].bVisible && this.fnSetColumnVis(g, !0) } i(b.nTableWrapper).find("*").andSelf().unbind(".DT"); i("tbody>tr>td." + b.oClasses.sRowEmpty, b.nTable).parent().remove(); b.nTable != b.nTHead.parentNode && (i(b.nTable).children("thead").remove(), b.nTable.appendChild(b.nTHead)); b.nTFoot && b.nTable != b.nTFoot.parentNode && (i(b.nTable).children("tfoot").remove(), b.nTable.appendChild(b.nTFoot)); b.nTable.parentNode.removeChild(b.nTable); i(b.nTableWrapper).remove(); b.aaSorting = []; b.aaSortingFixed = []; Q(b); i(S(b)).removeClass(b.asStripeClasses.join(" ")); i("th, td", b.nTHead).removeClass([b.oClasses.sSortable, b.oClasses.sSortableAsc, b.oClasses.sSortableDesc, b.oClasses.sSortableNone].join(" ")); b.bJUI && (i("th span." + b.oClasses.sSortIcon + ", td span." + b.oClasses.sSortIcon, b.nTHead).remove(), i("th, td", b.nTHead).each(function () { var a = i("div." + b.oClasses.sSortJUIWrapper, this), c = a.contents(); i(this).append(c); a.remove() })); !a && b.nTableReinsertBefore ? c.insertBefore(b.nTable, b.nTableReinsertBefore) : a || c.appendChild(b.nTable); g = 0; for (e = b.aoData.length; g < e; g++) { null !== b.aoData[g].nTr && d.appendChild(b.aoData[g].nTr) } !0 === b.oFeatures.bAutoWidth && (b.nTable.style.width = q(b.sDestroyWidth)); i(d).children("tr:even").addClass(b.asDestroyStripes[0]); i(d).children("tr:odd").addClass(b.asDestroyStripes[1]); g = 0; for (e = j.settings.length; g < e; g++) { j.settings[g] == b && j.settings.splice(g, 1) } b = null }; this.fnDraw = function (a) { var b = u(this[j.ext.iApiIndex]); !1 === a ? (A(b), y(b)) : $(b) }; this.fnFilter = function (a, b, c, d, e, f) { var h = u(this[j.ext.iApiIndex]); if (h.oFeatures.bFilter) { if (c === n || null === c) { c = !1 } if (d === n || null === d) { d = !0 } if (e === n || null === e) { e = !0 } if (f === n || null === f) { f = !0 } if (b === n || null === b) { if (M(h, { sSearch: a + "", bRegex: c, bSmart: d, bCaseInsensitive: f }, 1), e && h.aanFeatures.f) { b = h.aanFeatures.f; c = 0; for (d = b.length; c < d; c++) { i(b[c]._DT_Input).val(a) } } } else { i.extend(h.aoPreSearchCols[b], { sSearch: a + "", bRegex: c, bSmart: d, bCaseInsensitive: f }), M(h, h.oPreviousSearch, 1) } } }; this.fnGetData = function (a, b) { var c = u(this[j.ext.iApiIndex]); if (a !== n) { var d = a; if ("object" === typeof a) { var e = a.nodeName.toLowerCase(); "tr" === e ? d = K(c, a) : "td" === e && (d = K(c, a.parentNode), b = da(c, d, a)) } return b !== n ? w(c, d, b, "") : c.aoData[d] !== n ? c.aoData[d]._aData : null } return Y(c) }; this.fnGetNodes = function (a) { var b = u(this[j.ext.iApiIndex]); return a !== n ? b.aoData[a] !== n ? b.aoData[a].nTr : null : S(b) }; this.fnGetPosition = function (a) { var b = u(this[j.ext.iApiIndex]), c = a.nodeName.toUpperCase(); return "TR" == c ? K(b, a) : "TD" == c || "TH" == c ? (c = K(b, a.parentNode), a = da(b, c, a), [c, t(b, a), a]) : null }; this.fnIsOpen = function (a) { for (var b = u(this[j.ext.iApiIndex]), c = 0; c < b.aoOpenRows.length; c++) { if (b.aoOpenRows[c].nParent == a) { return !0 } } return !1 }; this.fnOpen = function (a, b, c) { var d = u(this[j.ext.iApiIndex]), e = S(d); if (-1 !== i.inArray(a, e)) { this.fnClose(a); var e = l.createElement("tr"), f = l.createElement("td"); e.appendChild(f); f.className = c; f.colSpan = v(d); "string" === typeof b ? f.innerHTML = b : i(f).html(b); b = i("tr", d.nTBody); -1 != i.inArray(a, b) && i(e).insertAfter(a); d.aoOpenRows.push({ nTr: e, nParent: a }); return e } }; this.fnPageChange = function (a, b) { var c = u(this[j.ext.iApiIndex]); pa(c, a); A(c); (b === n || b) && y(c) }; this.fnSetColumnVis = function (a, b, c) { var d = u(this[j.ext.iApiIndex]), e, f, h = d.aoColumns, i = d.aoData, o, m; if (h[a].bVisible != b) { if (b) { for (e = f = 0; e < a; e++) { h[e].bVisible && f++ } m = f >= v(d); if (!m) { for (e = a; e < h.length; e++) { if (h[e].bVisible) { o = e; break } } } e = 0; for (f = i.length; e < f; e++) { null !== i[e].nTr && (m ? i[e].nTr.appendChild(i[e]._anHidden[a]) : i[e].nTr.insertBefore(i[e]._anHidden[a], L(d, e)[o])) } } else { e = 0; for (f = i.length; e < f; e++) { null !== i[e].nTr && (o = L(d, e)[a], i[e]._anHidden[a] = o, o.parentNode.removeChild(o)) } } h[a].bVisible = b; U(d, d.aoHeader); d.nTFoot && U(d, d.aoFooter); e = 0; for (f = d.aoOpenRows.length; e < f; e++) { d.aoOpenRows[e].nTr.colSpan = v(d) } if (c === n || c) { k(d), y(d) } qa(d) } }; this.fnSettings = function () { return u(this[j.ext.iApiIndex]) }; this.fnSort = function (a) { var b = u(this[j.ext.iApiIndex]); b.aaSorting = a; P(b) }; this.fnSortListener = function (a, b, c) { ga(u(this[j.ext.iApiIndex]), a, b, c) }; this.fnUpdate = function (a, b, c, d, e) { var f = u(this[j.ext.iApiIndex]), b = "object" === typeof b ? K(f, b) : b; if (f.__fnUpdateDeep === n && i.isArray(a) && "object" === typeof a) { f.aoData[b]._aData = a.slice(); f.__fnUpdateDeep = !0; for (c = 0; c < f.aoColumns.length; c++) { this.fnUpdate(w(f, b, c), b, c, !1, !1) } f.__fnUpdateDeep = n } else { if (f.__fnUpdateDeep === n && null !== a && "object" === typeof a) { f.aoData[b]._aData = i.extend(!0, {}, a); f.__fnUpdateDeep = !0; for (c = 0; c < f.aoColumns.length; c++) { this.fnUpdate(w(f, b, c), b, c, !1, !1) } f.__fnUpdateDeep = n } else { I(f, b, c, a); var a = w(f, b, c, "display"), h = f.aoColumns[c]; null !== h.fnRender && (a = R(f, b, c), h.bUseRendered && I(f, b, c, a)); null !== f.aoData[b].nTr && (L(f, b)[c].innerHTML = a) } } c = i.inArray(b, f.aiDisplay); f.asDataSearch[c] = ma(f, X(f, b, "filter")); (e === n || e) && k(f); (d === n || d) && $(f); return 0 }; this.fnVersionCheck = j.ext.fnVersionCheck; this.oApi = { _fnExternApiFunc: Ua, _fnInitialise: aa, _fnInitComplete: Z, _fnLanguageCompat: oa, _fnAddColumn: o, _fnColumnOptions: r, _fnAddData: H, _fnCreateTr: ca, _fnGatherData: ua, _fnBuildHead: va, _fnDrawHead: U, _fnDraw: y, _fnReDraw: $, _fnAjaxUpdate: wa, _fnAjaxParameters: Ea, _fnAjaxUpdateDraw: Fa, _fnServerParams: ia, _fnAddOptionsHtml: xa, _fnFeatureHtmlTable: Ba, _fnScrollDraw: Ka, _fnAdjustColumnSizing: k, _fnFeatureHtmlFilter: za, _fnFilterComplete: M, _fnFilterCustom: Ia, _fnFilterColumn: Ha, _fnFilter: Ga, _fnBuildSearchArray: ja, _fnBuildSearchRow: ma, _fnFilterCreateSearch: ka, _fnDataToSearch: la, _fnSort: P, _fnSortAttachListener: ga, _fnSortingClasses: Q, _fnFeatureHtmlPaginate: Da, _fnPageChange: pa, _fnFeatureHtmlInfo: Ca, _fnUpdateInfo: Ja, _fnFeatureHtmlLength: ya, _fnFeatureHtmlProcessing: Aa, _fnProcessingDisplay: F, _fnVisibleToColumnIndex: G, _fnColumnIndexToVisible: t, _fnNodeToDataIndex: K, _fnVisbleColumns: v, _fnCalculateEnd: A, _fnConvertToWidth: La, _fnCalculateColumnWidths: ba, _fnScrollingWidthAdjust: Na, _fnGetWidestNode: Ma, _fnGetMaxLenString: Oa, _fnStringToCss: q, _fnDetectType: z, _fnSettingsFromNode: u, _fnGetDataMaster: Y, _fnGetTrNodes: S, _fnGetTdNodes: L, _fnEscapeRegex: na, _fnDeleteIndex: fa, _fnReOrderIndex: D, _fnColumnOrdering: x, _fnLog: E, _fnClearTable: ea, _fnSaveState: qa, _fnLoadState: Ra, _fnCreateCookie: function (a, b, c, d, e) { var f = new Date; f.setTime(f.getTime() + 1000 * c); var c = V.location.pathname.split("/"), a = a + "_" + c.pop().replace(/[\/:]/g, "").toLowerCase(), h; null !== e ? (h = "function" === typeof i.parseJSON ? i.parseJSON(b) : eval("(" + b + ")"), b = e(a, h, f.toGMTString(), c.join("/") + "/")) : b = a + "=" + encodeURIComponent(b) + "; expires=" + f.toGMTString() + "; path=" + c.join("/") + "/"; e = ""; f = 9999999999999; if (4096 < (null !== Sa(a) ? l.cookie.length : b.length + l.cookie.length) + 10) { for (var a = l.cookie.split(";"), o = 0, j = a.length; o < j; o++) { if (-1 != a[o].indexOf(d)) { var k = a[o].split("="); try { h = eval("(" + decodeURIComponent(k[1]) + ")") } catch (r) { continue } h.iCreate && h.iCreate < f && (e = k[0], f = h.iCreate) } } "" !== e && (l.cookie = e + "=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path=" + c.join("/") + "/") } l.cookie = b }, _fnReadCookie: Sa, _fnDetectHeader: T, _fnGetUniqueThs: O, _fnScrollBarWidth: Pa, _fnApplyToChildren: N, _fnMap: p, _fnGetRowData: X, _fnGetCellData: w, _fnSetCellData: I, _fnGetObjectDataFn: W, _fnSetObjectDataFn: ta, _fnApplyColumnDefs: J, _fnBindAction: Qa, _fnExtend: Ta, _fnCallbackReg: B, _fnCallbackFire: C, _fnJsonString: Va, _fnRender: R, _fnNodeToColumnIndex: da, _fnInfoMacros: ha }; i.extend(j.ext.oApi, this.oApi); for (var ra in j.ext.oApi) { ra && (this[ra] = Ua(ra)) } var sa = this; return this.each(function () { var a = 0, b, c, d; c = this.getAttribute("id"); var g = !1, f = !1; if ("table" != this.nodeName.toLowerCase()) { E(null, 0, "Attempted to initialise DataTables on a node which is not a table: " + this.nodeName) } else { a = 0; for (b = j.settings.length; a < b; a++) { if (j.settings[a].nTable == this) { if (e === n || e.bRetrieve) { return j.settings[a].oInstance } if (e.bDestroy) { j.settings[a].oInstance.fnDestroy(); break } else { E(j.settings[a], 0, "Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, pass no arguments or see the docs for bRetrieve and bDestroy"); return } } if (j.settings[a].sTableId == this.id) { j.settings.splice(a, 1); break } } if (null === c || "" === c) { this.id = c = "DataTables_Table_" + j.ext._oExternConfig.iNextUnique++ } var h = i.extend(!0, {}, j.models.oSettings, { nTable: this, oApi: sa.oApi, oInit: e, sDestroyWidth: i(this).width(), sInstance: c, sTableId: c }); j.settings.push(h); h.oInstance = 1 === sa.length ? sa : i(this).dataTable(); e || (e = {}); e.oLanguage && oa(e.oLanguage); e = Ta(i.extend(!0, {}, j.defaults), e); p(h.oFeatures, e, "bPaginate"); p(h.oFeatures, e, "bLengthChange"); p(h.oFeatures, e, "bFilter"); p(h.oFeatures, e, "bSort"); p(h.oFeatures, e, "bInfo"); p(h.oFeatures, e, "bProcessing"); p(h.oFeatures, e, "bAutoWidth"); p(h.oFeatures, e, "bSortClasses"); p(h.oFeatures, e, "bServerSide"); p(h.oFeatures, e, "bDeferRender"); p(h.oScroll, e, "sScrollX", "sX"); p(h.oScroll, e, "sScrollXInner", "sXInner"); p(h.oScroll, e, "sScrollY", "sY"); p(h.oScroll, e, "bScrollCollapse", "bCollapse"); p(h.oScroll, e, "bScrollInfinite", "bInfinite"); p(h.oScroll, e, "iScrollLoadGap", "iLoadGap"); p(h.oScroll, e, "bScrollAutoCss", "bAutoCss"); p(h, e, "asStripeClasses"); p(h, e, "asStripClasses", "asStripeClasses"); p(h, e, "fnServerData"); p(h, e, "fnFormatNumber"); p(h, e, "sServerMethod"); p(h, e, "aaSorting"); p(h, e, "aaSortingFixed"); p(h, e, "aLengthMenu"); p(h, e, "sPaginationType"); p(h, e, "sAjaxSource"); p(h, e, "sAjaxDataProp"); p(h, e, "iCookieDuration"); p(h, e, "sCookiePrefix"); p(h, e, "sDom"); p(h, e, "bSortCellsTop"); p(h, e, "iTabIndex"); p(h, e, "oSearch", "oPreviousSearch"); p(h, e, "aoSearchCols", "aoPreSearchCols"); p(h, e, "iDisplayLength", "_iDisplayLength"); p(h, e, "bJQueryUI", "bJUI"); p(h, e, "fnCookieCallback"); p(h, e, "fnStateLoad"); p(h, e, "fnStateSave"); p(h.oLanguage, e, "fnInfoCallback"); B(h, "aoDrawCallback", e.fnDrawCallback, "user"); B(h, "aoServerParams", e.fnServerParams, "user"); B(h, "aoStateSaveParams", e.fnStateSaveParams, "user"); B(h, "aoStateLoadParams", e.fnStateLoadParams, "user"); B(h, "aoStateLoaded", e.fnStateLoaded, "user"); B(h, "aoRowCallback", e.fnRowCallback, "user"); B(h, "aoRowCreatedCallback", e.fnCreatedRow, "user"); B(h, "aoHeaderCallback", e.fnHeaderCallback, "user"); B(h, "aoFooterCallback", e.fnFooterCallback, "user"); B(h, "aoInitComplete", e.fnInitComplete, "user"); B(h, "aoPreDrawCallback", e.fnPreDrawCallback, "user"); h.oFeatures.bServerSide && h.oFeatures.bSort && h.oFeatures.bSortClasses ? B(h, "aoDrawCallback", Q, "server_side_sort_classes") : h.oFeatures.bDeferRender && B(h, "aoDrawCallback", Q, "defer_sort_classes"); e.bJQueryUI ? (i.extend(h.oClasses, j.ext.oJUIClasses), e.sDom === j.defaults.sDom && "lfrtip" === j.defaults.sDom && (h.sDom = '<"H"lfr>t<"F"ip>')) : i.extend(h.oClasses, j.ext.oStdClasses); i(this).addClass(h.oClasses.sTable); if ("" !== h.oScroll.sX || "" !== h.oScroll.sY) { h.oScroll.iBarWidth = Pa() } h.iInitDisplayStart === n && (h.iInitDisplayStart = e.iDisplayStart, h._iDisplayStart = e.iDisplayStart); e.bStateSave && (h.oFeatures.bStateSave = !0, Ra(h, e), B(h, "aoDrawCallback", qa, "state_save")); null !== e.iDeferLoading && (h.bDeferLoading = !0, a = i.isArray(e.iDeferLoading), h._iRecordsDisplay = a ? e.iDeferLoading[0] : e.iDeferLoading, h._iRecordsTotal = a ? e.iDeferLoading[1] : e.iDeferLoading); null !== e.aaData && (f = !0); "" !== e.oLanguage.sUrl ? (h.oLanguage.sUrl = e.oLanguage.sUrl, i.getJSON(h.oLanguage.sUrl, null, function (a) { oa(a); i.extend(true, h.oLanguage, e.oLanguage, a); aa(h) }), g = !0) : i.extend(!0, h.oLanguage, e.oLanguage); null === e.asStripeClasses && (h.asStripeClasses = [h.oClasses.sStripeOdd, h.oClasses.sStripeEven]); c = !1; d = i(this).children("tbody").children("tr"); a = 0; for (b = h.asStripeClasses.length; a < b; a++) { if (d.filter(":lt(2)").hasClass(h.asStripeClasses[a])) { c = !0; break } } c && (h.asDestroyStripes = ["", ""], i(d[0]).hasClass(h.oClasses.sStripeOdd) && (h.asDestroyStripes[0] += h.oClasses.sStripeOdd + " "), i(d[0]).hasClass(h.oClasses.sStripeEven) && (h.asDestroyStripes[0] += h.oClasses.sStripeEven), i(d[1]).hasClass(h.oClasses.sStripeOdd) && (h.asDestroyStripes[1] += h.oClasses.sStripeOdd + " "), i(d[1]).hasClass(h.oClasses.sStripeEven) && (h.asDestroyStripes[1] += h.oClasses.sStripeEven), d.removeClass(h.asStripeClasses.join(" "))); c = []; a = this.getElementsByTagName("thead"); 0 !== a.length && (T(h.aoHeader, a[0]), c = O(h)); if (null === e.aoColumns) { d = []; a = 0; for (b = c.length; a < b; a++) { d.push(null) } } else { d = e.aoColumns } a = 0; for (b = d.length; a < b; a++) { e.saved_aoColumns !== n && e.saved_aoColumns.length == b && (null === d[a] && (d[a] = {}), d[a].bVisible = e.saved_aoColumns[a].bVisible), o(h, c ? c[a] : null) } J(h, e.aoColumnDefs, d, function (a, b) { r(h, a, b) }); a = 0; for (b = h.aaSorting.length; a < b; a++) { h.aaSorting[a][0] >= h.aoColumns.length && (h.aaSorting[a][0] = 0); var k = h.aoColumns[h.aaSorting[a][0]]; h.aaSorting[a][2] === n && (h.aaSorting[a][2] = 0); e.aaSorting === n && h.saved_aaSorting === n && (h.aaSorting[a][1] = k.asSorting[0]); c = 0; for (d = k.asSorting.length; c < d; c++) { if (h.aaSorting[a][1] == k.asSorting[c]) { h.aaSorting[a][2] = c; break } } } Q(h); a = i(this).children("caption").each(function () { this._captionSide = i(this).css("caption-side") }); b = i(this).children("thead"); 0 === b.length && (b = [l.createElement("thead")], this.appendChild(b[0])); h.nTHead = b[0]; b = i(this).children("tbody"); 0 === b.length && (b = [l.createElement("tbody")], this.appendChild(b[0])); h.nTBody = b[0]; h.nTBody.setAttribute("role", "alert"); h.nTBody.setAttribute("aria-live", "polite"); h.nTBody.setAttribute("aria-relevant", "all"); b = i(this).children("tfoot"); if (0 === b.length && 0 < a.length && ("" !== h.oScroll.sX || "" !== h.oScroll.sY)) { b = [l.createElement("tfoot")], this.appendChild(b[0]) } 0 < b.length && (h.nTFoot = b[0], T(h.aoFooter, h.nTFoot)); if (f) { for (a = 0; a < e.aaData.length; a++) { H(h, e.aaData[a]) } } else { ua(h) } h.aiDisplay = h.aiDisplayMaster.slice(); h.bInitialised = !0; !1 === g && aa(h) } }) }; j.fnVersionCheck = function (e) { for (var i = function (e, i) { for (; e.length < i;) { e += "0" } return e }, r = j.ext.sVersion.split("."), e = e.split("."), k = "", n = "", l = 0, v = e.length; l < v; l++) { k += i(r[l], 3), n += i(e[l], 3) } return parseInt(k, 10) >= parseInt(n, 10) }; j.fnIsDataTable = function (e) { for (var i = j.settings, r = 0; r < i.length; r++) { if (i[r].nTable === e || i[r].nScrollHead === e || i[r].nScrollFoot === e) { return !0 } } return !1 }; j.fnTables = function (e) { var o = []; jQuery.each(j.settings, function (j, k) { (!e || !0 === e && i(k.nTable).is(":visible")) && o.push(k.nTable) }); return o }; j.version = "1.9.2"; j.settings = []; j.models = {}; j.models.ext = { afnFiltering: [], afnSortData: [], aoFeatures: [], aTypes: [], fnVersionCheck: j.fnVersionCheck, iApiIndex: 0, ofnSearch: {}, oApi: {}, oStdClasses: {}, oJUIClasses: {}, oPagination: {}, oSort: {}, sVersion: j.version, sErrMode: "alert", _oExternConfig: { iNextUnique: 0 } }; j.models.oSearch = { bCaseInsensitive: !0, sSearch: "", bRegex: !1, bSmart: !0 }; j.models.oRow = { nTr: null, _aData: [], _aSortData: [], _anHidden: [], _sRowStripe: "" }; j.models.oColumn = { aDataSort: null, asSorting: null, bSearchable: null, bSortable: null, bUseRendered: null, bVisible: null, _bAutoType: !0, fnCreatedCell: null, fnGetData: null, fnRender: null, fnSetData: null, mDataProp: null, nTh: null, nTf: null, sClass: null, sContentPadding: null, sDefaultContent: null, sName: null, sSortDataType: "std", sSortingClass: null, sSortingClassJUI: null, sTitle: null, sType: null, sWidth: null, sWidthOrig: null }; j.defaults = { aaData: null, aaSorting: [[0, "asc"]], aaSortingFixed: null, aLengthMenu: [10, 25, 50, 100], aoColumns: null, aoColumnDefs: null, aoSearchCols: [], asStripeClasses: null, bAutoWidth: !0, bDeferRender: !1, bDestroy: !1, bFilter: !0, bInfo: !0, bJQueryUI: !1, bLengthChange: !0, bPaginate: !0, bProcessing: !1, bRetrieve: !1, bScrollAutoCss: !0, bScrollCollapse: !1, bScrollInfinite: !1, bServerSide: !1, bSort: !0, bSortCellsTop: !1, bSortClasses: !0, bStateSave: !1, fnCookieCallback: null, fnCreatedRow: null, fnDrawCallback: null, fnFooterCallback: null, fnFormatNumber: function (e) { if (1000 > e) { return e } for (var i = e + "", e = i.split(""), j = "", i = i.length, k = 0; k < i; k++) { 0 === k % 3 && 0 !== k && (j = this.oLanguage.sInfoThousands + j), j = e[i - k - 1] + j } return j }, fnHeaderCallback: null, fnInfoCallback: null, fnInitComplete: null, fnPreDrawCallback: null, fnRowCallback: null, fnServerData: function (e, j, n, k) { k.jqXHR = i.ajax({ url: e, data: j, success: function (e) { i(k.oInstance).trigger("xhr", k); n(e) }, dataType: "json", cache: !1, type: k.sServerMethod, error: function (e, i) { "parsererror" == i && k.oApi._fnLog(k, 0, "DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.") } }) }, fnServerParams: null, fnStateLoad: function (e) { var e = this.oApi._fnReadCookie(e.sCookiePrefix + e.sInstance), j; try { j = "function" === typeof i.parseJSON ? i.parseJSON(e) : eval("(" + e + ")") } catch (n) { j = null } return j }, fnStateLoadParams: null, fnStateLoaded: null, fnStateSave: function (e, i) { this.oApi._fnCreateCookie(e.sCookiePrefix + e.sInstance, this.oApi._fnJsonString(i), e.iCookieDuration, e.sCookiePrefix, e.fnCookieCallback) }, fnStateSaveParams: null, iCookieDuration: 7200, iDeferLoading: null, iDisplayLength: 10, iDisplayStart: 0, iScrollLoadGap: 100, iTabIndex: 0, oLanguage: { oAria: { sSortAscending: ": activate to sort column ascending", sSortDescending: ": activate to sort column descending" }, oPaginate: { sFirst: "First", sLast: "Last", sNext: "Next", sPrevious: "Previous" }, sEmptyTable: "No data available in table", sInfo: "Showing _START_ to _END_ of _TOTAL_ entries", sInfoEmpty: "Showing 0 to 0 of 0 entries", sInfoFiltered: "(filtered from _MAX_ total entries)", sInfoPostFix: "", sInfoThousands: ",", sLengthMenu: "Show _MENU_ entries", sLoadingRecords: "Loading...", sProcessing: "Processing...", sSearch: "Search:", sUrl: "", sZeroRecords: "No matching records found" }, oSearch: i.extend({}, j.models.oSearch), sAjaxDataProp: "aaData", sAjaxSource: null, sCookiePrefix: "SpryMedia_DataTables_", sDom: "lfrtip", sPaginationType: "two_button", sScrollX: "", sScrollXInner: "", sScrollY: "", sServerMethod: "GET" }; j.defaults.columns = { aDataSort: null, asSorting: ["asc", "desc"], bSearchable: !0, bSortable: !0, bUseRendered: !0, bVisible: !0, fnCreatedCell: null, fnRender: null, iDataSort: -1, mDataProp: null, sCellType: "td", sClass: "", sContentPadding: "", sDefaultContent: null, sName: "", sSortDataType: "std", sTitle: null, sType: null, sWidth: null }; j.models.oSettings = { oFeatures: { bAutoWidth: null, bDeferRender: null, bFilter: null, bInfo: null, bLengthChange: null, bPaginate: null, bProcessing: null, bServerSide: null, bSort: null, bSortClasses: null, bStateSave: null }, oScroll: { bAutoCss: null, bCollapse: null, bInfinite: null, iBarWidth: 0, iLoadGap: null, sX: null, sXInner: null, sY: null }, oLanguage: { fnInfoCallback: null }, aanFeatures: [], aoData: [], aiDisplay: [], aiDisplayMaster: [], aoColumns: [], aoHeader: [], aoFooter: [], asDataSearch: [], oPreviousSearch: {}, aoPreSearchCols: [], aaSorting: null, aaSortingFixed: null, asStripeClasses: null, asDestroyStripes: [], sDestroyWidth: 0, aoRowCallback: [], aoHeaderCallback: [], aoFooterCallback: [], aoDrawCallback: [], aoRowCreatedCallback: [], aoPreDrawCallback: [], aoInitComplete: [], aoStateSaveParams: [], aoStateLoadParams: [], aoStateLoaded: [], sTableId: "", nTable: null, nTHead: null, nTFoot: null, nTBody: null, nTableWrapper: null, bDeferLoading: !1, bInitialised: !1, aoOpenRows: [], sDom: null, sPaginationType: "two_button", iCookieDuration: 0, sCookiePrefix: "", fnCookieCallback: null, aoStateSave: [], aoStateLoad: [], oLoadedState: null, sAjaxSource: null, sAjaxDataProp: null, bAjaxDataGet: !0, jqXHR: null, fnServerData: null, aoServerParams: [], sServerMethod: null, fnFormatNumber: null, aLengthMenu: null, iDraw: 0, bDrawing: !1, iDrawError: -1, _iDisplayLength: 10, _iDisplayStart: 0, _iDisplayEnd: 10, _iRecordsTotal: 0, _iRecordsDisplay: 0, bJUI: null, oClasses: {}, bFiltered: !1, bSorted: !1, bSortCellsTop: null, oInit: null, aoDestroyCallback: [], fnRecordsTotal: function () { return this.oFeatures.bServerSide ? parseInt(this._iRecordsTotal, 10) : this.aiDisplayMaster.length }, fnRecordsDisplay: function () { return this.oFeatures.bServerSide ? parseInt(this._iRecordsDisplay, 10) : this.aiDisplay.length }, fnDisplayEnd: function () { return this.oFeatures.bServerSide ? !1 === this.oFeatures.bPaginate || -1 == this._iDisplayLength ? this._iDisplayStart + this.aiDisplay.length : Math.min(this._iDisplayStart + this._iDisplayLength, this._iRecordsDisplay) : this._iDisplayEnd }, oInstance: null, sInstance: null, iTabIndex: 0, nScrollHead: null, nScrollFoot: null }; j.ext = i.extend(!0, {}, j.models.ext); i.extend(j.ext.oStdClasses, { sTable: "dataTable", sPagePrevEnabled: "paginate_enabled_previous", sPagePrevDisabled: "paginate_disabled_previous", sPageNextEnabled: "paginate_enabled_next", sPageNextDisabled: "paginate_disabled_next", sPageJUINext: "", sPageJUIPrev: "", sPageButton: "paginate_button", sPageButtonActive: "paginate_active", sPageButtonStaticDisabled: "paginate_button paginate_button_disabled", sPageFirst: "first", sPagePrevious: "previous", sPageNext: "next", sPageLast: "last", sStripeOdd: "odd", sStripeEven: "even", sRowEmpty: "dataTables_empty", sWrapper: "dataTables_wrapper", sFilter: "dataTables_filter", sInfo: "dataTables_info", sPaging: "dataTables_paginate paging_", sLength: "dataTables_length", sProcessing: "dataTables_processing", sSortAsc: "sorting_asc", sSortDesc: "sorting_desc", sSortable: "sorting", sSortableAsc: "sorting_asc_disabled", sSortableDesc: "sorting_desc_disabled", sSortableNone: "sorting_disabled", sSortColumn: "sorting_", sSortJUIAsc: "", sSortJUIDesc: "", sSortJUI: "", sSortJUIAscAllowed: "", sSortJUIDescAllowed: "", sSortJUIWrapper: "", sSortIcon: "", sScrollWrapper: "dataTables_scroll", sScrollHead: "dataTables_scrollHead", sScrollHeadInner: "dataTables_scrollHeadInner", sScrollBody: "dataTables_scrollBody", sScrollFoot: "dataTables_scrollFoot", sScrollFootInner: "dataTables_scrollFootInner", sFooterTH: "", sJUIHeader: "", sJUIFooter: "" }); i.extend(j.ext.oJUIClasses, j.ext.oStdClasses, { sPagePrevEnabled: "fg-button ui-button ui-state-default ui-corner-left", sPagePrevDisabled: "fg-button ui-button ui-state-default ui-corner-left ui-state-disabled", sPageNextEnabled: "fg-button ui-button ui-state-default ui-corner-right", sPageNextDisabled: "fg-button ui-button ui-state-default ui-corner-right ui-state-disabled", sPageJUINext: "ui-icon ui-fa fa-circle-arrow-e", sPageJUIPrev: "ui-icon ui-fa fa-circle-arrow-w", sPageButton: "fg-button ui-button ui-state-default", sPageButtonActive: "fg-button ui-button ui-state-default ui-state-disabled", sPageButtonStaticDisabled: "fg-button ui-button ui-state-default ui-state-disabled", sPageFirst: "first ui-corner-tl ui-corner-bl", sPageLast: "last ui-corner-tr ui-corner-br", sPaging: "dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_", sSortAsc: "ui-state-default", sSortDesc: "ui-state-default", sSortable: "ui-state-default", sSortableAsc: "ui-state-default", sSortableDesc: "ui-state-default", sSortableNone: "ui-state-default", sSortJUIAsc: "css_right ui-icon ui-fa fa-triangle-1-n", sSortJUIDesc: "css_right ui-icon ui-fa fa-triangle-1-s", sSortJUI: "css_right ui-icon ui-fa fa-carat-2-n-s", sSortJUIAscAllowed: "css_right ui-icon ui-fa fa-carat-1-n", sSortJUIDescAllowed: "css_right ui-icon ui-fa fa-carat-1-s", sSortJUIWrapper: "DataTables_sort_wrapper", sSortIcon: "DataTables_sort_icon", sScrollHead: "dataTables_scrollHead ui-state-default", sScrollFoot: "dataTables_scrollFoot ui-state-default", sFooterTH: "ui-state-default", sJUIHeader: "fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix", sJUIFooter: "fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix" }); i.extend(j.ext.oPagination, { two_button: { fnInit: function (e, j, n) { var k = e.oLanguage.oPaginate, l = function (i) { e.oApi._fnPageChange(e, i.data.action) && n(e) }, k = !e.bJUI ? '<a class="' + e.oClasses.sPagePrevDisabled + '" tabindex="' + e.iTabIndex + '" role="button">' + k.sPrevious + '</a><a class="' + e.oClasses.sPageNextDisabled + '" tabindex="' + e.iTabIndex + '" role="button">' + k.sNext + "</a>" : '<a class="' + e.oClasses.sPagePrevDisabled + '" tabindex="' + e.iTabIndex + '" role="button"><span class="' + e.oClasses.sPageJUIPrev + '"></span></a><a class="' + e.oClasses.sPageNextDisabled + '" tabindex="' + e.iTabIndex + '" role="button"><span class="' + e.oClasses.sPageJUINext + '"></span></a>'; i(j).append(k); var t = i("a", j), k = t[0], t = t[1]; e.oApi._fnBindAction(k, { action: "previous" }, l); e.oApi._fnBindAction(t, { action: "next" }, l); e.aanFeatures.p || (j.id = e.sTableId + "_paginate", k.id = e.sTableId + "_previous", t.id = e.sTableId + "_next", k.setAttribute("aria-controls", e.sTableId), t.setAttribute("aria-controls", e.sTableId)) }, fnUpdate: function (e) { if (e.aanFeatures.p) { for (var i = e.oClasses, j = e.aanFeatures.p, k = 0, n = j.length; k < n; k++) { 0 !== j[k].childNodes.length && (j[k].childNodes[0].className = 0 === e._iDisplayStart ? i.sPagePrevDisabled : i.sPagePrevEnabled, j[k].childNodes[1].className = e.fnDisplayEnd() == e.fnRecordsDisplay() ? i.sPageNextDisabled : i.sPageNextEnabled) } } } }, iFullNumbersShowPages: 5, full_numbers: { fnInit: function (e, j, n) { var k = e.oLanguage.oPaginate, l = e.oClasses, t = function (i) { e.oApi._fnPageChange(e, i.data.action) && n(e) }; i(j).append('<a  tabindex="' + e.iTabIndex + '" class="' + l.sPageButton + " " + l.sPageFirst + '">' + k.sFirst + '</a><a  tabindex="' + e.iTabIndex + '" class="' + l.sPageButton + " " + l.sPagePrevious + '">' + k.sPrevious + '</a><span></span><a tabindex="' + e.iTabIndex + '" class="' + l.sPageButton + " " + l.sPageNext + '">' + k.sNext + '</a><a tabindex="' + e.iTabIndex + '" class="' + l.sPageButton + " " + l.sPageLast + '">' + k.sLast + "</a>"); var v = i("a", j), k = v[0], l = v[1], z = v[2], v = v[3]; e.oApi._fnBindAction(k, { action: "first" }, t); e.oApi._fnBindAction(l, { action: "previous" }, t); e.oApi._fnBindAction(z, { action: "next" }, t); e.oApi._fnBindAction(v, { action: "last" }, t); e.aanFeatures.p || (j.id = e.sTableId + "_paginate", k.id = e.sTableId + "_first", l.id = e.sTableId + "_previous", z.id = e.sTableId + "_next", v.id = e.sTableId + "_last") }, fnUpdate: function (e, o) { if (e.aanFeatures.p) { var l = j.ext.oPagination.iFullNumbersShowPages, k = Math.floor(l / 2), n = Math.ceil(e.fnRecordsDisplay() / e._iDisplayLength), t = Math.ceil(e._iDisplayStart / e._iDisplayLength) + 1, v = "", z, D = e.oClasses, x, J = e.aanFeatures.p, H = function (i) { e.oApi._fnBindAction(this, { page: i + z - 1 }, function (i) { e.oApi._fnPageChange(e, i.data.page); o(e); i.preventDefault() }) }; -1 === e._iDisplayLength ? t = k = z = 1 : n < l ? (z = 1, k = n) : t <= k ? (z = 1, k = l) : t >= n - k ? (z = n - l + 1, k = n) : (z = t - Math.ceil(l / 2) + 1, k = z + l - 1); for (l = z; l <= k; l++) { v += t !== l ? '<a tabindex="' + e.iTabIndex + '" class="' + D.sPageButton + '">' + e.fnFormatNumber(l) + "</a>" : '<a tabindex="' + e.iTabIndex + '" class="' + D.sPageButtonActive + '">' + e.fnFormatNumber(l) + "</a>" } l = 0; for (k = J.length; l < k; l++) { 0 !== J[l].childNodes.length && (i("span:eq(0)", J[l]).html(v).children("a").each(H), x = J[l].getElementsByTagName("a"), x = [x[0], x[1], x[x.length - 2], x[x.length - 1]], i(x).removeClass(D.sPageButton + " " + D.sPageButtonActive + " " + D.sPageButtonStaticDisabled), i([x[0], x[1]]).addClass(1 == t ? D.sPageButtonStaticDisabled : D.sPageButton), i([x[2], x[3]]).addClass(0 === n || t === n || -1 === e._iDisplayLength ? D.sPageButtonStaticDisabled : D.sPageButton)) } } } } }); i.extend(j.ext.oSort, { "string-pre": function (e) { "string" != typeof e && (e = null !== e && e.toString ? e.toString() : ""); return e.toLowerCase() }, "string-asc": function (e, i) { return e < i ? -1 : e > i ? 1 : 0 }, "string-desc": function (e, i) { return e < i ? 1 : e > i ? -1 : 0 }, "html-pre": function (e) { return e.replace(/<.*?>/g, "").toLowerCase() }, "html-asc": function (e, i) { return e < i ? -1 : e > i ? 1 : 0 }, "html-desc": function (e, i) { return e < i ? 1 : e > i ? -1 : 0 }, "date-pre": function (e) { e = Date.parse(e); if (isNaN(e) || "" === e) { e = Date.parse("01/01/1970 00:00:00") } return e }, "date-asc": function (e, i) { return e - i }, "date-desc": function (e, i) { return i - e }, "numeric-pre": function (e) { return "-" == e || "" === e ? 0 : 1 * e }, "numeric-asc": function (e, i) { return e - i }, "numeric-desc": function (e, i) { return i - e } }); i.extend(j.ext.aTypes, [function (e) { if ("number" === typeof e) { return "numeric" } if ("string" !== typeof e) { return null } var i, j = !1; i = e.charAt(0); if (-1 == "0123456789-".indexOf(i)) { return null } for (var k = 1; k < e.length; k++) { i = e.charAt(k); if (-1 == "0123456789.".indexOf(i)) { return null } if ("." == i) { if (j) { return null } j = !0 } } return "numeric" }, function (e) { var i = Date.parse(e); return null !== i && !isNaN(i) || "string" === typeof e && 0 === e.length ? "date" : null }, function (e) { return "string" === typeof e && -1 != e.indexOf("<") && -1 != e.indexOf(">") ? "html" : null }]); i.fn.DataTable = j; i.fn.dataTable = j; i.fn.dataTableSettings = j.settings; i.fn.dataTableExt = j.ext })(jQuery, window, document, void 0); $.fn.dataTableExt.oApi.fnPagingInfo = function (a) { return { iStart: a._iDisplayStart, iEnd: a.fnDisplayEnd(), iLength: a._iDisplayLength, iTotal: a.fnRecordsTotal(), iFilteredTotal: a.fnRecordsDisplay(), iPage: a._iDisplayLength === -1 ? 0 : Math.ceil(a._iDisplayStart / a._iDisplayLength), iTotalPages: a._iDisplayLength === -1 ? 0 : Math.ceil(a.fnRecordsDisplay() / a._iDisplayLength) } }; $.extend($.fn.dataTableExt.oPagination, { bootstrap: { fnInit: function (e, b, d) { var a = e.oLanguage.oPaginate; var f = function (g) { g.preventDefault(); if (e.oApi._fnPageChange(e, g.data.action)) { d(e) } }; $(b).addClass("pagination  pull-right").append('<ul class="pagination pagination-inverse pull-right"><li class="prev disabled"><a href="#">&larr; ' + a.sPrevious + '</a></li><li class="next disabled"><a href="#">' + a.sNext + " &rarr; </a></li></ul>"); var c = $("a", b); $(c[0]).bind("click.DT", { action: "previous" }, f); $(c[1]).bind("click.DT", { action: "next" }, f) }, fnUpdate: function (c, k) { var l = 5; var e = c.oInstance.fnPagingInfo(); var h = c.aanFeatures.p; var g, f, d, a, m, b = Math.floor(l / 2); if (e.iTotalPages < l) { a = 1; m = e.iTotalPages } else { if (e.iPage <= b) { a = 1; m = l } else { if (e.iPage >= (e.iTotalPages - b)) { a = e.iTotalPages - l + 1; m = e.iTotalPages } else { a = e.iPage - b + 1; m = a + l - 1 } } } for (g = 0, iLen = h.length; g < iLen; g++) { $("li:gt(0)", h[g]).filter(":not(:last)").remove(); for (f = a; f <= m; f++) { d = (f == e.iPage + 1) ? 'class="active"' : ""; $("<li " + d + '><a href="#">' + f + "</a></li>").insertBefore($("li:last", h[g])[0]).bind("click", function (j) { j.preventDefault(); c._iDisplayStart = (parseInt($("a", this).text(), 10) - 1) * e.iLength; k(c) }) } if (e.iPage === 0) { $("li:first", h[g]).addClass("disabled") } else { $("li:first", h[g]).removeClass("disabled") } if (e.iPage === e.iTotalPages - 1 || e.iTotalPages === 0) { $("li:last", h[g]).addClass("disabled") } else { $("li:last", h[g]).removeClass("disabled") } } } } }); !function (c) { var a = function (e, d) { this.element = c(e); this.format = b.parseFormat(d.format || this.element.data("date-format") || "mm/dd/yyyy"); this.picker = c(b.template).appendTo("body").on({ click: c.proxy(this.click, this), mousedown: c.proxy(this.mousedown, this) }); this.isInput = this.element.is("input"); this.component = this.element.is(".date") ? this.element.find(".input-group-addon") : false; if (this.isInput) { this.element.on({ focus: c.proxy(this.show, this), blur: c.proxy(this.hide, this), keyup: c.proxy(this.update, this) }) } else { if (this.component) { this.component.on("click", c.proxy(this.show, this)) } else { this.element.on("click", c.proxy(this.show, this)) } } this.minViewMode = d.minViewMode || this.element.data("date-minviewmode") || 0; if (typeof this.minViewMode === "string") { switch (this.minViewMode) { case "months": this.minViewMode = 1; break; case "years": this.minViewMode = 2; break; default: this.minViewMode = 0; break } } this.viewMode = d.viewMode || this.element.data("date-viewmode") || 0; if (typeof this.viewMode === "string") { switch (this.viewMode) { case "months": this.viewMode = 1; break; case "years": this.viewMode = 2; break; default: this.viewMode = 0; break } } this.startViewMode = this.viewMode; this.weekStart = d.weekStart || this.element.data("date-weekstart") || 0; this.weekEnd = this.weekStart === 0 ? 6 : this.weekStart - 1; this.fillDow(); this.fillMonths(); this.update(); this.showMode() }; a.prototype = { constructor: a, show: function (d) { this.picker.show(); this.height = this.component ? this.component.outerHeight() : this.element.outerHeight(); this.place(); c(window).on("resize", c.proxy(this.place, this)); if (d) { d.stopPropagation(); d.preventDefault() } if (!this.isInput) { c(document).on("mousedown", c.proxy(this.hide, this)) } this.element.trigger({ type: "show", date: this.date }) }, hide: function () { this.picker.hide(); c(window).off("resize", this.place); this.viewMode = this.startViewMode; this.showMode(); if (!this.isInput) { c(document).off("mousedown", this.hide) } this.set(); this.element.trigger({ type: "hide", date: this.date }) }, set: function () { var d = b.formatDate(this.date, this.format); if (!this.isInput) { if (this.component) { this.element.find("input").prop("value", d) } this.element.data("date", d) } else { this.element.prop("value", d) } }, setValue: function (d) { if (typeof d === "string") { this.date = b.parseDate(d, this.format) } else { this.date = new Date(d) } this.set(); this.viewDate = new Date(this.date.getFullYear(), this.date.getMonth(), 1, 0, 0, 0, 0); this.fill() }, place: function () { var d = this.component ? this.component.offset() : this.element.offset(); this.picker.css({ top: d.top + this.height, left: d.left }) }, update: function (d) { this.date = b.parseDate(typeof d === "string" ? d : (this.isInput ? this.element.prop("value") : this.element.data("date")), this.format); this.viewDate = new Date(this.date.getFullYear(), this.date.getMonth(), 1, 0, 0, 0, 0); this.fill() }, fillDow: function () { var d = this.weekStart; var e = "<tr>"; while (d < this.weekStart + 7) { e += '<th class="dow">' + b.dates.daysMin[(d++) % 7] + "</th>" } e += "</tr>"; this.picker.find(".datepicker-days thead").append(e) }, fillMonths: function () { var e = ""; var d = 0; while (d < 12) { e += '<span class="month">' + b.dates.monthsShort[d++] + "</span>" } this.picker.find(".datepicker-months td").append(e) }, fill: function () { var o = new Date(this.viewDate), p = o.getFullYear(), n = o.getMonth(), f = this.date.valueOf(); this.picker.find(".datepicker-days th:eq(1)").text(b.dates.months[n] + " " + p); var j = new Date(p, n - 1, 28, 0, 0, 0, 0), q = b.getDaysInMonth(j.getFullYear(), j.getMonth()); j.setDate(q); j.setDate(q - (j.getDay() - this.weekStart + 7) % 7); var l = new Date(j); l.setDate(l.getDate() + 42); l = l.valueOf(); html = []; var h; while (j.valueOf() < l) { if (j.getDay() === this.weekStart) { html.push("<tr>") } h = ""; if (j.getMonth() < n) { h += " old" } else { if (j.getMonth() > n) { h += " new" } } if (j.valueOf() === f) { h += " active" } html.push('<td class="day' + h + '">' + j.getDate() + "</td>"); if (j.getDay() === this.weekEnd) { html.push("</tr>") } j.setDate(j.getDate() + 1) } this.picker.find(".datepicker-days tbody").empty().append(html.join("")); var m = this.date.getFullYear(); var e = this.picker.find(".datepicker-months").find("th:eq(1)").text(p).end().find("span").removeClass("active"); if (m === p) { e.eq(this.date.getMonth()).addClass("active") } html = ""; p = parseInt(p / 10, 10) * 10; var g = this.picker.find(".datepicker-years").find("th:eq(1)").text(p + "-" + (p + 9)).end().find("td"); p -= 1; for (var k = -1; k < 11; k++) { html += '<span class="year' + (k === -1 || k === 10 ? " old" : "") + (m === p ? " active" : "") + '">' + p + "</span>"; p += 1 } g.html(html) }, click: function (j) { j.stopPropagation(); j.preventDefault(); var h = c(j.target).closest("span, td, th"); if (h.length === 1) { switch (h[0].nodeName.toLowerCase()) { case "th": switch (h[0].className) { case "switch": this.showMode(1); break; case "prev": case "next": this.viewDate["set" + b.modes[this.viewMode].navFnc].call(this.viewDate, this.viewDate["get" + b.modes[this.viewMode].navFnc].call(this.viewDate) + b.modes[this.viewMode].navStep * (h[0].className === "prev" ? -1 : 1)); this.fill(); this.set(); break } break; case "span": if (h.is(".month")) { var g = h.parent().find("span").index(h); this.viewDate.setMonth(g) } else { var f = parseInt(h.text(), 10) || 0; this.viewDate.setFullYear(f) } if (this.viewMode !== 0) { this.date = new Date(this.viewDate); this.element.trigger({ type: "changeDate", date: this.date, viewMode: b.modes[this.viewMode].clsName }) } this.showMode(-1); this.fill(); this.set(); break; case "td": if (h.is(".day")) { var d = parseInt(h.text(), 10) || 1; var g = this.viewDate.getMonth(); if (h.is(".old")) { g -= 1 } else { if (h.is(".new")) { g += 1 } } var f = this.viewDate.getFullYear(); this.date = new Date(f, g, d, 0, 0, 0, 0); this.viewDate = new Date(f, g, Math.min(28, d), 0, 0, 0, 0); this.fill(); this.set(); this.element.trigger({ type: "changeDate", date: this.date, viewMode: b.modes[this.viewMode].clsName }) } break } } }, mousedown: function (d) { d.stopPropagation(); d.preventDefault() }, showMode: function (d) { if (d) { this.viewMode = Math.max(this.minViewMode, Math.min(2, this.viewMode + d)) } this.picker.find(">div").hide().filter(".datepicker-" + b.modes[this.viewMode].clsName).show() } }; c.fn.datepicker = function (d, e) { return this.each(function () { var h = c(this), g = h.data("datepicker"), f = typeof d === "object" && d; if (!g) { h.data("datepicker", (g = new a(this, c.extend({}, c.fn.datepicker.defaults, f)))) } if (typeof d === "string") { g[d](e) } }) }; c.fn.datepicker.defaults = {}; c.fn.datepicker.Constructor = a; var b = { modes: [{ clsName: "days", navFnc: "Month", navStep: 1 }, { clsName: "months", navFnc: "FullYear", navStep: 1 }, { clsName: "years", navFnc: "FullYear", navStep: 10 }], dates: { days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"], daysShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"], daysMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa", "Su"], months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], monthsShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"] }, isLeapYear: function (d) { return (((d % 4 === 0) && (d % 100 !== 0)) || (d % 400 === 0)) }, getDaysInMonth: function (d, e) { return [31, (b.isLeapYear(d) ? 29 : 28), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][e] }, parseFormat: function (f) { var e = f.match(/[.\/\-\s].*?/), d = f.split(/\W+/); if (!e || !d || d.length === 0) { throw new Error("Invalid date format.") } return { separator: e, parts: d } }, parseDate: function (d, h) { var g = d.split(h.separator), d = new Date(), j; d.setHours(0); d.setMinutes(0); d.setSeconds(0); d.setMilliseconds(0); if (g.length === h.parts.length) { for (var f = 0, e = h.parts.length; f < e; f++) { j = parseInt(g[f], 10) || 1; switch (h.parts[f]) { case "dd": case "d": d.setDate(j); break; case "mm": case "m": d.setMonth(j - 1); break; case "yy": d.setFullYear(2000 + j); break; case "yyyy": d.setFullYear(j); break } } } return d }, formatDate: function (d, g) { var h = { d: d.getDate(), m: d.getMonth() + 1, yy: d.getFullYear().toString().substring(2), yyyy: d.getFullYear() }; h.dd = (h.d < 10 ? "0" : "") + h.d; h.mm = (h.m < 10 ? "0" : "") + h.m; var d = []; for (var f = 0, e = g.parts.length; f < e; f++) { d.push(h[g.parts[f]]) } return d.join(g.separator) }, headTemplate: '<thead><tr><th class="prev">&lsaquo;</th><th colspan="5" class="switch"></th><th class="next">&rsaquo;</th></tr></thead>', contTemplate: '<tbody><tr><td colspan="7"></td></tr></tbody>' }; b.template = '<div class="datepicker dropdown-menu"><div class="datepicker-days"><table class=" table-condensed">' + b.headTemplate + '<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">' + b.headTemplate + b.contTemplate + '</table></div><div class="datepicker-years"><table class="table-condensed">' + b.headTemplate + b.contTemplate + "</table></div></div>" }(window.jQuery); !function (c) { var d = function (b, e, a) { if (a) { a.stopPropagation(); a.preventDefault() } this.$element = c(b); this.$newElement = null; this.button = null; this.options = c.extend({}, c.fn.selectpicker.defaults, this.$element.data(), typeof e == "object" && e); if (this.options.title == null) { this.options.title = this.$element.attr("title") } this.val = d.prototype.val; this.render = d.prototype.render; this.refresh = d.prototype.refresh; this.selectAll = d.prototype.selectAll; this.deselectAll = d.prototype.deselectAll; this.init() }; d.prototype = { constructor: d, init: function (e) { if (!this.options.container) { this.$element.hide() } else { this.$element.css("visibility", "hidden") } this.multiple = this.$element.prop("multiple"); var b = this.$element.attr("class") !== undefined ? this.$element.attr("class").split(/\s+/) : ""; var a = this.$element.attr("id"); this.$element.after(this.createView()); this.$newElement = this.$element.next(".bootstrap-select"); if (this.options.container) { this.selectPosition() } this.button = this.$newElement.find("> button"); if (a !== undefined) { this.button.attr("id", a); c('label[for="' + a + '"]').click(c.proxy(this, function () { this.$newElement.find("button#" + a).focus() })) } for (var h = 0; h < b.length; h++) { if (b[h] != "selectpicker") { this.$newElement.addClass(b[h]) } } if (this.multiple) { this.$newElement.addClass("show-tick") } this.button.addClass(this.options.style); this.checkDisabled(); this.checkTabIndex(); this.clickListener(); this.$element.bind("DOMNodeInserted DOMNodeRemoved", c.proxy(this.refresh, this)); this.render(); this.setSize() }, createDropdown: function () { var a = "<div class='btn-group bootstrap-select'><button type='button' class='btn dropdown-toggle clearfix' data-toggle='dropdown'><span class='filter-option pull-left'></span>&nbsp;<span class='caret'></span></button><ul class='dropdown-menu' role='menu'></ul></div>"; return c(a) }, createView: function () { var b = this.createDropdown(); var a = this.createLi(); b.find("ul").append(a); return b }, reloadLi: function () { this.destroyLi(); $li = this.createLi(); this.$newElement.find("ul").append($li) }, destroyLi: function () { this.$newElement.find("li").remove() }, createLi: function () { var a = this; var k = []; var b = []; var m = ""; this.$element.find("option").each(function () { k.push(c(this).text()) }); this.$element.find("option").each(function (g) { var p = c(this).attr("class") !== undefined ? c(this).attr("class") : ""; var e = c(this).text(); var f = c(this).data("subtext") !== undefined ? '<small class="muted">' + c(this).data("subtext") + "</small>" : ""; e += f; if (c(this).parent().is("optgroup") && c(this).data("divider") != true) { if (c(this).index() == 0) { var h = c(this).parent().attr("label"); var o = c(this).parent().data("subtext") !== undefined ? '<small class="muted">' + c(this).parent().data("subtext") + "</small>" : ""; h += o; if (c(this)[0].index != 0) { b.push('<div class="div-contain"><div class="divider"></div></div><dt>' + h + "</dt>" + a.createA(e, "opt " + p)) } else { b.push("<dt>" + h + "</dt>" + a.createA(e, "opt " + p)) } } else { b.push(a.createA(e, "opt " + p)) } } else { if (c(this).data("divider") == true) { b.push('<div class="div-contain"><div class="divider"></div></div>') } else { b.push(a.createA(e, p)) } } }); if (k.length > 0) { for (var l = 0; l < k.length; l++) { var j = this.$element.find("option").eq(l); m += "<li rel=" + l + ">" + b[l] + "</li>" } } if (this.$element.find("option:selected").length == 0 && !a.options.title) { this.$element.find("option").eq(0).prop("selected", true).attr("selected", "selected") } return c(m) }, createA: function (a, b) { return '<a tabindex="-1" href="#" class="' + b + '"><span class="pull-left">' + a + '</span><i class="fa fa-ok check-mark"></i></a>' }, render: function () { var a = this; this.$element.find("option").each(function (e) { a.setDisabled(e, c(this).is(":disabled") || c(this).parent().is(":disabled")); a.setSelected(e, c(this).is(":selected")) }); var b = this.$element.find("option:selected").map(function (f, e) { if (c(this).attr("title") != undefined) { return c(this).attr("title") } else { return c(this).text() } }).toArray(); var g = b.join(", "); if (a.multiple && a.options.selectedTextFormat.indexOf("count") > -1) { var h = a.options.selectedTextFormat.split(">"); if ((h.length > 1 && b.length > h[1]) || (h.length == 1 && b.length >= 2)) { g = b.length + " of " + this.$element.find("option").length + " selected" } } if (!g) { g = a.options.title != undefined ? a.options.title : a.options.noneSelectedText } a.$newElement.find(".filter-option").html(g) }, setSize: function () { var s = this; var w = this.$newElement.find(".dropdown-menu"); var q = w.find("li > a"); var b = this.$newElement.addClass("open").find(".dropdown-menu li > a").outerHeight(); this.$newElement.removeClass("open"); var u = w.find("li .divider").outerHeight(true); var v = this.$newElement.offset().top; var r = this.$newElement.outerHeight(); var x = parseInt(w.css("padding-top")) + parseInt(w.css("padding-bottom")) + parseInt(w.css("border-top-width")) + parseInt(w.css("border-bottom-width")); if (this.options.size == "auto") { function a() { var h = v - c(window).scrollTop(); var e = window.innerHeight; var g = x + parseInt(w.css("margin-top")) + parseInt(w.css("margin-bottom")) + 2; var f = e - h - r - g; menuHeight = f; if (s.$newElement.hasClass("dropup")) { menuHeight = h - g } if ((w.find("li").length + w.find("dt").length) > 3) { minHeight = b * 3 + g - 2 } else { minHeight = 0 } w.css({ "max-height": menuHeight + "px", "overflow-y": "auto", "min-height": minHeight + "px" }) } a(); c(window).resize(a); c(window).scroll(a) } else { if (this.options.size && this.options.size != "auto" && w.find("li").length > this.options.size) { var o = w.find("li > *").filter(":not(.div-contain)").slice(0, this.options.size).last().parent().index(); var p = w.find("li").slice(0, o + 1).find(".div-contain").length; menuHeight = b * this.options.size + p * u + x; w.css({ "max-height": menuHeight + "px", "overflow-y": "auto" }) } } if (this.options.width == "auto") { this.$newElement.find(".dropdown-menu").css("min-width", "0"); var t = this.$newElement.find(".dropdown-menu").css("width"); this.$newElement.css("width", t); if (this.options.container) { this.$element.css("width", t) } } else { if (this.options.width && this.options.width != "auto") { this.$newElement.css("width", this.options.width); if (this.options.container) { this.$element.css("width", this.options.width) } } } }, selectPosition: function () { var a = this.$element.offset().top; var b = this.$element.offset().left; this.$newElement.appendTo(this.options.container); this.$newElement.css({ position: "absolute", top: a + "px", left: b + "px" }) }, refresh: function () { this.reloadLi(); this.render(); this.setSize(); this.checkDisabled(); if (this.options.container) { this.selectPosition() } }, setSelected: function (b, a) { if (a) { this.$newElement.find("li").eq(b).addClass("selected") } else { this.$newElement.find("li").eq(b).removeClass("selected") } }, setDisabled: function (b, a) { if (a) { this.$newElement.find("li").eq(b).addClass("disabled") } else { this.$newElement.find("li").eq(b).removeClass("disabled") } }, checkDisabled: function () { if (this.$element.is(":disabled")) { this.button.addClass("disabled"); this.button.click(function (a) { a.preventDefault() }); this.button.on("focusin", function () { c(this).blur() }) } else { if (!this.$element.is(":disabled") && this.button.hasClass("disabled")) { this.button.removeClass("disabled"); this.button.click(function () { return true }) } } }, checkTabIndex: function () { if (this.$element.is("[tabindex]")) { var a = this.$element.attr("tabindex"); this.button.attr("tabindex", a) } }, clickListener: function () { var a = this; c("body").on("touchstart.dropdown", ".dropdown-menu", function (b) { b.stopPropagation() }); this.$newElement.on("click", "li a", function (b) { var l = c(this).parent().index(), e = c(this).parent(), n = e.parents(".bootstrap-select"), k = a.$element.val(); if (a.multiple) { b.stopPropagation() } b.preventDefault(); if (a.$element.not(":disabled") && !c(this).parent().hasClass("disabled")) { if (!a.multiple) { a.$element.find("option").removeAttr("selected"); a.$element.find("option").eq(l).prop("selected", true).attr("selected", "selected") } else { var m = a.$element.find("option").eq(l).prop("selected"); if (m) { a.$element.find("option").eq(l).removeAttr("selected") } else { a.$element.find("option").eq(l).prop("selected", true).attr("selected", "selected") } } n.find(".filter-option").html(e.text()); n.find("button").focus(); if (k != a.$element.val()) { a.$element.trigger("change") } a.render() } }); this.$newElement.on("click", "li.disabled a, li dt, li .div-contain", function (b) { b.preventDefault(); b.stopPropagation(); $select = c(this).parent().parents(".bootstrap-select"); $select.find("button").focus() }); this.$element.on("change", function (b) { a.render() }) }, val: function (a) { if (a != undefined) { this.$element.val(a); this.$element.trigger("change"); return this.$element } else { return this.$element.val() } }, selectAll: function () { this.$element.find("option").prop("selected", true).attr("selected", "selected"); this.render() }, deselectAll: function () { this.$element.find("option").prop("selected", false).removeAttr("selected"); this.render() }, }; c.fn.selectpicker = function (h, b) { var k = arguments; var a; var j = this.each(function () { if (c(this).is("select")) { var e = c(this), f = e.data("selectpicker"), m = typeof h == "object" && h; if (!f) { e.data("selectpicker", (f = new d(this, m, b))) } else { if (m) { for (var g in m) { f.options[g] = m[g] } } } if (typeof h == "string") { property = h; if (f[property] instanceof Function) { [].shift.apply(k); a = f[property].apply(f, k) } else { a = f.options[property] } } } }); if (a != undefined) { return a } else { return j } }; c.fn.selectpicker.defaults = { style: null, size: "auto", title: null, selectedTextFormat: "values", noneSelectedText: "Nothing selected", width: null, container: false } }(window.jQuery); !function (b) { "undefined" == typeof b.fn.each2 && b.extend(b.fn, { each2: function (a) { for (var h = b([0]), g = -1, f = this.length; ++g < f && (h.context = h[0] = this[g]) && a.call(h[0], g, h) !== !1;) { } return this } }) }(jQuery), function (aC, aB) { function ao(g) { var f, k, j, h; if (!g || g.length < 1) { return g } for (f = "", k = 0, j = g.length; j > k; k++) { h = g.charAt(k), f += ap[h] || h } return f } function an(f, e) { for (var h = 0, g = e.length; g > h; h += 1) { if (al(f, e[h])) { return h } } return -1 } function am() { var a = aC(aq); a.appendTo("body"); var d = { width: a.width() - a[0].clientWidth, height: a.height() - a[0].clientHeight }; return a.remove(), d } function al(b, d) { return b === d ? !0 : b === aB || d === aB ? !1 : null === b || null === d ? !1 : b.constructor === String ? b + "" == d + "" : d.constructor === String ? d + "" == b + "" : !1 } function ak(a, k) { var j, h, g; if (null === a || a.length < 1) { return [] } for (j = a.split(k), h = 0, g = j.length; g > h; h += 1) { j[h] = aC.trim(j[h]) } return j } function aj(b) { return b.outerWidth(!1) - b.width() } function ai(b) { var a = "keyup-change-value"; b.on("keydown", function () { aC.data(b, a) === aB && aC.data(b, a, b.val()) }), b.on("keyup", function () { var c = aC.data(b, a); c !== aB && b.val() !== c && (aC.removeData(b, a), b.trigger("keyup-change")) }) } function ah(a) { a.on("mousemove", function (e) { var b = au; (b === aB || b.x !== e.pageX || b.y !== e.pageY) && aC(e.target).trigger("mousemove-filtered", e) }) } function ag(b, h, g) { g = g || aB; var f; return function () { var a = arguments; window.clearTimeout(f), f = window.setTimeout(function () { h.apply(g, a) }, b) } } function af(e) { var f, d = !1; return function () { return d === !1 && (f = e(), d = !0), f } } function ae(e, d) { var f = ag(e, function (b) { d.trigger("scroll-debounced", b) }); d.on("scroll", function (b) { an(b.target, d.get()) >= 0 && f(b) }) } function ad(b) { b[0] !== document.activeElement && window.setTimeout(function () { var e, a = b[0], f = b.val().length; b.focus(), b.is(":visible") && a === document.activeElement && (a.setSelectionRange ? a.setSelectionRange(f, f) : a.createTextRange && (e = a.createTextRange(), e.collapse(!1), e.select())) }, 0) } function ac(a) { a = aC(a)[0]; var h = 0, g = 0; if ("selectionStart" in a) { h = a.selectionStart, g = a.selectionEnd - h } else { if ("selection" in document) { a.focus(); var f = document.selection.createRange(); g = document.selection.createRange().text.length, f.moveStart("character", -a.value.length), h = f.text.length - g } } return { offset: h, length: g } } function ab(b) { b.preventDefault(), b.stopPropagation() } function aa(b) { b.preventDefault(), b.stopImmediatePropagation() } function Z(a) { if (!av) { var d = a[0].currentStyle || window.getComputedStyle(a[0], null); av = aC(document.createElement("div")).css({ position: "absolute", left: "-10000px", top: "-10000px", display: "none", fontSize: d.fontSize, fontFamily: d.fontFamily, fontStyle: d.fontStyle, fontWeight: d.fontWeight, letterSpacing: d.letterSpacing, textTransform: d.textTransform, whiteSpace: "nowrap" }), av.attr("class", "select2-sizer"), aC("body").append(av) } return av.text(a.val()), av.width() } function Y(a, m, l) { var k, h, j = []; k = a.attr("class"), k && (k = "" + k, aC(k.split(" ")).each2(function () { 0 === this.indexOf("select2-") && j.push(this) })), k = m.attr("class"), k && (k = "" + k, aC(k.split(" ")).each2(function () { 0 !== this.indexOf("select2-") && (h = l(this), h && j.push(h)) })), a.attr("class", j.join(" ")) } function X(h, g, m, l) { var k = ao(h.toUpperCase()).indexOf(ao(g.toUpperCase())), j = g.length; return 0 > k ? (m.push(l(h)), void 0) : (m.push(l(h.substring(0, k))), m.push("<span class='select2-match'>"), m.push(l(h.substring(k, k + j))), m.push("</span>"), m.push(l(h.substring(k + j, h.length))), void 0) } function W(d) { var c = { "\\": "&#92;", "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;", "/": "&#47;" }; return String(d).replace(/[&<>"'\/\\]/g, function (b) { return c[b] }) } function V(m) { var l, k = null, j = m.quietMillis || 100, b = m.url, a = this; return function (c) { window.clearTimeout(l), l = window.setTimeout(function () { var o = m.data, n = b, h = m.transport || aC.fn.select2.ajaxDefaults.transport, g = { type: m.type || "GET", cache: m.cache || !1, jsonpCallback: m.jsonpCallback || aB, dataType: m.dataType || "json" }, e = aC.extend({}, aC.fn.select2.ajaxDefaults.params, g); o = o ? o.call(a, c.term, c.page, c.context) : null, n = "function" == typeof n ? n.call(a, c.term, c.page, c.context) : n, k && k.abort(), m.params && (aC.isFunction(m.params) ? aC.extend(e, m.params.call(a)) : aC.extend(e, m.params)), aC.extend(e, { url: n, dataType: m.dataType, data: o, success: function (f) { var d = m.results(f, c.page); c.callback(d) } }), k = h.call(a, e) }, j) } } function U(a) { var l, k, m = a, j = function (b) { return "" + b.text }; aC.isArray(m) && (k = m, m = { results: k }), aC.isFunction(m) === !1 && (k = m, m = function () { return k }); var h = m(); return h.text && (j = h.text, aC.isFunction(j) || (l = h.text, j = function (b) { return b[l] })), function (c) { var f, o = c.term, n = { results: [] }; return "" === o ? (c.callback(m()), void 0) : (f = function (p, g) { var d, b; if (p = p[0], p.children) { d = {}; for (b in p) { p.hasOwnProperty(b) && (d[b] = p[b]) } d.children = [], aC(p.children).each2(function (q, e) { f(e, d.children) }), (d.children.length || c.matcher(o, j(d), p)) && g.push(d) } else { c.matcher(o, j(p), p) && g.push(p) } }, aC(m().results).each2(function (e, d) { f(d, n.results) }), c.callback(n), void 0) } } function T(b) { var a = aC.isFunction(b); return function (h) { var d = h.term, c = { results: [] }; aC(a ? b() : b).each(function () { var e = this.text !== aB, f = e ? this.text : this; ("" === d || h.matcher(d, f)) && c.results.push(e ? this : { id: this, text: this }) }), h.callback(c) } } function S(a, d) { if (aC.isFunction(a)) { return !0 } if (!a) { return !1 } throw new Error(d + " must be a function or a falsy value") } function R(a) { return aC.isFunction(a) ? a() : a } function Q(a) { var d = 0; return aC.each(a, function (e, c) { c.children ? d += Q(c.children) : d++ }), d } function P(v, u, t, s) { var p, o, n, m, b, r = v, q = !1; if (!s.createSearchChoice || !s.tokenSeparators || s.tokenSeparators.length < 1) { return aB } for (; ;) { for (o = -1, n = 0, m = s.tokenSeparators.length; m > n && (b = s.tokenSeparators[n], o = v.indexOf(b), !(o >= 0)) ; n++) { } if (0 > o) { break } if (p = v.substring(0, o), v = v.substring(o + b.length), p.length > 0 && (p = s.createSearchChoice.call(this, p, u), p !== aB && null !== p && s.id(p) !== aB && null !== s.id(p))) { for (q = !1, n = 0, m = u.length; m > n; n++) { if (al(s.id(p), s.id(u[n]))) { q = !0; break } } q || t(p) } } return r !== v ? v : void 0 } function O(a, f) { var e = function () { }; return e.prototype = new a, e.prototype.constructor = e, e.prototype.parent = a.prototype, e.prototype = aC.extend(e.prototype, f), e } if (window.Select2 === aB) { var aA, az, ay, ax, aw, av, at, ar, au = { x: 0, y: 0 }, aA = { TAB: 9, ENTER: 13, ESC: 27, SPACE: 32, LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40, SHIFT: 16, CTRL: 17, ALT: 18, PAGE_UP: 33, PAGE_DOWN: 34, HOME: 36, END: 35, BACKSPACE: 8, DELETE: 46, isArrow: function (b) { switch (b = b.which ? b.which : b) { case aA.LEFT: case aA.RIGHT: case aA.UP: case aA.DOWN: return !0 } return !1 }, isControl: function (d) { var c = d.which; switch (c) { case aA.SHIFT: case aA.CTRL: case aA.ALT: return !0 } return d.metaKey ? !0 : !1 }, isFunctionKey: function (b) { return b = b.which ? b.which : b, b >= 112 && 123 >= b } }, aq = "<div class='select2-measure-scrollbar'></div>", ap = { "\u24b6": "A", "\uff21": "A", "\xc0": "A", "\xc1": "A", "\xc2": "A", "\u1ea6": "A", "\u1ea4": "A", "\u1eaa": "A", "\u1ea8": "A", "\xc3": "A", "\u0100": "A", "\u0102": "A", "\u1eb0": "A", "\u1eae": "A", "\u1eb4": "A", "\u1eb2": "A", "\u0226": "A", "\u01e0": "A", "\xc4": "A", "\u01de": "A", "\u1ea2": "A", "\xc5": "A", "\u01fa": "A", "\u01cd": "A", "\u0200": "A", "\u0202": "A", "\u1ea0": "A", "\u1eac": "A", "\u1eb6": "A", "\u1e00": "A", "\u0104": "A", "\u023a": "A", "\u2c6f": "A", "\ua732": "AA", "\xc6": "AE", "\u01fc": "AE", "\u01e2": "AE", "\ua734": "AO", "\ua736": "AU", "\ua738": "AV", "\ua73a": "AV", "\ua73c": "AY", "\u24b7": "B", "\uff22": "B", "\u1e02": "B", "\u1e04": "B", "\u1e06": "B", "\u0243": "B", "\u0182": "B", "\u0181": "B", "\u24b8": "C", "\uff23": "C", "\u0106": "C", "\u0108": "C", "\u010a": "C", "\u010c": "C", "\xc7": "C", "\u1e08": "C", "\u0187": "C", "\u023b": "C", "\ua73e": "C", "\u24b9": "D", "\uff24": "D", "\u1e0a": "D", "\u010e": "D", "\u1e0c": "D", "\u1e10": "D", "\u1e12": "D", "\u1e0e": "D", "\u0110": "D", "\u018b": "D", "\u018a": "D", "\u0189": "D", "\ua779": "D", "\u01f1": "DZ", "\u01c4": "DZ", "\u01f2": "Dz", "\u01c5": "Dz", "\u24ba": "E", "\uff25": "E", "\xc8": "E", "\xc9": "E", "\xca": "E", "\u1ec0": "E", "\u1ebe": "E", "\u1ec4": "E", "\u1ec2": "E", "\u1ebc": "E", "\u0112": "E", "\u1e14": "E", "\u1e16": "E", "\u0114": "E", "\u0116": "E", "\xcb": "E", "\u1eba": "E", "\u011a": "E", "\u0204": "E", "\u0206": "E", "\u1eb8": "E", "\u1ec6": "E", "\u0228": "E", "\u1e1c": "E", "\u0118": "E", "\u1e18": "E", "\u1e1a": "E", "\u0190": "E", "\u018e": "E", "\u24bb": "F", "\uff26": "F", "\u1e1e": "F", "\u0191": "F", "\ua77b": "F", "\u24bc": "G", "\uff27": "G", "\u01f4": "G", "\u011c": "G", "\u1e20": "G", "\u011e": "G", "\u0120": "G", "\u01e6": "G", "\u0122": "G", "\u01e4": "G", "\u0193": "G", "\ua7a0": "G", "\ua77d": "G", "\ua77e": "G", "\u24bd": "H", "\uff28": "H", "\u0124": "H", "\u1e22": "H", "\u1e26": "H", "\u021e": "H", "\u1e24": "H", "\u1e28": "H", "\u1e2a": "H", "\u0126": "H", "\u2c67": "H", "\u2c75": "H", "\ua78d": "H", "\u24be": "I", "\uff29": "I", "\xcc": "I", "\xcd": "I", "\xce": "I", "\u0128": "I", "\u012a": "I", "\u012c": "I", "\u0130": "I", "\xcf": "I", "\u1e2e": "I", "\u1ec8": "I", "\u01cf": "I", "\u0208": "I", "\u020a": "I", "\u1eca": "I", "\u012e": "I", "\u1e2c": "I", "\u0197": "I", "\u24bf": "J", "\uff2a": "J", "\u0134": "J", "\u0248": "J", "\u24c0": "K", "\uff2b": "K", "\u1e30": "K", "\u01e8": "K", "\u1e32": "K", "\u0136": "K", "\u1e34": "K", "\u0198": "K", "\u2c69": "K", "\ua740": "K", "\ua742": "K", "\ua744": "K", "\ua7a2": "K", "\u24c1": "L", "\uff2c": "L", "\u013f": "L", "\u0139": "L", "\u013d": "L", "\u1e36": "L", "\u1e38": "L", "\u013b": "L", "\u1e3c": "L", "\u1e3a": "L", "\u0141": "L", "\u023d": "L", "\u2c62": "L", "\u2c60": "L", "\ua748": "L", "\ua746": "L", "\ua780": "L", "\u01c7": "LJ", "\u01c8": "Lj", "\u24c2": "M", "\uff2d": "M", "\u1e3e": "M", "\u1e40": "M", "\u1e42": "M", "\u2c6e": "M", "\u019c": "M", "\u24c3": "N", "\uff2e": "N", "\u01f8": "N", "\u0143": "N", "\xd1": "N", "\u1e44": "N", "\u0147": "N", "\u1e46": "N", "\u0145": "N", "\u1e4a": "N", "\u1e48": "N", "\u0220": "N", "\u019d": "N", "\ua790": "N", "\ua7a4": "N", "\u01ca": "NJ", "\u01cb": "Nj", "\u24c4": "O", "\uff2f": "O", "\xd2": "O", "\xd3": "O", "\xd4": "O", "\u1ed2": "O", "\u1ed0": "O", "\u1ed6": "O", "\u1ed4": "O", "\xd5": "O", "\u1e4c": "O", "\u022c": "O", "\u1e4e": "O", "\u014c": "O", "\u1e50": "O", "\u1e52": "O", "\u014e": "O", "\u022e": "O", "\u0230": "O", "\xd6": "O", "\u022a": "O", "\u1ece": "O", "\u0150": "O", "\u01d1": "O", "\u020c": "O", "\u020e": "O", "\u01a0": "O", "\u1edc": "O", "\u1eda": "O", "\u1ee0": "O", "\u1ede": "O", "\u1ee2": "O", "\u1ecc": "O", "\u1ed8": "O", "\u01ea": "O", "\u01ec": "O", "\xd8": "O", "\u01fe": "O", "\u0186": "O", "\u019f": "O", "\ua74a": "O", "\ua74c": "O", "\u01a2": "OI", "\ua74e": "OO", "\u0222": "OU", "\u24c5": "P", "\uff30": "P", "\u1e54": "P", "\u1e56": "P", "\u01a4": "P", "\u2c63": "P", "\ua750": "P", "\ua752": "P", "\ua754": "P", "\u24c6": "Q", "\uff31": "Q", "\ua756": "Q", "\ua758": "Q", "\u024a": "Q", "\u24c7": "R", "\uff32": "R", "\u0154": "R", "\u1e58": "R", "\u0158": "R", "\u0210": "R", "\u0212": "R", "\u1e5a": "R", "\u1e5c": "R", "\u0156": "R", "\u1e5e": "R", "\u024c": "R", "\u2c64": "R", "\ua75a": "R", "\ua7a6": "R", "\ua782": "R", "\u24c8": "S", "\uff33": "S", "\u1e9e": "S", "\u015a": "S", "\u1e64": "S", "\u015c": "S", "\u1e60": "S", "\u0160": "S", "\u1e66": "S", "\u1e62": "S", "\u1e68": "S", "\u0218": "S", "\u015e": "S", "\u2c7e": "S", "\ua7a8": "S", "\ua784": "S", "\u24c9": "T", "\uff34": "T", "\u1e6a": "T", "\u0164": "T", "\u1e6c": "T", "\u021a": "T", "\u0162": "T", "\u1e70": "T", "\u1e6e": "T", "\u0166": "T", "\u01ac": "T", "\u01ae": "T", "\u023e": "T", "\ua786": "T", "\ua728": "TZ", "\u24ca": "U", "\uff35": "U", "\xd9": "U", "\xda": "U", "\xdb": "U", "\u0168": "U", "\u1e78": "U", "\u016a": "U", "\u1e7a": "U", "\u016c": "U", "\xdc": "U", "\u01db": "U", "\u01d7": "U", "\u01d5": "U", "\u01d9": "U", "\u1ee6": "U", "\u016e": "U", "\u0170": "U", "\u01d3": "U", "\u0214": "U", "\u0216": "U", "\u01af": "U", "\u1eea": "U", "\u1ee8": "U", "\u1eee": "U", "\u1eec": "U", "\u1ef0": "U", "\u1ee4": "U", "\u1e72": "U", "\u0172": "U", "\u1e76": "U", "\u1e74": "U", "\u0244": "U", "\u24cb": "V", "\uff36": "V", "\u1e7c": "V", "\u1e7e": "V", "\u01b2": "V", "\ua75e": "V", "\u0245": "V", "\ua760": "VY", "\u24cc": "W", "\uff37": "W", "\u1e80": "W", "\u1e82": "W", "\u0174": "W", "\u1e86": "W", "\u1e84": "W", "\u1e88": "W", "\u2c72": "W", "\u24cd": "X", "\uff38": "X", "\u1e8a": "X", "\u1e8c": "X", "\u24ce": "Y", "\uff39": "Y", "\u1ef2": "Y", "\xdd": "Y", "\u0176": "Y", "\u1ef8": "Y", "\u0232": "Y", "\u1e8e": "Y", "\u0178": "Y", "\u1ef6": "Y", "\u1ef4": "Y", "\u01b3": "Y", "\u024e": "Y", "\u1efe": "Y", "\u24cf": "Z", "\uff3a": "Z", "\u0179": "Z", "\u1e90": "Z", "\u017b": "Z", "\u017d": "Z", "\u1e92": "Z", "\u1e94": "Z", "\u01b5": "Z", "\u0224": "Z", "\u2c7f": "Z", "\u2c6b": "Z", "\ua762": "Z", "\u24d0": "a", "\uff41": "a", "\u1e9a": "a", "\xe0": "a", "\xe1": "a", "\xe2": "a", "\u1ea7": "a", "\u1ea5": "a", "\u1eab": "a", "\u1ea9": "a", "\xe3": "a", "\u0101": "a", "\u0103": "a", "\u1eb1": "a", "\u1eaf": "a", "\u1eb5": "a", "\u1eb3": "a", "\u0227": "a", "\u01e1": "a", "\xe4": "a", "\u01df": "a", "\u1ea3": "a", "\xe5": "a", "\u01fb": "a", "\u01ce": "a", "\u0201": "a", "\u0203": "a", "\u1ea1": "a", "\u1ead": "a", "\u1eb7": "a", "\u1e01": "a", "\u0105": "a", "\u2c65": "a", "\u0250": "a", "\ua733": "aa", "\xe6": "ae", "\u01fd": "ae", "\u01e3": "ae", "\ua735": "ao", "\ua737": "au", "\ua739": "av", "\ua73b": "av", "\ua73d": "ay", "\u24d1": "b", "\uff42": "b", "\u1e03": "b", "\u1e05": "b", "\u1e07": "b", "\u0180": "b", "\u0183": "b", "\u0253": "b", "\u24d2": "c", "\uff43": "c", "\u0107": "c", "\u0109": "c", "\u010b": "c", "\u010d": "c", "\xe7": "c", "\u1e09": "c", "\u0188": "c", "\u023c": "c", "\ua73f": "c", "\u2184": "c", "\u24d3": "d", "\uff44": "d", "\u1e0b": "d", "\u010f": "d", "\u1e0d": "d", "\u1e11": "d", "\u1e13": "d", "\u1e0f": "d", "\u0111": "d", "\u018c": "d", "\u0256": "d", "\u0257": "d", "\ua77a": "d", "\u01f3": "dz", "\u01c6": "dz", "\u24d4": "e", "\uff45": "e", "\xe8": "e", "\xe9": "e", "\xea": "e", "\u1ec1": "e", "\u1ebf": "e", "\u1ec5": "e", "\u1ec3": "e", "\u1ebd": "e", "\u0113": "e", "\u1e15": "e", "\u1e17": "e", "\u0115": "e", "\u0117": "e", "\xeb": "e", "\u1ebb": "e", "\u011b": "e", "\u0205": "e", "\u0207": "e", "\u1eb9": "e", "\u1ec7": "e", "\u0229": "e", "\u1e1d": "e", "\u0119": "e", "\u1e19": "e", "\u1e1b": "e", "\u0247": "e", "\u025b": "e", "\u01dd": "e", "\u24d5": "f", "\uff46": "f", "\u1e1f": "f", "\u0192": "f", "\ua77c": "f", "\u24d6": "g", "\uff47": "g", "\u01f5": "g", "\u011d": "g", "\u1e21": "g", "\u011f": "g", "\u0121": "g", "\u01e7": "g", "\u0123": "g", "\u01e5": "g", "\u0260": "g", "\ua7a1": "g", "\u1d79": "g", "\ua77f": "g", "\u24d7": "h", "\uff48": "h", "\u0125": "h", "\u1e23": "h", "\u1e27": "h", "\u021f": "h", "\u1e25": "h", "\u1e29": "h", "\u1e2b": "h", "\u1e96": "h", "\u0127": "h", "\u2c68": "h", "\u2c76": "h", "\u0265": "h", "\u0195": "hv", "\u24d8": "i", "\uff49": "i", "\xec": "i", "\xed": "i", "\xee": "i", "\u0129": "i", "\u012b": "i", "\u012d": "i", "\xef": "i", "\u1e2f": "i", "\u1ec9": "i", "\u01d0": "i", "\u0209": "i", "\u020b": "i", "\u1ecb": "i", "\u012f": "i", "\u1e2d": "i", "\u0268": "i", "\u0131": "i", "\u24d9": "j", "\uff4a": "j", "\u0135": "j", "\u01f0": "j", "\u0249": "j", "\u24da": "k", "\uff4b": "k", "\u1e31": "k", "\u01e9": "k", "\u1e33": "k", "\u0137": "k", "\u1e35": "k", "\u0199": "k", "\u2c6a": "k", "\ua741": "k", "\ua743": "k", "\ua745": "k", "\ua7a3": "k", "\u24db": "l", "\uff4c": "l", "\u0140": "l", "\u013a": "l", "\u013e": "l", "\u1e37": "l", "\u1e39": "l", "\u013c": "l", "\u1e3d": "l", "\u1e3b": "l", "\u017f": "l", "\u0142": "l", "\u019a": "l", "\u026b": "l", "\u2c61": "l", "\ua749": "l", "\ua781": "l", "\ua747": "l", "\u01c9": "lj", "\u24dc": "m", "\uff4d": "m", "\u1e3f": "m", "\u1e41": "m", "\u1e43": "m", "\u0271": "m", "\u026f": "m", "\u24dd": "n", "\uff4e": "n", "\u01f9": "n", "\u0144": "n", "\xf1": "n", "\u1e45": "n", "\u0148": "n", "\u1e47": "n", "\u0146": "n", "\u1e4b": "n", "\u1e49": "n", "\u019e": "n", "\u0272": "n", "\u0149": "n", "\ua791": "n", "\ua7a5": "n", "\u01cc": "nj", "\u24de": "o", "\uff4f": "o", "\xf2": "o", "\xf3": "o", "\xf4": "o", "\u1ed3": "o", "\u1ed1": "o", "\u1ed7": "o", "\u1ed5": "o", "\xf5": "o", "\u1e4d": "o", "\u022d": "o", "\u1e4f": "o", "\u014d": "o", "\u1e51": "o", "\u1e53": "o", "\u014f": "o", "\u022f": "o", "\u0231": "o", "\xf6": "o", "\u022b": "o", "\u1ecf": "o", "\u0151": "o", "\u01d2": "o", "\u020d": "o", "\u020f": "o", "\u01a1": "o", "\u1edd": "o", "\u1edb": "o", "\u1ee1": "o", "\u1edf": "o", "\u1ee3": "o", "\u1ecd": "o", "\u1ed9": "o", "\u01eb": "o", "\u01ed": "o", "\xf8": "o", "\u01ff": "o", "\u0254": "o", "\ua74b": "o", "\ua74d": "o", "\u0275": "o", "\u01a3": "oi", "\u0223": "ou", "\ua74f": "oo", "\u24df": "p", "\uff50": "p", "\u1e55": "p", "\u1e57": "p", "\u01a5": "p", "\u1d7d": "p", "\ua751": "p", "\ua753": "p", "\ua755": "p", "\u24e0": "q", "\uff51": "q", "\u024b": "q", "\ua757": "q", "\ua759": "q", "\u24e1": "r", "\uff52": "r", "\u0155": "r", "\u1e59": "r", "\u0159": "r", "\u0211": "r", "\u0213": "r", "\u1e5b": "r", "\u1e5d": "r", "\u0157": "r", "\u1e5f": "r", "\u024d": "r", "\u027d": "r", "\ua75b": "r", "\ua7a7": "r", "\ua783": "r", "\u24e2": "s", "\uff53": "s", "\xdf": "s", "\u015b": "s", "\u1e65": "s", "\u015d": "s", "\u1e61": "s", "\u0161": "s", "\u1e67": "s", "\u1e63": "s", "\u1e69": "s", "\u0219": "s", "\u015f": "s", "\u023f": "s", "\ua7a9": "s", "\ua785": "s", "\u1e9b": "s", "\u24e3": "t", "\uff54": "t", "\u1e6b": "t", "\u1e97": "t", "\u0165": "t", "\u1e6d": "t", "\u021b": "t", "\u0163": "t", "\u1e71": "t", "\u1e6f": "t", "\u0167": "t", "\u01ad": "t", "\u0288": "t", "\u2c66": "t", "\ua787": "t", "\ua729": "tz", "\u24e4": "u", "\uff55": "u", "\xf9": "u", "\xfa": "u", "\xfb": "u", "\u0169": "u", "\u1e79": "u", "\u016b": "u", "\u1e7b": "u", "\u016d": "u", "\xfc": "u", "\u01dc": "u", "\u01d8": "u", "\u01d6": "u", "\u01da": "u", "\u1ee7": "u", "\u016f": "u", "\u0171": "u", "\u01d4": "u", "\u0215": "u", "\u0217": "u", "\u01b0": "u", "\u1eeb": "u", "\u1ee9": "u", "\u1eef": "u", "\u1eed": "u", "\u1ef1": "u", "\u1ee5": "u", "\u1e73": "u", "\u0173": "u", "\u1e77": "u", "\u1e75": "u", "\u0289": "u", "\u24e5": "v", "\uff56": "v", "\u1e7d": "v", "\u1e7f": "v", "\u028b": "v", "\ua75f": "v", "\u028c": "v", "\ua761": "vy", "\u24e6": "w", "\uff57": "w", "\u1e81": "w", "\u1e83": "w", "\u0175": "w", "\u1e87": "w", "\u1e85": "w", "\u1e98": "w", "\u1e89": "w", "\u2c73": "w", "\u24e7": "x", "\uff58": "x", "\u1e8b": "x", "\u1e8d": "x", "\u24e8": "y", "\uff59": "y", "\u1ef3": "y", "\xfd": "y", "\u0177": "y", "\u1ef9": "y", "\u0233": "y", "\u1e8f": "y", "\xff": "y", "\u1ef7": "y", "\u1e99": "y", "\u1ef5": "y", "\u01b4": "y", "\u024f": "y", "\u1eff": "y", "\u24e9": "z", "\uff5a": "z", "\u017a": "z", "\u1e91": "z", "\u017c": "z", "\u017e": "z", "\u1e93": "z", "\u1e95": "z", "\u01b6": "z", "\u0225": "z", "\u0240": "z", "\u2c6c": "z", "\ua763": "z" }; at = aC(document), aw = function () { var b = 1; return function () { return b++ } }(), at.on("mousemove", function (b) { au.x = b.pageX, au.y = b.pageY }), az = O(Object, { bind: function (d) { var c = this; return function () { d.apply(c, arguments) } }, init: function (l) { var k, j, g = ".select2-results"; this.opts = l = this.prepareOpts(l), this.id = l.id, l.element.data("select2") !== aB && null !== l.element.data("select2") && l.element.data("select2").destroy(), this.container = this.createContainer(), this.containerId = "s2id_" + (l.element.attr("id") || "autogen" + aw()), this.containerSelector = "#" + this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g, "\\$1"), this.container.attr("id", this.containerId), this.body = af(function () { return l.element.closest("body") }), Y(this.container, this.opts.element, this.opts.adaptContainerCssClass), this.container.attr("style", l.element.attr("style")), this.container.css(R(l.containerCss)), this.container.addClass(R(l.containerCssClass)), this.elementTabIndex = this.opts.element.attr("tabindex"), this.opts.element.data("select2", this).attr("tabindex", "-1").before(this.container).on("click.select2", ab), this.container.data("select2", this), this.dropdown = this.container.find(".select2-drop"), Y(this.dropdown, this.opts.element, this.opts.adaptDropdownCssClass), this.dropdown.addClass(R(l.dropdownCssClass)), this.dropdown.data("select2", this), this.dropdown.on("click", ab), this.results = k = this.container.find(g), this.search = j = this.container.find("input.select2-input"), this.queryCount = 0, this.resultsPage = 0, this.context = null, this.initContainer(), this.container.on("click", ab), ah(this.results), this.dropdown.on("mousemove-filtered touchstart touchmove touchend", g, this.bind(this.highlightUnderEvent)), ae(80, this.results), this.dropdown.on("scroll-debounced", g, this.bind(this.loadMoreIfNeeded)), aC(this.container).on("change", ".select2-input", function (c) { c.stopPropagation() }), aC(this.dropdown).on("change", ".select2-input", function (c) { c.stopPropagation() }), aC.fn.mousewheel && k.mousewheel(function (h, d, o, n) { var m = k.scrollTop(); n > 0 && 0 >= m - n ? (k.scrollTop(0), ab(h)) : 0 > n && k.get(0).scrollHeight - k.scrollTop() + n <= k.height() && (k.scrollTop(k.get(0).scrollHeight - k.height()), ab(h)) }), ai(j), j.on("keyup-change input paste", this.bind(this.updateResults)), j.on("focus", function () { j.addClass("select2-focused") }), j.on("blur", function () { j.removeClass("select2-focused") }), this.dropdown.on("mouseup", g, this.bind(function (c) { aC(c.target).closest(".select2-result-selectable").length > 0 && (this.highlightUnderEvent(c), this.selectHighlighted(c)) })), this.dropdown.on("click mouseup mousedown", function (c) { c.stopPropagation() }), aC.isFunction(this.opts.initSelection) && (this.initSelection(), this.monitorSource()), null !== l.maximumInputLength && this.search.attr("maxlength", l.maximumInputLength); var b = l.element.prop("disabled"); b === aB && (b = !1), this.enable(!b); var a = l.element.prop("readonly"); a === aB && (a = !1), this.readonly(a), ar = ar || am(), this.autofocus = l.element.prop("autofocus"), l.element.prop("autofocus", !1), this.autofocus && this.focus(), this.nextSearchTerm = aB }, destroy: function () { var b = this.opts.element, d = b.data("select2"); this.close(), this.propertyObserver && (delete this.propertyObserver, this.propertyObserver = null), d !== aB && (d.container.remove(), d.dropdown.remove(), b.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus", this.autofocus || !1), this.elementTabIndex ? b.attr({ tabindex: this.elementTabIndex }) : b.removeAttr("tabindex"), b.show()) }, optionToData: function (b) { return b.is("option") ? { id: b.prop("value"), text: b.text(), element: b.get(), css: b.attr("class"), disabled: b.prop("disabled"), locked: al(b.attr("locked"), "locked") || al(b.data("locked"), !0) } : b.is("optgroup") ? { text: b.attr("label"), children: [], element: b.get(), css: b.attr("class") } : void 0 }, prepareOpts: function (m) { var l, k, j, b, a = this; if (l = m.element, "select" === l.get(0).tagName.toLowerCase() && (this.select = k = m.element), k && aC.each(["id", "multiple", "ajax", "query", "createSearchChoice", "initSelection", "data", "tags"], function () { if (this in m) { throw new Error("Option '" + this + "' is not allowed for Select2 when attached to a <select> element.") } }), m = aC.extend({}, { populateResults: function (p, o, n) { var h, c = this.opts.id; h = function (C, B, A) { var z, y, x, w, v, u, g, f, E, D; for (C = m.sortResults(C, B, n), z = 0, y = C.length; y > z; z += 1) { x = C[z], v = x.disabled === !0, w = !v && c(x) !== aB, u = x.children && x.children.length > 0, g = aC("<li></li>"), g.addClass("select2-results-dept-" + A), g.addClass("select2-result"), g.addClass(w ? "select2-result-selectable" : "select2-result-unselectable"), v && g.addClass("select2-disabled"), u && g.addClass("select2-result-with-children"), g.addClass(a.opts.formatResultCssClass(x)), f = aC(document.createElement("div")), f.addClass("select2-result-label"), D = m.formatResult(x, f, n, a.opts.escapeMarkup), D !== aB && f.html(D), g.append(f), u && (E = aC("<ul></ul>"), E.addClass("select2-result-sub"), h(x.children, E, A + 1), g.append(E)), g.data("select2-data", x), B.append(g) } }, h(o, p, 0) } }, aC.fn.select2.defaults, m), "function" != typeof m.id && (j = m.id, m.id = function (c) { return c[j] }), aC.isArray(m.element.data("select2Tags"))) { if ("tags" in m) { throw "tags specified as both an attribute 'data-select2-tags' and in options of Select2 " + m.element.attr("id") } m.tags = m.element.data("select2Tags") } if (k ? (m.query = this.bind(function (d) { var o, n, h, q = { results: [], more: !1 }, p = d.term; h = function (e, g) { var f; e.is("option") ? d.matcher(p, e.text(), e) && g.push(a.optionToData(e)) : e.is("optgroup") && (f = a.optionToData(e), e.children().each2(function (r, c) { h(c, f.children) }), f.children.length > 0 && g.push(f)) }, o = l.children(), this.getPlaceholder() !== aB && o.length > 0 && (n = this.getPlaceholderOption(), n && (o = o.not(n))), o.each2(function (e, c) { h(c, q.results) }), d.callback(q) }), m.id = function (c) { return c.id }, m.formatResultCssClass = function (c) { return c.css }) : "query" in m || ("ajax" in m ? (b = m.element.data("ajax-url"), b && b.length > 0 && (m.ajax.url = b), m.query = V.call(m.element, m.ajax)) : "data" in m ? m.query = U(m.data) : "tags" in m && (m.query = T(m.tags), m.createSearchChoice === aB && (m.createSearchChoice = function (c) { return { id: aC.trim(c), text: aC.trim(c) } }), m.initSelection === aB && (m.initSelection = function (c, g) { var f = []; aC(ak(c.val(), m.separator)).each(function () { var e = { id: this, text: this }, h = m.tags; aC.isFunction(h) && (h = h()), aC(h).each(function () { return al(this.id, e.id) ? (e = this, !1) : void 0 }), f.push(e) }), g(f) }))), "function" != typeof m.query) { throw "query function not defined for Select2 " + m.element.attr("id") } return m }, monitorSource: function () { var f, e, b = this.opts.element; b.on("change.select2", this.bind(function () { this.opts.element.data("select2-change-triggered") !== !0 && this.initSelection() })), f = this.bind(function () { var g = b.prop("disabled"); g === aB && (g = !1), this.enable(!g); var a = b.prop("readonly"); a === aB && (a = !1), this.readonly(a), Y(this.container, this.opts.element, this.opts.adaptContainerCssClass), this.container.addClass(R(this.opts.containerCssClass)), Y(this.dropdown, this.opts.element, this.opts.adaptDropdownCssClass), this.dropdown.addClass(R(this.opts.dropdownCssClass)) }), b.on("propertychange.select2", f), this.mutationCallback === aB && (this.mutationCallback = function (c) { c.forEach(f) }), e = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver, e !== aB && (this.propertyObserver && (delete this.propertyObserver, this.propertyObserver = null), this.propertyObserver = new e(this.mutationCallback), this.propertyObserver.observe(b.get(0), { attributes: !0, subtree: !1 })) }, triggerSelect: function (a) { var d = aC.Event("select2-selecting", { val: this.id(a), object: a }); return this.opts.element.trigger(d), !d.isDefaultPrevented() }, triggerChange: function (a) { a = a || {}, a = aC.extend({}, a, { type: "change", val: this.val() }), this.opts.element.data("select2-change-triggered", !0), this.opts.element.trigger(a), this.opts.element.data("select2-change-triggered", !1), this.opts.element.click(), this.opts.blurOnChange && this.opts.element.blur() }, isInterfaceEnabled: function () { return this.enabledInterface === !0 }, enableInterface: function () { var d = this._enabled && !this._readonly, c = !d; return d === this.enabledInterface ? !1 : (this.container.toggleClass("select2-container-disabled", c), this.close(), this.enabledInterface = d, !0) }, enable: function (b) { b === aB && (b = !0), this._enabled !== b && (this._enabled = b, this.opts.element.prop("disabled", !b), this.enableInterface()) }, disable: function () { this.enable(!1) }, readonly: function (b) { return b === aB && (b = !1), this._readonly === b ? !1 : (this._readonly = b, this.opts.element.prop("readonly", b), this.enableInterface(), !0) }, opened: function () { return this.container.hasClass("select2-dropdown-open") }, positionDropdown: function () { var A, z, y, k, a, aG = this.dropdown, aF = this.container.offset(), aE = this.container.outerHeight(!1), aD = this.container.outerWidth(!1), N = aG.outerHeight(!1), M = aC(window), L = M.width(), K = M.height(), J = M.scrollLeft() + L, I = M.scrollTop() + K, H = aF.top + aE, G = aF.left, F = I >= H + N, E = aF.top - N >= this.body().scrollTop(), D = aG.outerWidth(!1), C = J >= G + D, B = aG.hasClass("select2-drop-above"); B ? (z = !0, !E && F && (y = !0, z = !1)) : (z = !1, !F && E && (y = !0, z = !0)), y && (aG.hide(), aF = this.container.offset(), aE = this.container.outerHeight(!1), aD = this.container.outerWidth(!1), N = aG.outerHeight(!1), J = M.scrollLeft() + L, I = M.scrollTop() + K, H = aF.top + aE, G = aF.left, D = aG.outerWidth(!1), C = J >= G + D, aG.show()), this.opts.dropdownAutoWidth ? (a = aC(".select2-results", aG)[0], aG.addClass("select2-drop-auto-width"), aG.css("width", ""), D = aG.outerWidth(!1) + (a.scrollHeight === a.clientHeight ? 0 : ar.width), D > aD ? aD = D : D = aD, C = J >= G + D) : this.container.removeClass("select2-drop-auto-width"), "static" !== this.body().css("position") && (A = this.body().offset(), H -= A.top, G -= A.left), C || (G = aF.left + aD - D), k = { left: G, width: aD }, z ? (k.bottom = K - aF.top, k.top = "auto", this.container.addClass("select2-drop-above"), aG.addClass("select2-drop-above")) : (k.top = H, k.bottom = "auto", this.container.removeClass("select2-drop-above"), aG.removeClass("select2-drop-above")), k = aC.extend(k, R(this.opts.dropdownCss)), aG.css(k) }, shouldOpen: function () { var a; return this.opened() ? !1 : this._enabled === !1 || this._readonly === !0 ? !1 : (a = aC.Event("select2-opening"), this.opts.element.trigger(a), !a.isDefaultPrevented()) }, clearDropdownAlignmentPreference: function () { this.container.removeClass("select2-drop-above"), this.dropdown.removeClass("select2-drop-above") }, open: function () { return this.shouldOpen() ? (this.opening(), !0) : !1 }, opening: function () { var j, a = this.containerId, m = "scroll." + a, l = "resize." + a, k = "orientationchange." + a; this.container.addClass("select2-dropdown-open").addClass("select2-container-active"), this.clearDropdownAlignmentPreference(), this.dropdown[0] !== this.body().children().last()[0] && this.dropdown.detach().appendTo(this.body()), j = aC("#select2-drop-mask"), 0 == j.length && (j = aC(document.createElement("div")), j.attr("id", "select2-drop-mask").attr("class", "select2-drop-mask"), j.hide(), j.appendTo(this.body()), j.on("mousedown touchstart click", function (e) { var f, g = aC("#select2-drop"); g.length > 0 && (f = g.data("select2"), f.opts.selectOnBlur && f.selectHighlighted({ noFocus: !0 }), f.close({ focus: !0 }), e.preventDefault(), e.stopPropagation()) })), this.dropdown.prev()[0] !== j[0] && this.dropdown.before(j), aC("#select2-drop").removeAttr("id"), this.dropdown.attr("id", "select2-drop"), j.show(), this.positionDropdown(), this.dropdown.show(), this.positionDropdown(), this.dropdown.addClass("select2-drop-active"); var h = this; this.container.parents().add(window).each(function () { aC(this).on(l + " " + m + " " + k, function () { h.positionDropdown() }) }) }, close: function () { if (this.opened()) { var a = this.containerId, h = "scroll." + a, g = "resize." + a, f = "orientationchange." + a; this.container.parents().add(window).each(function () { aC(this).off(h).off(g).off(f) }), this.clearDropdownAlignmentPreference(), aC("#select2-drop-mask").hide(), this.dropdown.removeAttr("id"), this.dropdown.hide(), this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"), this.results.empty(), this.clearSearch(), this.search.removeClass("select2-active"), this.opts.element.trigger(aC.Event("select2-close")) } }, externalSearch: function (b) { this.open(), this.search.val(b), this.updateResults(!1) }, clearSearch: function () { }, getMaximumSelectionSize: function () { return R(this.opts.maximumSelectionSize) }, ensureHighlightVisible: function () { var p, o, n, m, l, k, j, a = this.results; if (o = this.highlight(), !(0 > o)) { if (0 == o) { return a.scrollTop(0), void 0 } p = this.findHighlightableChoices().find(".select2-result-label"), n = aC(p[o]), m = n.offset().top + n.outerHeight(!0), o === p.length - 1 && (j = a.find("li.select2-more-results"), j.length > 0 && (m = j.offset().top + j.outerHeight(!0))), l = a.offset().top + a.outerHeight(!0), m > l && a.scrollTop(a.scrollTop() + (m - l)), k = n.offset().top - a.offset().top, 0 > k && "none" != n.css("display") && a.scrollTop(a.scrollTop() + k) } }, findHighlightableChoices: function () { return this.results.find(".select2-result-selectable:not(.select2-disabled, .select2-selected)") }, moveHighlight: function (a) { for (var h = this.findHighlightableChoices(), g = this.highlight() ; g > -1 && g < h.length;) { g += a; var f = aC(h[g]); if (f.hasClass("select2-result-selectable") && !f.hasClass("select2-disabled") && !f.hasClass("select2-selected")) { this.highlight(g); break } } }, highlight: function (a) { var g, f, h = this.findHighlightableChoices(); return 0 === arguments.length ? an(h.filter(".select2-highlighted")[0], h.get()) : (a >= h.length && (a = h.length - 1), 0 > a && (a = 0), this.removeHighlight(), g = aC(h[a]), g.addClass("select2-highlighted"), this.ensureHighlightVisible(), f = g.data("select2-data"), f && this.opts.element.trigger({ type: "select2-highlight", val: this.id(f), choice: f }), void 0) }, removeHighlight: function () { this.results.find(".select2-highlighted").removeClass("select2-highlighted") }, countSelectableResults: function () { return this.findHighlightableChoices().length }, highlightUnderEvent: function (a) { var f = aC(a.target).closest(".select2-result-selectable"); if (f.length > 0 && !f.is(".select2-highlighted")) { var e = this.findHighlightableChoices(); this.highlight(e.index(f)) } else { 0 == f.length && this.removeHighlight() } }, loadMoreIfNeeded: function () { var o, j = this.results, h = j.find("li.select2-more-results"), n = this.resultsPage + 1, m = this, l = this.search.val(), k = this.context; 0 !== h.length && (o = h.offset().top - j.offset().top - j.height(), o <= this.opts.loadMorePadding && (h.addClass("select2-active"), this.opts.query({ element: this.opts.element, term: l, page: n, context: k, matcher: this.opts.matcher, callback: this.bind(function (a) { m.opened() && (m.opts.populateResults.call(this, j, a.results, { term: l, page: n, context: k }), m.postprocessResults(a, !1, !1), a.more === !0 ? (h.detach().appendTo(j).text(m.opts.formatLoadMore(n + 1)), window.setTimeout(function () { m.loadMoreIfNeeded() }, 10)) : h.remove(), m.positionDropdown(), m.resultsPage = n, m.context = a.context, this.opts.element.trigger({ type: "select2-loaded", items: a })) }) }))) }, tokenize: function () { }, updateResults: function (z) { function p() { y.removeClass("select2-active"), u.positionDropdown() } function b(c) { x.html(c), p() } var v, t, q, y = this.search, x = this.results, w = this.opts, u = this, s = y.val(), r = aC.data(this.container, "select2-last-term"); if ((z === !0 || !r || !al(s, r)) && (aC.data(this.container, "select2-last-term", s), z === !0 || this.showSearchInput !== !1 && this.opened())) { q = ++this.queryCount; var a = this.getMaximumSelectionSize(); if (a >= 1 && (v = this.data(), aC.isArray(v) && v.length >= a && S(w.formatSelectionTooBig, "formatSelectionTooBig"))) { return b("<li class='select2-selection-limit'>" + w.formatSelectionTooBig(a) + "</li>"), void 0 } if (y.val().length < w.minimumInputLength) { return S(w.formatInputTooShort, "formatInputTooShort") ? b("<li class='select2-no-results'>" + w.formatInputTooShort(y.val(), w.minimumInputLength) + "</li>") : b(""), z && this.showSearch && this.showSearch(!0), void 0 } if (w.maximumInputLength && y.val().length > w.maximumInputLength) { return S(w.formatInputTooLong, "formatInputTooLong") ? b("<li class='select2-no-results'>" + w.formatInputTooLong(y.val(), w.maximumInputLength) + "</li>") : b(""), void 0 } w.formatSearching && 0 === this.findHighlightableChoices().length && b("<li class='select2-searching'>" + w.formatSearching() + "</li>"), y.addClass("select2-active"), this.removeHighlight(), t = this.tokenize(), t != aB && null != t && y.val(t), this.resultsPage = 1, w.query({ element: w.element, term: y.val(), page: this.resultsPage, context: null, matcher: w.matcher, callback: this.bind(function (d) { var c; if (q == this.queryCount) { if (!this.opened()) { return this.search.removeClass("select2-active"), void 0 } if (this.context = d.context === aB ? null : d.context, this.opts.createSearchChoice && "" !== y.val() && (c = this.opts.createSearchChoice.call(u, y.val(), d.results), c !== aB && null !== c && u.id(c) !== aB && null !== u.id(c) && 0 === aC(d.results).filter(function () { return al(u.id(this), u.id(c)) }).length && d.results.unshift(c)), 0 === d.results.length && S(w.formatNoMatches, "formatNoMatches")) { return b("<li class='select2-no-results'>" + w.formatNoMatches(y.val()) + "</li>"), void 0 } x.empty(), u.opts.populateResults.call(this, x, d.results, { term: y.val(), page: this.resultsPage, context: null }), d.more === !0 && S(w.formatLoadMore, "formatLoadMore") && (x.append("<li class='select2-more-results'>" + u.opts.escapeMarkup(w.formatLoadMore(this.resultsPage)) + "</li>"), window.setTimeout(function () { u.loadMoreIfNeeded() }, 10)), this.postprocessResults(d, z), p(), this.opts.element.trigger({ type: "select2-loaded", items: d }) } }) }) } }, cancel: function () { this.close() }, blur: function () { this.opts.selectOnBlur && this.selectHighlighted({ noFocus: !0 }), this.close(), this.container.removeClass("select2-container-active"), this.search[0] === document.activeElement && this.search.blur(), this.clearSearch(), this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus") }, focusSearch: function () { ad(this.search) }, selectHighlighted: function (f) { var e = this.highlight(), h = this.results.find(".select2-highlighted"), g = h.closest(".select2-result").data("select2-data"); g ? (this.highlight(e), this.onSelect(g, f)) : f && f.noFocus && this.close() }, getPlaceholder: function () { var b; return this.opts.element.attr("placeholder") || this.opts.element.attr("data-placeholder") || this.opts.element.data("placeholder") || this.opts.placeholder || ((b = this.getPlaceholderOption()) !== aB ? b.text() : aB) }, getPlaceholderOption: function () { if (this.select) { var b = this.select.children("option").first(); if (this.opts.placeholderOption !== aB) { return "first" === this.opts.placeholderOption && b || "function" == typeof this.opts.placeholderOption && this.opts.placeholderOption(this.select) } if ("" === b.text() && "" === b.val()) { return b } } }, initContainerWidth: function () { function b() { var o, n, m, l, k, j; if ("off" === this.opts.width) { return null } if ("element" === this.opts.width) { return 0 === this.opts.element.outerWidth(!1) ? "auto" : this.opts.element.outerWidth(!1) + "px" } if ("copy" === this.opts.width || "resolve" === this.opts.width) { if (o = this.opts.element.attr("style"), o !== aB) { for (n = o.split(";"), l = 0, k = n.length; k > l; l += 1) { if (j = n[l].replace(/\s/g, ""), m = j.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i), null !== m && m.length >= 1) { return m[1] } } } return "resolve" === this.opts.width ? (o = this.opts.element.css("width"), o.indexOf("%") > 0 ? o : 0 === this.opts.element.outerWidth(!1) ? "auto" : this.opts.element.outerWidth(!1) + "px") : null } return aC.isFunction(this.opts.width) ? this.opts.width() : this.opts.width } var a = b.call(this); null !== a && this.container.css("width", a) } }), ay = O(az, { createContainer: function () { var a = aC(document.createElement("div")).attr({ "class": "select2-container" }).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>", "   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>", "   <span class='select2-arrow'><b></b></span>", "</a>", "<input class='select2-focusser select2-offscreen' type='text'/>", "<div class='select2-drop select2-display-none'>", "   <div class='select2-search'>", "       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>", "   </div>", "   <ul class='select2-results'>", "   </ul>", "</div>"].join("")); return a }, enableInterface: function () { this.parent.enableInterface.apply(this, arguments) && this.focusser.prop("disabled", !this.isInterfaceEnabled()) }, opening: function () { var f, b, a; this.opts.minimumResultsForSearch >= 0 && this.showSearch(!0), this.parent.opening.apply(this, arguments), this.showSearchInput !== !1 && this.search.val(this.focusser.val()), this.search.focus(), f = this.search.get(0), f.createTextRange ? (b = f.createTextRange(), b.collapse(!1), b.select()) : f.setSelectionRange && (a = this.search.val().length, f.setSelectionRange(a, a)), "" === this.search.val() && this.nextSearchTerm != aB && (this.search.val(this.nextSearchTerm), this.search.select()), this.focusser.prop("disabled", !0).val(""), this.updateResults(!0), this.opts.element.trigger(aC.Event("select2-open")) }, close: function (b) { this.opened() && (this.parent.close.apply(this, arguments), b = b || { focus: !0 }, this.focusser.removeAttr("disabled"), b.focus && this.focusser.focus()) }, focus: function () { this.opened() ? this.close() : (this.focusser.removeAttr("disabled"), this.focusser.focus()) }, isFocused: function () { return this.container.hasClass("select2-container-active") }, cancel: function () { this.parent.cancel.apply(this, arguments), this.focusser.removeAttr("disabled"), this.focusser.focus() }, destroy: function () { aC("label[for='" + this.focusser.attr("id") + "']").attr("for", this.opts.element.attr("id")), this.parent.destroy.apply(this, arguments) }, initContainer: function () { var a, f = this.container, c = this.dropdown; this.opts.minimumResultsForSearch < 0 ? this.showSearch(!1) : this.showSearch(!0), this.selection = a = f.find(".select2-choice"), this.focusser = f.find(".select2-focusser"), this.focusser.attr("id", "s2id_autogen" + aw()), aC("label[for='" + this.opts.element.attr("id") + "']").attr("for", this.focusser.attr("id")), this.focusser.attr("tabindex", this.elementTabIndex), this.search.on("keydown", this.bind(function (b) { if (this.isInterfaceEnabled()) { if (b.which === aA.PAGE_UP || b.which === aA.PAGE_DOWN) { return ab(b), void 0 } switch (b.which) { case aA.UP: case aA.DOWN: return this.moveHighlight(b.which === aA.UP ? -1 : 1), ab(b), void 0; case aA.ENTER: return this.selectHighlighted(), ab(b), void 0; case aA.TAB: return this.selectHighlighted({ noFocus: !0 }), void 0; case aA.ESC: return this.cancel(b), ab(b), void 0 } } })), this.search.on("blur", this.bind(function () { document.activeElement === this.body().get(0) && window.setTimeout(this.bind(function () { this.search.focus() }), 0) })), this.focusser.on("keydown", this.bind(function (b) { if (this.isInterfaceEnabled() && b.which !== aA.TAB && !aA.isControl(b) && !aA.isFunctionKey(b) && b.which !== aA.ESC) { if (this.opts.openOnEnter === !1 && b.which === aA.ENTER) { return ab(b), void 0 } if (b.which == aA.DOWN || b.which == aA.UP || b.which == aA.ENTER && this.opts.openOnEnter) { if (b.altKey || b.ctrlKey || b.shiftKey || b.metaKey) { return } return this.open(), ab(b), void 0 } return b.which == aA.DELETE || b.which == aA.BACKSPACE ? (this.opts.allowClear && this.clear(), ab(b), void 0) : void 0 } })), ai(this.focusser), this.focusser.on("keyup-change input", this.bind(function (b) { if (this.opts.minimumResultsForSearch >= 0) { if (b.stopPropagation(), this.opened()) { return } this.open() } })), a.on("mousedown", "abbr", this.bind(function (b) { this.isInterfaceEnabled() && (this.clear(), aa(b), this.close(), this.selection.focus()) })), a.on("mousedown", this.bind(function (d) { this.container.hasClass("select2-container-active") || this.opts.element.trigger(aC.Event("select2-focus")), this.opened() ? this.close() : this.isInterfaceEnabled() && this.open(), ab(d) })), c.on("mousedown", this.bind(function () { this.search.focus() })), a.on("focus", this.bind(function (b) { ab(b) })), this.focusser.on("focus", this.bind(function () { this.container.hasClass("select2-container-active") || this.opts.element.trigger(aC.Event("select2-focus")), this.container.addClass("select2-container-active") })).on("blur", this.bind(function () { this.opened() || (this.container.removeClass("select2-container-active"), this.opts.element.trigger(aC.Event("select2-blur"))) })), this.search.on("focus", this.bind(function () { this.container.hasClass("select2-container-active") || this.opts.element.trigger(aC.Event("select2-focus")), this.container.addClass("select2-container-active") })), this.initContainerWidth(), this.opts.element.addClass("select2-offscreen"), this.setPlaceholder() }, clear: function (a) { var h = this.selection.data("select2-data"); if (h) { var g = aC.Event("select2-clearing"); if (this.opts.element.trigger(g), g.isDefaultPrevented()) { return } var f = this.getPlaceholderOption(); this.opts.element.val(f ? f.val() : ""), this.selection.find(".select2-chosen").empty(), this.selection.removeData("select2-data"), this.setPlaceholder(), a !== !1 && (this.opts.element.trigger({ type: "select2-removed", val: this.id(h), choice: h }), this.triggerChange({ removed: h })) } }, initSelection: function () { if (this.isPlaceholderOptionSelected()) { this.updateSelection(null), this.close(), this.setPlaceholder() } else { var a = this; this.opts.initSelection.call(null, this.opts.element, function (b) { b !== aB && null !== b && (a.updateSelection(b), a.close(), a.setPlaceholder()) }) } }, isPlaceholderOptionSelected: function () { var b; return this.getPlaceholder() ? (b = this.getPlaceholderOption()) !== aB && b.prop("selected") || "" === this.opts.element.val() || this.opts.element.val() === aB || null === this.opts.element.val() : !1 }, prepareOpts: function () { var a = this.parent.prepareOpts.apply(this, arguments), d = this; return "select" === a.element.get(0).tagName.toLowerCase() ? a.initSelection = function (e, c) { var f = e.find("option").filter(function () { return this.selected }); c(d.optionToData(f)) } : "data" in a && (a.initSelection = a.initSelection || function (j, h) { var g = j.val(), b = null; a.query({ matcher: function (e, l, k) { var f = al(g, a.id(k)); return f && (b = k), f }, callback: aC.isFunction(h) ? function () { h(b) } : aC.noop }) }), a }, getPlaceholder: function () { return this.select && this.getPlaceholderOption() === aB ? aB : this.parent.getPlaceholder.apply(this, arguments) }, setPlaceholder: function () { var b = this.getPlaceholder(); if (this.isPlaceholderOptionSelected() && b !== aB) { if (this.select && this.getPlaceholderOption() === aB) { return } this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(b)), this.selection.addClass("select2-default"), this.container.removeClass("select2-allowclear") } }, postprocessResults: function (h, f, m) { var l = 0, k = this; if (this.findHighlightableChoices().each2(function (d, c) { return al(k.id(c.data("select2-data")), k.opts.element.val()) ? (l = d, !1) : void 0 }), m !== !1 && (f === !0 && l >= 0 ? this.highlight(l) : this.highlight(0)), f === !0) { var j = this.opts.minimumResultsForSearch; j >= 0 && this.showSearch(Q(h.results) >= j) } }, showSearch: function (a) { this.showSearchInput !== a && (this.showSearchInput = a, this.dropdown.find(".select2-search").toggleClass("select2-search-hidden", !a), this.dropdown.find(".select2-search").toggleClass("select2-offscreen", !a), aC(this.dropdown, this.container).toggleClass("select2-with-searchbox", a)) }, onSelect: function (f, e) { if (this.triggerSelect(f)) { var h = this.opts.element.val(), g = this.data(); this.opts.element.val(this.id(f)), this.updateSelection(f), this.opts.element.trigger({ type: "select2-selected", val: this.id(f), choice: f }), this.nextSearchTerm = this.opts.nextSearchTerm(f, this.search.val()), this.close(), e && e.noFocus || this.focusser.focus(), al(h, this.id(f)) || this.triggerChange({ added: f, removed: g }) } }, updateSelection: function (b) { var g, f, h = this.selection.find(".select2-chosen"); this.selection.data("select2-data", b), h.empty(), null !== b && (g = this.opts.formatSelection(b, h, this.opts.escapeMarkup)), g !== aB && h.append(g), f = this.opts.formatSelectionCssClass(b, h), f !== aB && h.addClass(f), this.selection.removeClass("select2-default"), this.opts.allowClear && this.getPlaceholder() !== aB && this.container.addClass("select2-allowclear") }, val: function () { var b, k = !1, j = null, h = this, g = this.data(); if (0 === arguments.length) { return this.opts.element.val() } if (b = arguments[0], arguments.length > 1 && (k = arguments[1]), this.select) { this.select.val(b).find("option").filter(function () { return this.selected }).each2(function (d, c) { return j = h.optionToData(c), !1 }), this.updateSelection(j), this.setPlaceholder(), k && this.triggerChange({ added: j, removed: g }) } else { if (!b && 0 !== b) { return this.clear(k), void 0 } if (this.opts.initSelection === aB) { throw new Error("cannot call val() if initSelection() is not defined") } this.opts.element.val(b), this.opts.initSelection(this.opts.element, function (c) { h.opts.element.val(c ? h.id(c) : ""), h.updateSelection(c), h.setPlaceholder(), k && h.triggerChange({ added: c, removed: g }) }) } }, clearSearch: function () { this.search.val(""), this.focusser.val("") }, data: function (b) { var f, e = !1; return 0 === arguments.length ? (f = this.selection.data("select2-data"), f == aB && (f = null), f) : (arguments.length > 1 && (e = arguments[1]), b ? (f = this.data(), this.opts.element.val(b ? this.id(b) : ""), this.updateSelection(b), e && this.triggerChange({ added: b, removed: f })) : this.clear(e), void 0) } }), ax = O(az, { createContainer: function () { var a = aC(document.createElement("div")).attr({ "class": "select2-container select2-container-multi" }).html(["<ul class='select2-choices'>", "  <li class='select2-search-field'>", "    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>", "  </li>", "</ul>", "<div class='select2-drop select2-drop-multi select2-display-none'>", "   <ul class='select2-results'>", "   </ul>", "</div>"].join("")); return a }, prepareOpts: function () { var a = this.parent.prepareOpts.apply(this, arguments), d = this; return "select" === a.element.get(0).tagName.toLowerCase() ? a.initSelection = function (e, c) { var f = []; e.find("option").filter(function () { return this.selected }).each2(function (h, g) { f.push(d.optionToData(g)) }), c(f) } : "data" in a && (a.initSelection = a.initSelection || function (j, h) { var g = ak(j.val(), a.separator), b = []; a.query({ matcher: function (l, k, f) { var e = aC.grep(g, function (c) { return al(c, a.id(f)) }).length; return e && b.push(f), e }, callback: aC.isFunction(h) ? function () { for (var e = [], m = 0; m < g.length; m++) { for (var l = g[m], k = 0; k < b.length; k++) { var f = b[k]; if (al(l, a.id(f))) { e.push(f), b.splice(k, 1); break } } } h(e) } : aC.noop }) }), a }, selectChoice: function (d) { var c = this.container.find(".select2-search-choice-focus"); c.length && d && d[0] == c[0] || (c.length && this.opts.element.trigger("choice-deselected", c), c.removeClass("select2-search-choice-focus"), d && d.length && (this.close(), d.addClass("select2-search-choice-focus"), this.opts.element.trigger("choice-selected", d))) }, destroy: function () { aC("label[for='" + this.search.attr("id") + "']").attr("for", this.opts.element.attr("id")), this.parent.destroy.apply(this, arguments) }, initContainer: function () { var f, a = ".select2-choices"; this.searchContainer = this.container.find(".select2-search-field"), this.selection = f = this.container.find(a); var c = this; this.selection.on("click", ".select2-search-choice:not(.select2-locked)", function () { c.search[0].focus(), c.selectChoice(aC(this)) }), this.search.attr("id", "s2id_autogen" + aw()), aC("label[for='" + this.opts.element.attr("id") + "']").attr("for", this.search.attr("id")), this.search.on("input paste", this.bind(function () { this.isInterfaceEnabled() && (this.opened() || this.open()) })), this.search.attr("tabindex", this.elementTabIndex), this.keydowns = 0, this.search.on("keydown", this.bind(function (j) { if (this.isInterfaceEnabled()) { ++this.keydowns; var d = f.find(".select2-search-choice-focus"), n = d.prev(".select2-search-choice:not(.select2-locked)"), m = d.next(".select2-search-choice:not(.select2-locked)"), l = ac(this.search); if (d.length && (j.which == aA.LEFT || j.which == aA.RIGHT || j.which == aA.BACKSPACE || j.which == aA.DELETE || j.which == aA.ENTER)) { var k = d; return j.which == aA.LEFT && n.length ? k = n : j.which == aA.RIGHT ? k = m.length ? m : null : j.which === aA.BACKSPACE ? (this.unselect(d.first()), this.search.width(10), k = n.length ? n : m) : j.which == aA.DELETE ? (this.unselect(d.first()), this.search.width(10), k = m.length ? m : null) : j.which == aA.ENTER && (k = null), this.selectChoice(k), ab(j), k && k.length || this.open(), void 0 } if ((j.which === aA.BACKSPACE && 1 == this.keydowns || j.which == aA.LEFT) && 0 == l.offset && !l.length) { return this.selectChoice(f.find(".select2-search-choice:not(.select2-locked)").last()), ab(j), void 0 } if (this.selectChoice(null), this.opened()) { switch (j.which) { case aA.UP: case aA.DOWN: return this.moveHighlight(j.which === aA.UP ? -1 : 1), ab(j), void 0; case aA.ENTER: return this.selectHighlighted(), ab(j), void 0; case aA.TAB: return this.selectHighlighted({ noFocus: !0 }), this.close(), void 0; case aA.ESC: return this.cancel(j), ab(j), void 0 } } if (j.which !== aA.TAB && !aA.isControl(j) && !aA.isFunctionKey(j) && j.which !== aA.BACKSPACE && j.which !== aA.ESC) { if (j.which === aA.ENTER) { if (this.opts.openOnEnter === !1) { return } if (j.altKey || j.ctrlKey || j.shiftKey || j.metaKey) { return } } this.open(), (j.which === aA.PAGE_UP || j.which === aA.PAGE_DOWN) && ab(j), j.which === aA.ENTER && ab(j) } } })), this.search.on("keyup", this.bind(function () { this.keydowns = 0, this.resizeSearch() })), this.search.on("blur", this.bind(function (d) { this.container.removeClass("select2-container-active"), this.search.removeClass("select2-focused"), this.selectChoice(null), this.opened() || this.clearSearch(), d.stopImmediatePropagation(), this.opts.element.trigger(aC.Event("select2-blur")) })), this.container.on("click", a, this.bind(function (d) { this.isInterfaceEnabled() && (aC(d.target).closest(".select2-search-choice").length > 0 || (this.selectChoice(null), this.clearPlaceholder(), this.container.hasClass("select2-container-active") || this.opts.element.trigger(aC.Event("select2-focus")), this.open(), this.focusSearch(), d.preventDefault())) })), this.container.on("focus", a, this.bind(function () { this.isInterfaceEnabled() && (this.container.hasClass("select2-container-active") || this.opts.element.trigger(aC.Event("select2-focus")), this.container.addClass("select2-container-active"), this.dropdown.addClass("select2-drop-active"), this.clearPlaceholder()) })), this.initContainerWidth(), this.opts.element.addClass("select2-offscreen"), this.clearSearch() }, enableInterface: function () { this.parent.enableInterface.apply(this, arguments) && this.search.prop("disabled", !this.isInterfaceEnabled()) }, initSelection: function () { if ("" === this.opts.element.val() && "" === this.opts.element.text() && (this.updateSelection([]), this.close(), this.clearSearch()), this.select || "" !== this.opts.element.val()) { var a = this; this.opts.initSelection.call(null, this.opts.element, function (b) { b !== aB && null !== b && (a.updateSelection(b), a.close(), a.clearSearch()) }) } }, clearSearch: function () { var b = this.getPlaceholder(), d = this.getMaxSearchWidth(); b !== aB && 0 === this.getVal().length && this.search.hasClass("select2-focused") === !1 ? (this.search.val(b).addClass("select2-default"), this.search.width(d > 0 ? d : this.container.css("width"))) : this.search.val("").width(10) }, clearPlaceholder: function () { this.search.hasClass("select2-default") && this.search.val("").removeClass("select2-default") }, opening: function () { this.clearPlaceholder(), this.resizeSearch(), this.parent.opening.apply(this, arguments), this.focusSearch(), this.updateResults(!0), this.search.focus(), this.opts.element.trigger(aC.Event("select2-open")) }, close: function () { this.opened() && this.parent.close.apply(this, arguments) }, focus: function () { this.close(), this.search.focus() }, isFocused: function () { return this.search.hasClass("select2-focused") }, updateSelection: function (a) { var h = [], g = [], f = this; aC(a).each(function () { an(f.id(this), h) < 0 && (h.push(f.id(this)), g.push(this)) }), a = g, this.selection.find(".select2-search-choice").remove(), aC(a).each(function () { f.addSelectedChoice(this) }), f.postprocessResults() }, tokenize: function () { var b = this.search.val(); b = this.opts.tokenizer.call(this, b, this.data(), this.bind(this.onSelect), this.opts), null != b && b != aB && (this.search.val(b), b.length > 0 && this.open()) }, onSelect: function (d, c) { this.triggerSelect(d) && (this.addSelectedChoice(d), this.opts.element.trigger({ type: "selected", val: this.id(d), choice: d }), (this.select || !this.opts.closeOnSelect) && this.postprocessResults(d, !1, this.opts.closeOnSelect === !0), this.opts.closeOnSelect ? (this.close(), this.search.width(10)) : this.countSelectableResults() > 0 ? (this.search.width(10), this.resizeSearch(), this.getMaximumSelectionSize() > 0 && this.val().length >= this.getMaximumSelectionSize() && this.updateResults(!0), this.positionDropdown()) : (this.close(), this.search.width(10)), this.triggerChange({ added: d }), c && c.noFocus || this.focusSearch()) }, cancel: function () { this.close(), this.focusSearch() }, addSelectedChoice: function (r) { var b, a, q = !r.locked, p = aC("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"), o = aC("<li class='select2-search-choice select2-locked'><div></div></li>"), n = q ? p : o, m = this.id(r), l = this.getVal(); b = this.opts.formatSelection(r, n.find("div"), this.opts.escapeMarkup), b != aB && n.find("div").replaceWith("<div>" + b + "</div>"), a = this.opts.formatSelectionCssClass(r, n.find("div")), a != aB && n.addClass(a), q && n.find(".select2-search-choice-close").on("mousedown", ab).on("click dblclick", this.bind(function (c) { this.isInterfaceEnabled() && (aC(c.target).closest(".select2-search-choice").fadeOut("fast", this.bind(function () { this.unselect(aC(c.target)), this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"), this.close(), this.focusSearch() })).dequeue(), ab(c)) })).on("focus", this.bind(function () { this.isInterfaceEnabled() && (this.container.addClass("select2-container-active"), this.dropdown.addClass("select2-drop-active")) })), n.data("select2-data", r), n.insertBefore(this.searchContainer), l.push(m), this.setVal(l) }, unselect: function (a) { var j, h, k = this.getVal(); if (a = a.closest(".select2-search-choice"), 0 === a.length) { throw "Invalid argument: " + a + ". Must be .select2-search-choice" } if (j = a.data("select2-data")) { for (; (h = an(this.id(j), k)) >= 0;) { k.splice(h, 1), this.setVal(k), this.select && this.postprocessResults() } var g = aC.Event("select2-removing"); g.val = this.id(j), g.choice = j, this.opts.element.trigger(g), g.isDefaultPrevented() || (a.remove(), this.opts.element.trigger({ type: "select2-removed", val: this.id(j), choice: j }), this.triggerChange({ removed: j })) } }, postprocessResults: function (j, h, o) { var n = this.getVal(), m = this.results.find(".select2-result"), l = this.results.find(".select2-result-with-children"), k = this; m.each2(function (e, d) { var f = k.id(d.data("select2-data")); an(f, n) >= 0 && (d.addClass("select2-selected"), d.find(".select2-result-selectable").addClass("select2-selected")) }), l.each2(function (d, c) { c.is(".select2-result-selectable") || 0 !== c.find(".select2-result-selectable:not(.select2-selected)").length || c.addClass("select2-selected") }), -1 == this.highlight() && o !== !1 && k.highlight(0), !this.opts.createSearchChoice && !m.filter(".select2-result:not(.select2-selected)").length > 0 && (!j || j && !j.more && 0 === this.results.find(".select2-no-results").length) && S(k.opts.formatNoMatches, "formatNoMatches") && this.results.append("<li class='select2-no-results'>" + k.opts.formatNoMatches(k.search.val()) + "</li>") }, getMaxSearchWidth: function () { return this.selection.width() - aj(this.search) }, resizeSearch: function () { var h, g, m, l, k, j = aj(this.search); h = Z(this.search) + 10, g = this.search.offset().left, m = this.selection.width(), l = this.selection.offset().left, k = m - (g - l) - j, h > k && (k = m - j), 40 > k && (k = m - j), 0 >= k && (k = h), this.search.width(Math.floor(k)) }, getVal: function () { var b; return this.select ? (b = this.select.val(), null === b ? [] : b) : (b = this.opts.element.val(), ak(b, this.opts.separator)) }, setVal: function (a) { var d; this.select ? this.select.val(a) : (d = [], aC(a).each(function () { an(this, d) < 0 && d.push(this) }), this.opts.element.val(0 === d.length ? "" : d.join(this.opts.separator))) }, buildChangeDetails: function (f, e) { for (var e = e.slice(0), f = f.slice(0), h = 0; h < e.length; h++) { for (var g = 0; g < f.length; g++) { al(this.opts.id(e[h]), this.opts.id(f[g])) && (e.splice(h, 1), h > 0 && h--, f.splice(g, 1), g--) } } return { added: e, removed: f } }, val: function (h, g) { var b, a = this; if (0 === arguments.length) { return this.getVal() } if (b = this.data(), b.length || (b = []), !h && 0 !== h) { return this.opts.element.val(""), this.updateSelection([]), this.clearSearch(), g && this.triggerChange({ added: this.data(), removed: b }), void 0 } if (this.setVal(h), this.select) { this.opts.initSelection(this.select, this.bind(this.updateSelection)), g && this.triggerChange(this.buildChangeDetails(b, this.data())) } else { if (this.opts.initSelection === aB) { throw new Error("val() cannot be called if initSelection() is not defined") } this.opts.initSelection(this.opts.element, function (d) { var e = aC.map(d, a.id); a.setVal(e), a.updateSelection(d), a.clearSearch(), g && a.triggerChange(a.buildChangeDetails(b, a.data())) }) } this.clearSearch() }, onSortStart: function () { if (this.select) { throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.") } this.search.width(0), this.searchContainer.hide() }, onSortEnd: function () { var a = [], d = this; this.searchContainer.show(), this.searchContainer.appendTo(this.searchContainer.parent()), this.resizeSearch(), this.selection.find(".select2-search-choice").each(function () { a.push(d.opts.id(aC(this).data("select2-data"))) }), this.setVal(a), this.triggerChange() }, data: function (a, k) { var h, g, j = this; return 0 === arguments.length ? this.selection.find(".select2-search-choice").map(function () { return aC(this).data("select2-data") }).get() : (g = this.data(), a || (a = []), h = aC.map(a, function (b) { return j.opts.id(b) }), this.setVal(h), this.updateSelection(a), this.clearSearch(), k && this.triggerChange(this.buildChangeDetails(g, this.data())), void 0) } }), aC.fn.select2 = function () { var s, r, q, p, o, t = Array.prototype.slice.call(arguments, 0), f = ["val", "destroy", "opened", "open", "close", "focus", "isFocused", "container", "dropdown", "onSortStart", "onSortEnd", "enable", "disable", "readonly", "positionDropdown", "data", "search"], e = ["opened", "isFocused", "container", "dropdown"], b = ["val", "data"], a = { search: "externalSearch" }; return this.each(function () { if (0 === t.length || "object" == typeof t[0]) { s = 0 === t.length ? {} : aC.extend({}, t[0]), s.element = aC(this), "select" === s.element.get(0).tagName.toLowerCase() ? o = s.element.prop("multiple") : (o = s.multiple || !1, "tags" in s && (s.multiple = o = !0)), r = o ? new ax : new ay, r.init(s) } else { if ("string" != typeof t[0]) { throw "Invalid arguments to select2 plugin: " + t } if (an(t[0], f) < 0) { throw "Unknown method: " + t[0] } if (p = aB, r = aC(this).data("select2"), r === aB) { return } if (q = t[0], "container" === q ? p = r.container : "dropdown" === q ? p = r.dropdown : (a[q] && (q = a[q]), p = r[q].apply(r, t.slice(1))), an(t[0], e) >= 0 || an(t[0], b) && 1 == t.length) { return !1 } } }), p === aB ? this : p }, aC.fn.select2.defaults = { width: "copy", loadMorePadding: 0, closeOnSelect: !0, openOnEnter: !0, containerCss: {}, dropdownCss: {}, containerCssClass: "", dropdownCssClass: "", formatResult: function (g, f, k, j) { var h = []; return X(g.text, k.term, h, j), h.join("") }, formatSelection: function (b, f, e) { return b ? e(b.text) : aB }, sortResults: function (b) { return b }, formatResultCssClass: function () { return aB }, formatSelectionCssClass: function () { return aB }, formatNoMatches: function () { return "No matches found" }, formatInputTooShort: function (e, d) { var f = d - e.length; return "Please enter " + f + " more character" + (1 == f ? "" : "s") }, formatInputTooLong: function (e, d) { var f = e.length - d; return "Please delete " + f + " character" + (1 == f ? "" : "s") }, formatSelectionTooBig: function (b) { return "You can only select " + b + " item" + (1 == b ? "" : "s") }, formatLoadMore: function () { return "Loading more results..." }, formatSearching: function () { return "Searching..." }, minimumResultsForSearch: 0, minimumInputLength: 0, maximumInputLength: null, maximumSelectionSize: 0, id: function (b) { return b.id }, matcher: function (d, c) { return ao("" + c).toUpperCase().indexOf(ao("" + d).toUpperCase()) >= 0 }, separator: ",", tokenSeparators: [], tokenizer: P, escapeMarkup: W, blurOnChange: !1, selectOnBlur: !1, adaptContainerCssClass: function (b) { return b }, adaptDropdownCssClass: function () { return null }, nextSearchTerm: function () { return aB } }, aC.fn.select2.ajaxDefaults = { transport: aC.ajax, params: { type: "GET", cache: !1, dataType: "json" } }, window.Select2 = { query: { ajax: V, local: U, tags: T }, util: { debounce: ag, markMatch: X, escapeMarkup: W, stripDiacritics: ao }, "class": { "abstract": az, single: ay, multi: ax } } } }(jQuery);
$(document).ready(function () {
    console.log($.fn.peity);
    //$.fn.peity.defaults.line = { strokeWidth: 1, delimeter: ",", height: 24, max: null, min: 0, width: 50 }; $.fn.peity.defaults.bar = { delimeter: ",", height: 24, max: null, min: 0, width: 50 }; $(".peity_line_good span").peity("line", { colour: "#B1FFA9", strokeColour: "#459D1C" }); $(".peity_line_bad span").peity("line", { colour: "#FFC4C7", strokeColour: "#BA1E20" }); $(".peity_line_neutral span").peity("line", { colour: "#CCCCCC", strokeColour: "#757575" }); $(".peity_bar_good span").peity("bar", { colour: "#459D1C" });
    //$(".peity_bar_bad span").peity("bar", { colour: "#BA1E20" }); $(".peity_bar_neutral span").peity("bar", { colour: "#757575" })
}); (function (a) { a.jPanelMenu = function (b) { if (typeof b == "undefined" || b == null) { b = {} } var c = { options: a.extend({ menu: "#menu", trigger: ".menu-trigger", excludedPanelContent: "style, script", direction: "left", openPosition: "250px", animated: !0, closeOnContentClick: !0, keyboardShortcuts: [{ code: 27, open: !1, close: !0 }, { code: 37, open: !1, close: !0 }, { code: 39, open: !0, close: !0 }, { code: 77, open: !0, close: !0 }], duration: 150, openDuration: b.duration || 150, closeDuration: b.duration || 150, easing: "ease-in-out", openEasing: b.easing || "ease-in-out", closeEasing: b.easing || "ease-in-out", before: function () { }, beforeOpen: function () { }, beforeClose: function () { }, after: function () { }, afterOpen: function () { }, afterClose: function () { }, beforeOn: function () { }, afterOn: function () { }, beforeOff: function () { }, afterOff: function () { } }, b), settings: { transitionsSupported: "WebkitTransition" in document.body.style || "MozTransition" in document.body.style || "msTransition" in document.body.style || "OTransition" in document.body.style || "Transition" in document.body.style, shiftFixedChildren: !1, panelPosition: "relative", positionUnits: "px" }, menu: "#jPanelMenu-menu", panel: ".jPanelMenu-panel", fixedChildren: [], timeouts: {}, clearTimeouts: function () { clearTimeout(c.timeouts.open); clearTimeout(c.timeouts.afterOpen); clearTimeout(c.timeouts.afterClose) }, setPositionUnits: function () { var g = !1, d = ["%", "px", "em"]; for (unitID in d) { var f = d[unitID]; if (c.options.openPosition.toString().substr(-f.length) == f) { g = !0; c.settings.positionUnits = f } } g || (c.options.openPosition = parseInt(c.options.openPosition) + c.settings.positionUnits) }, checkFixedChildren: function () { c.disableTransitions(); var d = { position: a(c.panel).css("position") }; d[c.options.direction] = a(c.panel).css(c.options.direction) == "auto" ? 0 : a(c.panel).css(c.options.direction); a(c.panel).find("> *").each(function () { a(this).css("position") == "fixed" && a(this).css(c.options.direction) == "auto" && c.fixedChildren.push(this) }); if (c.fixedChildren.length > 0) { var e = { position: "relative" }; e[c.options.direction] = "1px"; c.setPanelStyle(e); parseInt(a(c.fixedChildren[0]).offset().left) == 0 && (c.settings.shiftFixedChildren = !0) } c.setPanelStyle(d) }, setjPanelMenuStyles: function () { var e = "#fff", f = a("html").css("background-color"), d = a("body").css("background-color"); d != "transparent" && d != "rgba(0, 0, 0, 0)" ? e = d : f != "transparent" && f != "rgba(0, 0, 0, 0)" ? e = f : e = "#fff"; a("#jPanelMenu-style-master").length == 0 && a("body").append('<style id="jPanelMenu-style-master">body{width:100%}.jPanelMenu,body{overflow-x:hidden}#jPanelMenu-menu{display:block;position:fixed;top:0;' + c.options.direction + ":0;height:100%;z-index:-1;overflow-x:hidden;overflow-y:scroll;-webkit-overflow-scrolling:touch}.jPanelMenu-panel{position:static;" + c.options.direction + ":0;top:0;z-index:2;width:100%;min-height:100%;background:" + e + "}</style>") }, setMenuState: function (d) { var e = d ? "open" : "closed"; a("body").attr("data-menu-position", e) }, getMenuState: function () { return a("body").attr("data-menu-position") }, menuIsOpen: function () { return c.getMenuState() == "open" ? !0 : !1 }, setMenuStyle: function (d) { a(c.menu).css(d) }, setPanelStyle: function (d) { a(c.panel).css(d) }, showMenu: function () { c.setMenuStyle({ display: "block" }); c.setMenuStyle({ "z-index": "1" }) }, hideMenu: function () { c.setMenuStyle({ "z-index": "-1" }); c.setMenuStyle({ display: "none" }) }, enableTransitions: function (e, g) { var d = e / 1000, f = c.getCSSEasingFunction(g); c.disableTransitions(); a("body").append('<style id="jPanelMenu-style-transitions">.jPanelMenu-panel{-webkit-transition: all ' + d + "s " + f + "; -moz-transition: all " + d + "s " + f + "; -o-transition: all " + d + "s " + f + "; transition: all " + d + "s " + f + ";}</style>") }, disableTransitions: function () { a("#jPanelMenu-style-transitions").remove() }, enableFixedTransitions: function (f, h, e, g) { var j = e / 1000, d = c.getCSSEasingFunction(g); c.disableFixedTransitions(h); a("body").append('<style id="jPanelMenu-style-fixed-' + h + '">' + f + "{-webkit-transition: all " + j + "s " + d + "; -moz-transition: all " + j + "s " + d + "; -o-transition: all " + j + "s " + d + "; transition: all " + j + "s " + d + ";}</style>") }, disableFixedTransitions: function (d) { a("#jPanelMenu-style-fixed-" + d).remove() }, getCSSEasingFunction: function (d) { switch (d) { case "linear": return d; case "ease": return d; case "ease-in": return d; case "ease-out": return d; case "ease-in-out": return d; default: return "ease-in-out" } }, getJSEasingFunction: function (d) { switch (d) { case "linear": return d; default: return "swing" } }, openMenu: function (e) { if (typeof e == "undefined" || e == null) { e = c.options.animated } c.clearTimeouts(); c.options.before(); c.options.beforeOpen(); c.setMenuState(!0); c.setPanelStyle({ position: "relative" }); c.showMenu(); var g = { none: e ? !1 : !0, transitions: e && c.settings.transitionsSupported ? !0 : !1 }; if (g.transitions || g.none) { g.none && c.disableTransitions(); g.transitions && c.enableTransitions(c.options.openDuration, c.options.openEasing); var d = {}; d[c.options.direction] = c.options.openPosition; c.setPanelStyle(d); c.settings.shiftFixedChildren && a(c.fixedChildren).each(function () { var k = a(this).prop("tagName").toLowerCase() + " " + a(this).attr("class"), j = k.replace(" ", "."), k = k.replace(" ", "-"); g.none && c.disableFixedTransitions(k); g.transitions && c.enableFixedTransitions(j, k, c.options.openDuration, c.options.openEasing); var l = {}; l[c.options.direction] = c.options.openPosition; a(this).css(l) }); c.timeouts.afterOpen = setTimeout(function () { c.disableTransitions(); c.settings.shiftFixedChildren && a(c.fixedChildren).each(function () { var j = a(this).prop("tagName").toLowerCase() + " " + a(this).attr("class"), j = j.replace(" ", "-"); c.disableFixedTransitions(j) }); c.options.after(); c.options.afterOpen(); c.initiateContentClickListeners() }, c.options.openDuration) } else { var f = c.getJSEasingFunction(c.options.openEasing), h = {}; h[c.options.direction] = c.options.openPosition; a(c.panel).stop().animate(h, c.options.openDuration, f, function () { c.options.after(); c.options.afterOpen(); c.initiateContentClickListeners() }); c.settings.shiftFixedChildren && a(c.fixedChildren).each(function () { var j = {}; j[c.options.direction] = c.options.openPosition; a(this).stop().animate(j, c.options.openDuration, f) }) } }, closeMenu: function (e) { if (typeof e == "undefined" || e == null) { e = c.options.animated } c.clearTimeouts(); c.options.before(); c.options.beforeClose(); c.setMenuState(!1); var g = { none: e ? !1 : !0, transitions: e && c.settings.transitionsSupported ? !0 : !1 }; if (g.transitions || g.none) { g.none && c.disableTransitions(); g.transitions && c.enableTransitions(c.options.closeDuration, c.options.closeEasing); var d = {}; d[c.options.direction] = 0 + c.settings.positionUnits; c.setPanelStyle(d); c.settings.shiftFixedChildren && a(c.fixedChildren).each(function () { var k = a(this).prop("tagName").toLowerCase() + " " + a(this).attr("class"), j = k.replace(" ", "."), k = k.replace(" ", "-"); g.none && c.disableFixedTransitions(k); g.transitions && c.enableFixedTransitions(j, k, c.options.closeDuration, c.options.closeEasing); var l = {}; l[c.options.direction] = 0 + c.settings.positionUnits; a(this).css(l) }); c.timeouts.afterClose = setTimeout(function () { c.setPanelStyle({ position: c.settings.panelPosition }); c.disableTransitions(); c.settings.shiftFixedChildren && a(c.fixedChildren).each(function () { var j = a(this).prop("tagName").toLowerCase() + " " + a(this).attr("class"), j = j.replace(" ", "-"); c.disableFixedTransitions(j) }); c.hideMenu(); c.options.after(); c.options.afterClose(); c.destroyContentClickListeners() }, c.options.closeDuration) } else { var f = c.getJSEasingFunction(c.options.closeEasing), h = {}; h[c.options.direction] = 0 + c.settings.positionUnits; a(c.panel).stop().animate(h, c.options.closeDuration, f, function () { c.setPanelStyle({ position: c.settings.panelPosition }); c.hideMenu(); c.options.after(); c.options.afterClose(); c.destroyContentClickListeners() }); c.settings.shiftFixedChildren && a(c.fixedChildren).each(function () { var j = {}; j[c.options.direction] = 0 + c.settings.positionUnits; a(this).stop().animate(j, c.options.closeDuration, f) }) } }, triggerMenu: function (d) { c.menuIsOpen() ? c.closeMenu(d) : c.openMenu(d) }, initiateClickListeners: function () { a(document).on("click", c.options.trigger, function () { c.triggerMenu(c.options.animated); return !1 }) }, destroyClickListeners: function () { a(document).off("click", c.options.trigger, null) }, initiateContentClickListeners: function () { if (!c.options.closeOnContentClick) { return !1 } a(document).on("click", c.panel, function (d) { c.menuIsOpen() && c.closeMenu(c.options.animated) }); a(document).on("touchend", c.panel, function (d) { c.menuIsOpen() && c.closeMenu(c.options.animated) }) }, destroyContentClickListeners: function () { if (!c.options.closeOnContentClick) { return !1 } a(document).off("click", c.panel, null); a(document).off("touchend", c.panel, null) }, initiateKeyboardListeners: function () { var d = ["input", "textarea"]; a(document).on("keydown", function (g) { var e = a(g.target), f = !1; a.each(d, function () { e.is(this.toString()) && (f = !0) }); if (f) { return !0 } for (mapping in c.options.keyboardShortcuts) { if (g.which == c.options.keyboardShortcuts[mapping].code) { var h = c.options.keyboardShortcuts[mapping]; h.open && h.close ? c.triggerMenu(c.options.animated) : h.open && !h.close && !c.menuIsOpen() ? c.openMenu(c.options.animated) : !h.open && h.close && c.menuIsOpen() && c.closeMenu(c.options.animated); return !1 } } }) }, destroyKeyboardListeners: function () { a(document).off("keydown", null) }, setupMarkup: function () { a("html").addClass("jPanelMenu"); a("body > *").not(c.menu + ", " + c.options.excludedPanelContent).wrapAll('<div class="' + c.panel.replace(".", "") + '"/>'); a(c.options.menu).clone().attr("id", c.menu.replace("#", "")).insertAfter("body > " + c.panel) }, resetMarkup: function () { a("html").removeClass("jPanelMenu"); a("body > " + c.panel + " > *").unwrap(); a(c.menu).remove() }, init: function () { c.options.beforeOn(); c.initiateClickListeners(); Object.prototype.toString.call(c.options.keyboardShortcuts) === "[object Array]" && c.initiateKeyboardListeners(); c.setjPanelMenuStyles(); c.setMenuState(!1); c.setupMarkup(); c.setMenuStyle({ width: c.options.openPosition }); c.checkFixedChildren(); c.setPositionUnits(); c.closeMenu(!1); c.options.afterOn() }, destroy: function () { c.options.beforeOff(); c.closeMenu(); c.destroyClickListeners(); Object.prototype.toString.call(c.options.keyboardShortcuts) === "[object Array]" && c.destroyKeyboardListeners(); c.resetMarkup(); var d = {}; d[c.options.direction] = "auto"; a(c.fixedChildren).each(function () { a(this).css(d) }); c.fixedChildren = []; c.options.afterOff() } }; return { on: c.init, off: c.destroy, trigger: c.triggerMenu, open: c.openMenu, close: c.closeMenu, isOpen: c.menuIsOpen, menu: c.menu, getMenu: function () { return a(c.menu) }, panel: c.panel, getPanel: function () { return a(c.panel) } } } })(jQuery); (function (a) { a.fn.imagePreview = function (b) { a(this).change(function (d) { if (typeof FileReader == "undefined") { return true } var h = a(this); var g = d.target.files; for (var e = 0, j; j = g[e]; e++) { if (!j.type.match("image.*")) { continue } var c = new FileReader(); c.onload = (function (f) { return function (l) { var k = '<img class="file-input-thumb" width="150" src="' + l.target.result + '" title="' + f.name + '"/>'; a(b.selector).html(""); if (typeof b.selector != "undefined") { a(b.selector).html(k) } else { h.before(k) } } })(j); c.readAsDataURL(j) } }) } })(jQuery); $("#avatar").hover(function () { alert("vj") }); $("#avatar").popover({ html: true, trigger: "hover", placement: "bottom", content: function () { return '<img src="' + $(this).data("img") + '" />' } }); (function ($) { $.extend({ tablesorter: new function () { var parsers = [], widgets = []; this.defaults = { cssHeader: "header", cssAsc: "headerSortUp", cssDesc: "headerSortDown", sortInitialOrder: "asc", sortMultiSortKey: "shiftKey", sortForce: null, sortAppend: null, textExtraction: "simple", parsers: {}, widgets: [], widgetZebra: { css: ["even", "odd"] }, headers: {}, widthFixed: false, cancelSelection: true, sortList: [], headerList: [], dateFormat: "us", decimal: ".", debug: false }; function benchmark(s, d) { log(s + "," + (new Date().getTime() - d.getTime()) + "ms") } this.benchmark = benchmark; function log(s) { if (typeof console != "undefined" && typeof console.debug != "undefined") { console.log(s) } else { alert(s) } } function buildParserCache(table, $headers) { if (table.config.debug) { var parsersDebug = "" } var rows = table.tBodies[0].rows; if (table.tBodies[0].rows[0]) { var list = [], cells = rows[0].cells, l = cells.length; for (var i = 0; i < l; i++) { var p = false; if ($.metadata && ($($headers[i]).metadata() && $($headers[i]).metadata().sorter)) { p = getParserById($($headers[i]).metadata().sorter) } else { if ((table.config.headers[i] && table.config.headers[i].sorter)) { p = getParserById(table.config.headers[i].sorter) } } if (!p) { p = detectParserForColumn(table, cells[i]) } if (table.config.debug) { parsersDebug += "column:" + i + " parser:" + p.id + "\n" } list.push(p) } } if (table.config.debug) { log(parsersDebug) } return list } function detectParserForColumn(table, node) { var l = parsers.length; for (var i = 1; i < l; i++) { if (parsers[i].is($.trim(getElementText(table.config, node)), table, node)) { return parsers[i] } } return parsers[0] } function getParserById(name) { var l = parsers.length; for (var i = 0; i < l; i++) { if (parsers[i].id.toLowerCase() == name.toLowerCase()) { return parsers[i] } } return false } function buildCache(table) { if (table.config.debug) { var cacheTime = new Date() } var totalRows = (table.tBodies[0] && table.tBodies[0].rows.length) || 0, totalCells = (table.tBodies[0].rows[0] && table.tBodies[0].rows[0].cells.length) || 0, parsers = table.config.parsers, cache = { row: [], normalized: [] }; for (var i = 0; i < totalRows; ++i) { var c = table.tBodies[0].rows[i], cols = []; cache.row.push($(c)); for (var j = 0; j < totalCells; ++j) { cols.push(parsers[j].format(getElementText(table.config, c.cells[j]), table, c.cells[j])) } cols.push(i); cache.normalized.push(cols); cols = null } if (table.config.debug) { benchmark("Building cache for " + totalRows + " rows:", cacheTime) } return cache } function getElementText(config, node) { if (!node) { return "" } var t = ""; if (config.textExtraction == "simple") { if (node.childNodes[0] && node.childNodes[0].hasChildNodes()) { t = node.childNodes[0].innerHTML } else { t = node.innerHTML } } else { if (typeof (config.textExtraction) == "function") { t = config.textExtraction(node) } else { t = $(node).text() } } return t } function appendToTable(table, cache) { if (table.config.debug) { var appendTime = new Date() } var c = cache, r = c.row, n = c.normalized, totalRows = n.length, checkCell = (n[0].length - 1), tableBody = $(table.tBodies[0]), rows = []; for (var i = 0; i < totalRows; i++) { rows.push(r[n[i][checkCell]]); if (!table.config.appender) { var o = r[n[i][checkCell]]; var l = o.length; for (var j = 0; j < l; j++) { tableBody[0].appendChild(o[j]) } } } if (table.config.appender) { table.config.appender(table, rows) } rows = null; if (table.config.debug) { benchmark("Rebuilt table:", appendTime) } applyWidget(table); setTimeout(function () { $(table).trigger("sortEnd") }, 0) } function buildHeaders(table) { if (table.config.debug) { var time = new Date() } var meta = ($.metadata) ? true : false, tableHeadersRows = []; for (var i = 0; i < table.tHead.rows.length; i++) { tableHeadersRows[i] = 0 } $tableHeaders = $("thead th", table); $tableHeaders.each(function (index) { this.count = 0; this.column = index; this.order = formatSortingOrder(table.config.sortInitialOrder); if (checkHeaderMetadata(this) || checkHeaderOptions(table, index)) { this.sortDisabled = true } if (!this.sortDisabled) { $(this).addClass(table.config.cssHeader) } table.config.headerList[index] = this }); if (table.config.debug) { benchmark("Built headers:", time); log($tableHeaders) } return $tableHeaders } function checkCellColSpan(table, rows, row) { var arr = [], r = table.tHead.rows, c = r[row].cells; for (var i = 0; i < c.length; i++) { var cell = c[i]; if (cell.colSpan > 1) { arr = arr.concat(checkCellColSpan(table, headerArr, row++)) } else { if (table.tHead.length == 1 || (cell.rowSpan > 1 || !r[row + 1])) { arr.push(cell) } } } return arr } function checkHeaderMetadata(cell) { if (($.metadata) && ($(cell).metadata().sorter === false)) { return true } return false } function checkHeaderOptions(table, i) { if ((table.config.headers[i]) && (table.config.headers[i].sorter === false)) { return true } return false } function applyWidget(table) { var c = table.config.widgets; var l = c.length; for (var i = 0; i < l; i++) { getWidgetById(c[i]).format(table) } } function getWidgetById(name) { var l = widgets.length; for (var i = 0; i < l; i++) { if (widgets[i].id.toLowerCase() == name.toLowerCase()) { return widgets[i] } } } function formatSortingOrder(v) { if (typeof (v) != "Number") { i = (v.toLowerCase() == "desc") ? 1 : 0 } else { i = (v == (0 || 1)) ? v : 0 } return i } function isValueInArray(v, a) { var l = a.length; for (var i = 0; i < l; i++) { if (a[i][0] == v) { return true } } return false } function setHeadersCss(table, $headers, list, css) { $headers.removeClass(css[0]).removeClass(css[1]); var h = []; $headers.each(function (offset) { if (!this.sortDisabled) { h[this.column] = $(this) } }); var l = list.length; for (var i = 0; i < l; i++) { h[list[i][0]].addClass(css[list[i][1]]) } } function fixColumnWidth(table, $headers) { var c = table.config; if (c.widthFixed) { var colgroup = $("<colgroup>"); $("tr:first td", table.tBodies[0]).each(function () { colgroup.append($("<col>").css("width", $(this).width())) }); $(table).prepend(colgroup) } } function updateHeaderSortCount(table, sortList) { var c = table.config, l = sortList.length; for (var i = 0; i < l; i++) { var s = sortList[i], o = c.headerList[s[0]]; o.count = s[1]; o.count++ } } function multisort(table, sortList, cache) { if (table.config.debug) { var sortTime = new Date() } var dynamicExp = "var sortWrapper = function(a,b) {", l = sortList.length; for (var i = 0; i < l; i++) { var c = sortList[i][0]; var order = sortList[i][1]; var s = (getCachedSortType(table.config.parsers, c) == "text") ? ((order == 0) ? "sortText" : "sortTextDesc") : ((order == 0) ? "sortNumeric" : "sortNumericDesc"); var e = "e" + i; dynamicExp += "var " + e + " = " + s + "(a[" + c + "],b[" + c + "]); "; dynamicExp += "if(" + e + ") { return " + e + "; } "; dynamicExp += "else { " } var orgOrderCol = cache.normalized[0].length - 1; dynamicExp += "return a[" + orgOrderCol + "]-b[" + orgOrderCol + "];"; for (var i = 0; i < l; i++) { dynamicExp += "}; " } dynamicExp += "return 0; "; dynamicExp += "}; "; eval(dynamicExp); cache.normalized.sort(sortWrapper); if (table.config.debug) { benchmark("Sorting on " + sortList.toString() + " and dir " + order + " time:", sortTime) } return cache } function sortText(a, b) { return ((a < b) ? -1 : ((a > b) ? 1 : 0)) } function sortTextDesc(a, b) { return ((b < a) ? -1 : ((b > a) ? 1 : 0)) } function sortNumeric(a, b) { return a - b } function sortNumericDesc(a, b) { return b - a } function getCachedSortType(parsers, i) { return parsers[i].type } this.construct = function (settings) { return this.each(function () { if (!this.tHead || !this.tBodies) { return } var $this, $document, $headers, cache, config, shiftDown = 0, sortOrder; this.config = {}; config = $.extend(this.config, $.tablesorter.defaults, settings); $this = $(this); $headers = buildHeaders(this); this.config.parsers = buildParserCache(this, $headers); cache = buildCache(this); var sortCSS = [config.cssDesc, config.cssAsc]; fixColumnWidth(this); $headers.click(function (e) { $this.trigger("sortStart"); var totalRows = ($this[0].tBodies[0] && $this[0].tBodies[0].rows.length) || 0; if (!this.sortDisabled && totalRows > 0) { var $cell = $(this); var i = this.column; this.order = this.count++ % 2; if (!e[config.sortMultiSortKey]) { config.sortList = []; if (config.sortForce != null) { var a = config.sortForce; for (var j = 0; j < a.length; j++) { if (a[j][0] != i) { config.sortList.push(a[j]) } } } config.sortList.push([i, this.order]) } else { if (isValueInArray(i, config.sortList)) { for (var j = 0; j < config.sortList.length; j++) { var s = config.sortList[j], o = config.headerList[s[0]]; if (s[0] == i) { o.count = s[1]; o.count++; s[1] = o.count % 2 } } } else { config.sortList.push([i, this.order]) } } setTimeout(function () { setHeadersCss($this[0], $headers, config.sortList, sortCSS); appendToTable($this[0], multisort($this[0], config.sortList, cache)) }, 1); return false } }).mousedown(function () { if (config.cancelSelection) { this.onselectstart = function () { return false }; return false } }); $this.bind("update", function () { this.config.parsers = buildParserCache(this, $headers); cache = buildCache(this) }).bind("sorton", function (e, list) { $(this).trigger("sortStart"); config.sortList = list; var sortList = config.sortList; updateHeaderSortCount(this, sortList); setHeadersCss(this, $headers, sortList, sortCSS); appendToTable(this, multisort(this, sortList, cache)) }).bind("appendCache", function () { appendToTable(this, cache) }).bind("applyWidgetId", function (e, id) { getWidgetById(id).format(this) }).bind("applyWidgets", function () { applyWidget(this) }); if ($.metadata && ($(this).metadata() && $(this).metadata().sortlist)) { config.sortList = $(this).metadata().sortlist } if (config.sortList.length > 0) { $this.trigger("sorton", [config.sortList]) } applyWidget(this) }) }; this.addParser = function (parser) { var l = parsers.length, a = true; for (var i = 0; i < l; i++) { if (parsers[i].id.toLowerCase() == parser.id.toLowerCase()) { a = false } } if (a) { parsers.push(parser) } }; this.addWidget = function (widget) { widgets.push(widget) }; this.formatFloat = function (s) { var i = parseFloat(s); return (isNaN(i)) ? 0 : i }; this.formatInt = function (s) { var i = parseInt(s); return (isNaN(i)) ? 0 : i }; this.isDigit = function (s, config) { var DECIMAL = "\\" + config.decimal; var exp = "/(^[+]?0(" + DECIMAL + "0+)?$)|(^([-+]?[1-9][0-9]*)$)|(^([-+]?((0?|[1-9][0-9]*)" + DECIMAL + "(0*[1-9][0-9]*)))$)|(^[-+]?[1-9]+[0-9]*" + DECIMAL + "0+$)/"; return RegExp(exp).test($.trim(s)) }; this.clearTableBody = function (table) { if ($.browser.msie) { function empty() { while (this.firstChild) { this.removeChild(this.firstChild) } } empty.apply(table.tBodies[0]) } else { table.tBodies[0].innerHTML = "" } } } }); $.fn.extend({ tablesorter: $.tablesorter.construct }); var ts = $.tablesorter; ts.addParser({ id: "text", is: function (s) { return true }, format: function (s) { return $.trim(s.toLowerCase()) }, type: "text" }); ts.addParser({ id: "digit", is: function (s, table) { var c = table.config; return $.tablesorter.isDigit(s, c) }, format: function (s) { return $.tablesorter.formatFloat(s) }, type: "numeric" }); ts.addParser({ id: "currency", is: function (s) { return /^[Â£$â‚¬?.]/.test(s) }, format: function (s) { return $.tablesorter.formatFloat(s.replace(new RegExp(/[^0-9.]/g), "")) }, type: "numeric" }); ts.addParser({ id: "ipAddress", is: function (s) { return /^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(s) }, format: function (s) { var a = s.split("."), r = "", l = a.length; for (var i = 0; i < l; i++) { var item = a[i]; if (item.length == 2) { r += "0" + item } else { r += item } } return $.tablesorter.formatFloat(r) }, type: "numeric" }); ts.addParser({ id: "url", is: function (s) { return /^(https?|ftp|file):\/\/$/.test(s) }, format: function (s) { return jQuery.trim(s.replace(new RegExp(/(https?|ftp|file):\/\//), "")) }, type: "text" }); ts.addParser({ id: "isoDate", is: function (s) { return /^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(s) }, format: function (s) { return $.tablesorter.formatFloat((s != "") ? new Date(s.replace(new RegExp(/-/g), "/")).getTime() : "0") }, type: "numeric" }); ts.addParser({ id: "percent", is: function (s) { return /\%$/.test($.trim(s)) }, format: function (s) { return $.tablesorter.formatFloat(s.replace(new RegExp(/%/g), "")) }, type: "numeric" }); ts.addParser({ id: "usLongDate", is: function (s) { return s.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/)) }, format: function (s) { return $.tablesorter.formatFloat(new Date(s).getTime()) }, type: "numeric" }); ts.addParser({ id: "shortDate", is: function (s) { return /\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(s) }, format: function (s, table) { var c = table.config; s = s.replace(/\-/g, "/"); if (c.dateFormat == "us") { s = s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/, "$3/$1/$2") } else { if (c.dateFormat == "uk") { s = s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/, "$3/$2/$1") } else { if (c.dateFormat == "dd/mm/yy" || c.dateFormat == "dd-mm-yy") { s = s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/, "$1/$2/$3") } } } return $.tablesorter.formatFloat(new Date(s).getTime()) }, type: "numeric" }); ts.addParser({ id: "time", is: function (s) { return /^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(s) }, format: function (s) { return $.tablesorter.formatFloat(new Date("2000/01/01 " + s).getTime()) }, type: "numeric" }); ts.addParser({ id: "metadata", is: function (s) { return false }, format: function (s, table, cell) { var c = table.config, p = (!c.parserMetadataName) ? "sortValue" : c.parserMetadataName; return $(cell).metadata()[p] }, type: "numeric" }); ts.addWidget({ id: "zebra", format: function (table) { if (table.config.debug) { var time = new Date() } $("tr:visible", table.tBodies[0]).filter(":even").removeClass(table.config.widgetZebra.css[1]).addClass(table.config.widgetZebra.css[0]).end().filter(":odd").removeClass(table.config.widgetZebra.css[0]).addClass(table.config.widgetZebra.css[1]); if (table.config.debug) { $.tablesorter.benchmark("Applying Zebra widget", time) } } }) })(jQuery);
